%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Contents: Math typesetting with LaTeX
% $Id: math.tex,v 1.2 2002/05/26 22:44:33 zuohuijun Exp $
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 
%\chapter{Typesetting Mathematical Formulae}
%
\chapter{数学公式}

%\begin{intro}
%  Now you are ready! In this chapter, we will attack the main strength
%  of \TeX{}: mathematical typesetting. But be warned, this chapter
%  only scratches the surface. While the things explained here are
%  sufficient for many people, don't despair if you can't find a
%  solution to your mathematical typesetting needs here. It is highly likely
%  that your problem is addressed in \AmS-\LaTeX{}%
%  \footnote{\texttt{CTAN:/tex-archive/macros/latex/required/amslatex}}
%  or some other package.
%\end{intro}
\begin{intro}
   准备好了！接下来我们就要领略到~\TeX{}~强大之所在：数学符号和公式
   的排版。本章所介绍的内容基本可以满足大部分人的需要。即便如此，也只
   是对此项功能的概括性的描述。如果不能在此章中找到你所需要的排版数学
   公式的方法，那么你可以在~\AmS-\LaTeX{}
   \footnote{\texttt{CTAN:/tex-archive/macros/latex/required/amslatex}}
   或其它宏集中找到答案。
\end{intro}
%  
%\section{General}

\section{基本知识}

%\LaTeX{} has a special mode for typesetting \wi{mathematics}.
%Mathematical text within a paragraph is entered between \ci{(}
%and \ci{)}, \index{$@\texttt{\$}} %$
%between \texttt{\$} and \texttt{\$} or between %}
%\verb|\begin{|\ei{math}\verb|}| and \verb|\end{math}|.\index{formulae}
%
\LaTeX{}~使用一种特殊的模式来排版数学符号和公式（\wi{mathematics}）。
段落中的数学表达式应该置于~\ci{(}~和~\ci{)}，\index{$@\texttt{\$}}
\texttt{\$}~和~\texttt{\$}~或者~\verb|\begin{|\ei{math}\verb|}|~和~
\verb|\end{math}|~之间。\index{formulae}

\begin{example}
Add $a$ squared and $b$ squared 
to get $c$ squared. Or, using 
a more mathematical approach:
$c^{2}=a^{2}+b^{2}$
\end{example}

\begin{example}
\TeX{} is pronounced as 
$\tau\epsilon\chi$.\\[6pt]
100~m$^{3}$ of water\\[6pt]
This comes from my $\heartsuit$
\end{example}

%It is preferable to \emph{display} larger mathematical equations or formulae,
%rather than to typeset them on separate lines. This means you enclose them
%in \ci{[} and \ci{]} or between
%\verb|\begin{|\ei{displaymath}\verb|}| and
%  \verb|\end{displaymath}|.  This produces formulae which are not
%numbered. If you want \LaTeX{} to number them, you can use the
%\ei{equation} environment.

对于较大的数学式子，最好的方法是使用\emph{显示式样}来排版：
将它们放置于~\ci{[}~和~\ci{]}~或~\verb|\begin{|\ei{displaymath}\verb|}|~和~
\verb|\end{displaymath}|~之间。这样排版出的公式是没有编号的。如果你希望~\LaTeX{}~
对其添加编号的话，可以使用~\ei{equation}~环境来达到这一目的。

\begin{example}
Add $a$ squared and $b$ squared 
to get $c$ squared. Or, using 
a more mathematical approach:
\begin{displaymath}
c^{2}=a^{2}+b^{2}
\end{displaymath}
And just one more line.
\end{example}
%
%You can reference an equation with \ci{label} and \ci{ref}

利用~\ci{label}~和~\ci{ref}~对公式加以引用。

\begin{example}
\begin{equation} \label{eq:eps}
\epsilon > 0
\end{equation}
From (\ref{eq:eps}), we gather 
\ldots
\end{example}
%
%Note that expressions will be typeset in a different style if displayed:

对比一下用不同式样排版所得到的结果：

\begin{example}
$\lim_{n \to \infty} 
\sum_{k=1}^n \frac{1}{k^2} 
= \frac{\pi^2}{6}$
\end{example}
\begin{example}
\begin{displaymath}
\lim_{n \to \infty} 
\sum_{k=1}^n \frac{1}{k^2} 
= \frac{\pi^2}{6}
\end{displaymath}
\end{example}

%There are differences between \emph{math mode} and \emph{text mode}. For
%example in \emph{math mode}: 

\emph{数学模式}和\emph{文本模式}有很多不同之处。例如在数学模式中：

%\begin{enumerate}
%
%\item Most spaces and linebreaks do not have any significance, as all spaces
%either are derived logically from the mathematical expressions or
%have to be specified using special commands such as \ci{,}, \ci{quad} or
%\ci{qquad}.
% 
%\item Empty lines are not allowed. Only one paragraph per formula.
%
%\item Each letter is considered to be the name of a variable and will be
%typeset as such. If you want to typeset normal text within a formula
%(normal upright font and normal spacing) then you have to enter the
%text using the \verb|\textrm{...}| commands.
%\end{enumerate}

\begin{enumerate}

\item 空格和分行都将被忽略。所有的空格或是由数学表达式逻辑的衍生，
      或是由特殊的命令如~\ci{,}，\ci{quad}~或~\ci{qquad}~来得到。
\item 不允许有空行，每个公式中只能有一个段落。
\item 每个字符都将被看作是一个变量名并以此来排版。如果你希望在公式中
      出现普通的文本（使用正体字并可以有空格），那么你必须使用命令~
      \verb|\textrm{...}|~来输入这些文本。
\end{enumerate}

\begin{example}
\begin{equation}
\forall x \in \mathbf{R}:
\qquad x^{2} \geq 0
\end{equation}
\end{example}
\begin{example}
\begin{equation}
x^{2} \geq 0\qquad
\textrm{for all }x\in\mathbf{R}
\end{equation}
\end{example}

%%
%% Add AMSSYB Package ... Blackboard bold .... R for realnumbers
%%
%Mathematicians can be very fussy about which symbols are used:
%it would be conventional here to use `\wi{blackboard bold}',
%\index{bold symbols} which is obtained using \ci{mathbb} from the
%package \pai{amsfonts} or \pai{amssymb}.
%\ifx\mathbb\undefined\else
%The last example becomes
%
数学家们通常对使用什么样的符号非常挑剔：习惯上使用“\textbf{空心粗体}”
（\wi{blackboard bold}）来表示实数集合。这种字体可用~\pai{amsfonts}~
或~\pai{amssymb}~宏包中的命令~\ci{mathbb}~来得到。
\ifx\mathbb\undefined\else
上面的例子变为：

\begin{example}
\begin{displaymath}
x^{2} \geq 0\qquad
\textrm{for all }x\in\mathbb{R}
\end{displaymath}
\end{example}
\fi

%\section{Grouping in Math Mode}
\section{数学模式中的分组}

%Most math mode commands act only on the next character. So if you
%want a command to affect several characters, you have to group them
%together using curly braces: \verb|{...}|.

数学模式中的命令仅对其后面第一个字符起作用。所以，如果你希望某一命令作用
于多个字符的话，那么你就必须将它们放置于括号中：\verb|{...}|。

\begin{example}
\begin{equation}
a^x+y \neq a^{x+y}
\end{equation}
\end{example}
% 
%\section{Building Blocks of a Mathematical Formula}
\section{建立数学公式模块}

%In this section, the most important commands used in mathematical
%typesetting will be described. Take a look at section~\ref{symbols} on
%page~\pageref{symbols} for a detailed list of commands for typesetting
%mathematical symbols.
%
在这一节中将介绍排版数学符号和公式的最重要的命令。详细的命令列表可参考
第~\pageref{symbols}~页第~\ref{symbols}~节。

%\textbf{Lowercase \wi{Greek letters}} are entered as \verb|\alpha|,
% \verb|\beta|, \verb|\gamma|, \ldots, uppercase letters
%are entered as \verb|\Gamma|, \verb|\Delta|, \ldots\footnote{There is no
%  uppercase Alpha defined in \LaTeXe{} because it looks the same as a
%  normal roman A. Once the new math coding is done, things will
%  change.} 
%
\textbf{小写希腊字母}（\textbf{Lowercase \wi{Greek letters}} ）
的输入命令为：\verb|\alpha|, \verb|\beta|, \verb|\gamma|, \ldots，
相应地，大写形式的输入命令为：\verb|\Gamma|, \verb|\Delta|, \ldots。
\footnote{\LaTeXe{}~没有定义~Alpha~的大写形式，因为它和普通的罗马字体~
\textrm{A}~很像。也许新的数学编码完成后会有所变化。}
%
\begin{example}
$\lambda,\xi,\pi,\mu,\Phi,\Omega$
\end{example}
%\enlargethispage{\baselineskip}
%\pagebreak[4]

%\textbf{Exponents and Subscripts} can be specified using\index{exponent}\index{subscript}
%the \verb|^|\index{^@\verb"|^"|} and the \verb|_|\index{_@\verb"|_"|} character.
%
\textbf{指数和下标}\index{exponent}\index{subscript}可用~\verb|^|\index{^@\verb"|^"|}~
和~\verb|_|\index{_@\verb"|_"|}~后加相应的字符来实现。
\begin{example}
$a_{1}$ \qquad $x^{2}$ \qquad
$e^{-\alpha t}$ \qquad
$a^{3}_{ij}$\\
$e^{x^2} \neq {e^x}^2$
\end{example}

%The \textbf{\wi{square root}} is entered as \ci{sqrt}, the
%$n^\mathrm{th}$ root is generated with \verb|\sqrt[|$n$\verb|]|. The size of
%the root sign is determined automatically by \LaTeX. If just the sign
%is needed, use \verb|\surd|.
%
\textbf{平方根}（\textbf{\wi{square root}}）的输入命令为：\ci{sqrt}，
$n$~次方根相应地为:~\verb|\sqrt[|$n$\verb|]|。方根符号的大小由~\LaTeX{}自动
加以调整。也可用~\verb|\surd|~仅给出符号。

\begin{example}
$\sqrt{x}$ \qquad 
$\sqrt{ x^{2}+\sqrt{y} }$ 
\qquad $\sqrt[3]{2}$\\[3pt]
$\surd[x^2 + y^2]$
\end{example}

%The commands \ci{overline} and \ci{underline} create
%\textbf{horizontal lines} directly over or under an expression.
%\index{horizontal!line}
%
命令~\ci{overline}~和~\ci{underline}~在表达式的上、下方
画出水平线。\index{horizontal!line}

\begin{example}
$\overline{m+n}$ \qquad 
$\underline{m+n}$
\end{example}

%The commands \ci{overbrace} and \ci{underbrace} create
%long \textbf{horizontal braces} over or under an expression.
%\index{horizontal!brace}

命令~\ci{overbrace}~和~\ci{underbrace}~在表达式的上、下方
给出一水平的大括号。\index{horizontal!brace}

\begin{example}
$\underbrace{ a+b+\cdots+z }_{26}$ 
\end{example}

%\index{mathematical!accents} To add mathematical accents such as small
%arrows or \wi{tilde} signs to variables, you can use the commands
%given in Table~\ref{mathacc} on page \pageref{mathacc}.  Wide hats and
%tildes covering several characters are generated with \ci{widetilde}
%and \ci{widehat}.  The \verb|'|\index{'@\verb"|'"|} symbol gives a
%\wi{prime}.
%% a dash is --
%
\index{mathematical!accents} 数学重音符号如小箭头和~$\tilde{}$
（\wi{tilde}）等的输入命令可参考第\nbs\pageref{mathacc}~页中的表
\nbs\ref{mathacc}。可覆盖多个字符的宽重音符号可由~\ci{widetilde}~
和~\ci{widehat}~等得到。字符~\verb|'|\index{'@\verb"|'"|}~将生
成~$'$（\wi{prime}）。

\begin{example}
\begin{displaymath}
y=x^{2}\qquad y'=2x\qquad y''=2
\end{displaymath}
\end{example}

%\textbf{Vectors}\index{vectors} often are specified by adding small
%\wi{arrow symbols} on top of a variable. This is done with the
%\ci{vec} command. The two commands \ci{overrightarrow} and
%\ci{overleftarrow} are useful to denote the vector from $A$ to $B$.

\textbf{向量}（\textbf{Vectors}\index{vectors}）通常用上方有小箭头
（\wi{arrow symbols}）的变量表示。这可由~\ci{vec}~得到。另两个
命令~\ci{overrightarrow}~和~\ci{overleftarrow}~在定义从~$A$~到~$B$~
的向量时非常有用。

\begin{example}
\begin{displaymath}
\vec a\quad\overrightarrow{AB}
\end{displaymath}
\end{example}
%
%Usually you don't typeset an explicit dot sign to indicate
%the multiplication operation. However sometimes it is written
%to help the reader's eyes in grouping a formula.
%Then you should use \ci{cdot}

一般情况下，乘法算式中的圆点符可以省略。然而有时为了帮助读者
解读复杂的公式，也有必要用命令~\ci{cdot}~将圆点符表示出来。
\begin{example}
\begin{displaymath}
v = {\sigma}_1 \cdot {\sigma}_2
    {\tau}_1 \cdot {\tau}_2
\end{displaymath}
\end{example}

%Names of log-like functions are often typeset in an upright
%font and not in italic like variables. Therefore \LaTeX{} supplies the
%following commands to typeset the most important function names:
%\index{mathematical!functions}
%
函数名通常用罗马字体正体排版，而不是像变量名一样用意大利体排版。
因此，\LaTeX{}提供下述命令来排版最重要的一些函数名。
\index{mathematical!functions}

\begin{tabular}{lllllll}
\ci{arccos} &  \ci{cos}  &  \ci{csc} &  \ci{exp} &  \ci{ker}    & \ci{limsup} & \ci{min} \\
\ci{arcsin} &  \ci{cosh} &  \ci{deg} &  \ci{gcd} &  \ci{lg}     & \ci{ln}     & \ci{Pr}  \\
\ci{arctan} &  \ci{cot}  &  \ci{det} &  \ci{hom} &  \ci{lim}    & \ci{log}    & \ci{sec} \\
\ci{arg}    &  \ci{coth} &  \ci{dim} &  \ci{inf} &  \ci{liminf} & \ci{max}    & \ci{sin} \\
\ci{sinh} & \ci{sup} & \ci{tan} & \ci{tanh}\\
\end{tabular}

\begin{example}
\[\lim_{x \rightarrow 0}
\frac{\sin x}{x}=1\]
\end{example}

%For the \wi{modulo function}, there are two commands: \ci{bmod} for the
%binary operator ``$a \bmod b$'' and \ci{pmod}
%for expressions
%such as ``$x\equiv a \pmod{b}$.''
%
排版模函数（\wi{modulo function}）有两个命令：
\ci{bmod}~用于二元运算符~``$a \bmod b$''，
\ci{pmod}~用于表达式，例如~``$x\equiv a \pmod{b}$''。

%A built-up \textbf{\wi{fraction}} is typeset with the
%\ci{frac}\verb|{...}{...}| command.
%Often the slashed form $1/2$ is preferable, because it looks better
%for small amounts of `fraction material.'

\textbf{分数}（\textbf{\wi{fraction}}）使用~\ci{frac}\verb|{...}{...}|~排版。
一般来说，$1/2$~这种形式更受欢迎，因为对于少量的分式，它看起来更好些。

\begin{example}
$1\frac{1}{2}$~hours
\begin{displaymath}
\frac{ x^{2} }{ k+1 }\qquad
x^{ \frac{2}{k+1} }\qquad
x^{ 1/2 }
\end{displaymath}
\end{example}

%To typeset binomial coefficients or similar structures, you can use
%either the command \verb|{... |\ci{choose}\verb| ...}| or 
%\verb|{... |\ci{atop}\verb| ...}|. The second command produces the
%same output as the first one, but without braces.
%\footnote{Note that the usage of these old-style commands is expressly forbidden
%by the \pai{amsmath} package. They are replaced by
%\ci{binom} and \ci{genfrac}. The latter is a superset of all related
%construct, e.g. you may get a similar construct to \ci{atop}
%by \texttt{$\backslash$newcommand\{$\backslash$newatop\}[2]\{$\backslash$genfrac\{\}\{\}\{0pt\}\{1\}\{\#1\}\{\#2\}\}}.}
%
排版二项系数或类似的结构可以使用命令~\verb|{... |\ci{choose}\verb| ...}|~
或~\verb|{... |\ci{atop}\verb| ...}|。第二个命令与第一个命令的
输出相同，只是没有括号\footnote{注意这些旧命令在~\pai{amsmath}~宏集中
禁止使用，而是用~\ci{binom}和~\ci{genfrac}来代替。后者是所有相关结构的超集，
例如可以通过~\texttt{$\backslash$newcommand\{$\backslash$newatop\}[2]\%
{$\backslash$genfrac\{\}\{\}\{0pt\}\{1\}\{\#1\}\{\#2\}\}}}~来得到~\ci{atop}~
的一个类似结构}。

\begin{example}
\begin{displaymath}
{n \choose k}\qquad {x \atop y+2}
\end{displaymath}
\end{example}

%For binary relations it may be useful to stack symbols over each other.
%\ci{stackrel} puts the symbol given
%in the first argument in superscript-like size over the second which
%is set in its usual position.
%
对于二元关系，将符号堆在一起可能更有用。\ci{stackrel}~将第一项中的符号
以上标大小放在处于正常位置的第二项上。

\begin{example}
\begin{displaymath}
\int f_N(x) \stackrel{!}{=} 1
\end{displaymath}
\end{example}

%The \textbf{\wi{integral operator}} is generated with \ci{int}, the
%\textbf{\wi{sum operator}} with \ci{sum} and the \textbf{\wi{product operator}}
%with \ci{prod}. The upper and lower limits are specified with~\verb|^|
%and~\verb|_| like subscripts and superscripts.
%\footnote{\AmS-\LaTeX{} in addition has multiline super-/subscripts}
%
\textbf{积分运算符}（\textbf{\wi{integral operator}}）用~\ci{int}~来生成。
\textbf{求和运算符}（\textbf{\wi{sum operator}}）由~\ci{sum}~生成。
\textbf{乘积运算符}（\textbf{\wi{product operator}}）由~\ci{prod}~生成。
上限和下限用\nbs\verb|^|~和\nbs\verb|_|~来生成，类似于上标和下标
\footnote{\AmS-\LaTeX{}另外有多行上标/下标。}。

\begin{example}
\begin{displaymath}
\sum_{i=1}^{n} \qquad
\int_{0}^{\frac{\pi}{2}} \qquad
\prod_\epsilon
\end{displaymath}
\end{example}

%For \textbf{\wi{braces}} and other \wi{delimiters}, there exist all
%types of symbols in \TeX{} (e.g.~$[\;\langle\;\|\;\updownarrow$).
%Round and square braces can be entered with the corresponding keys,
%curly braces with \verb|\{|, all other delimiters are generated with
%special commands (e.g.~\verb|\updownarrow|). For a list of all
%delimiters available, check table~\ref{tab:delimiters} on page
%\pageref{tab:delimiters}.

对于\textbf{括号}（\textbf{\wi{braces}}）和其它分隔符（\wi{delimiters}），
在~\TeX{}中有各种各样的符号（例如~$[\;\langle\;\|\;\updownarrow$）。
圆括号和方括号可以用相应的键输入。花括号用~\verb|\{|。其它的分隔符用
专门命令（例如~\verb|\updownarrow|）来生成。所有可使用的分隔符列表可以
参考第~\pageref{tab:delimiters}~页中的表~\ref{tab:delimiters}。

\begin{example}
\begin{displaymath}
{a,b,c}\neq\{a,b,c\}
\end{displaymath}
\end{example}

%If you put the command \ci{left} in front of an opening delimiter or
%\ci{right} in front of a closing delimiter, \TeX{} will automatically
%determine the correct size of the delimiter. Note that you must close
%every \ci{left} with a corresponding \ci{right}, and that the size is
%determined correctly only if both are typeset on the same line. If you
%don't want anything on the right, use the invisible `\ci{right.}'!

如果将命令~\ci{left}~放在开分隔符前，\TeX{}会自动决定分隔符的正确大小。
注意必须用对应的右分隔符~\ci{right}~来关闭每一个左分隔符~\ci{left}，
并且只有当这两个分隔符排在同一行时大小才会被正确确定。如果不想在右边
放任何东西，使用隐藏的~`\ci{right.}'!

\begin{example}
\begin{displaymath}
1 + \left( \frac{1}{ 1-x^{2} }
    \right) ^3
\end{displaymath}
\end{example}

%\pagebreak[4]
%In some cases it is necessary to specify the correct size of a
%mathematical delimiter\index{mathematical!delimiter} by hand,
%which can be done using the commands \ci{big}, \ci{Big}, \ci{bigg} and
%\ci{Bigg} as prefixes to most delimiter commands.\footnote{These
%  commands do not work as expected if a size changing command has been
%  used, or the \texttt{11pt} or \texttt{12pt} option has been
%  specified.  Use the \pai{exscale} or \pai{amsmath} packages to
%  correct this behaviour.}

某些情况下有必要手工指出数学分隔符的正确大小，这可以使用命令~\ci{big}, 
\ci{Big}, \ci{bigg}~及~\ci{Bigg}~作为大多数分隔符命令的前缀
\footnote{如果使用了改变大小的命令或者指定了~\texttt{11pt}~或~
\texttt{12pt}~选项，这些命令并不像预料的那样起作用。
使用~\pai{exscale}或~\pai{amsmath}宏集来修正这种行为。}。

\begin{example}
$\Big( (x+1) (x-1) \Big) ^{2}$\\
$\big(\Big(\bigg(\Bigg($\quad
$\big\}\Big\}\bigg\}\Bigg\}$\quad
$\big\|\Big\|\bigg\|\Bigg\|$
\end{example}

%To enter \textbf{\wi{three dots}} into a formula, you can use several
%commands. \ci{ldots} typesets the dots on the baseline, \ci{cdots}
%sets them centred. Besides that, there are the commands \ci{vdots} for
%vertical and \ci{ddots} for \wi{diagonal dots}.\index{vertical
%  dots}\index{horizontal!dots} You can find another example in section~\ref{sec:vert}.

将\textbf{三个圆点}（\textbf{\wi{three dots}}）输入公式可以使用几种命令。
\ci{ldots}~将点排在基线上。\ci{cdots}~将它们设置为居中。除此之外，
可用~\ci{vdots}~命令使其垂直，而用~\ci{ddots}~将得到对角型（\wi{diagonal dots}）。
第~\ref{sec:vert}~节中还有其它的例子。

\begin{example}
\begin{displaymath}
x_{1},\ldots,x_{n} \qquad
x_{1}+\cdots+x_{n}
\end{displaymath}
\end{example}
 
%\section{Math Spacing}

\section{数学空格}

%\index{math spacing} If the spaces within formulae chosen by \TeX{}
%are not satisfactory, they can be adjusted by inserting special
%spacing commands. There are some commands for small spaces: \ci{,} for
%$\frac{3}{18}\:\textrm{quad}$ (\demowidth{0.166em}), \ci{:} for $\frac{4}{18}\:
%\textrm{quad}$ (\demowidth{0.222em}) and \ci{;} for $\frac{5}{18}\:
%\textrm{quad}$ (\demowidth{0.277em}).  The escaped space character
%\verb*.\ . generates a medium sized space and \ci{quad}
%(\demowidth{1em}) and \ci{qquad} (\demowidth{2em}) produce large
%spaces. The size of a \ci{quad} corresponds to the width of the
%character `M' of the current font.  The \verb|\!|\cih{"!} command produces a
%negative space of $-\frac{3}{18}\:\textrm{quad}$ (\demowidth{0.166em}).

如果公式中由~\TeX{}选择的的空格不令人满意，可以通过插入特殊的空格命令来进行调节。
有几个命令用于小空格：\ci{,}~对应于~$\frac{3}{18}\:\textrm{quad}$ (\demowidth{0.166em}), 
\ci{:}~对应于~$\frac{4}{18}\:\textrm{quad}$ (\demowidth{0.222em})，
\ci{;}~对应于~$\frac{5}{18}\:\textrm{quad}$ (\demowidth{0.277em})。
脱离的空格符号~\verb*.\ .~生成中等大小的空格。\ci{quad} (\demowidth{1em})~和~
\ci{qquad} (\demowidth{2em})~产生大空格。\ci{quad}~的大小对应于目前字体中字
符~`M'~的宽度。\verb|\!|\cih{"!}~命令生成负空格~$-\frac{3}{18}\:\textrm{quad}$ 
(\demowidth{0.166em})。

\begin{example}
\newcommand{\ud}{\mathrm{d}}
\begin{displaymath}
\int\!\!\!\int_{D} g(x,y)
  \, \ud x\, \ud y 
\end{displaymath}
instead of 
\begin{displaymath}
\int\int_{D} g(x,y)\ud x \ud y
\end{displaymath}
\end{example}
%Note that `d' in the differential is conventionally set in roman.
注意微分中的~`d'~按惯例设为罗马字体。

%\AmS-\LaTeX{} provides another way for finetuning
%the spacing between multiple integral signs,
%namely the \ci{iint}, \ci{iiint}, \ci{iiiint}, and \ci{idotsint} commands.
%With the \pai{amsmath} package loaded, the above example can be
%typeset this way:
\AmS-\LaTeX{}提供微调多重积分符号间空格的另一种方式，也就是~\ci{iint}, \ci{iiint}, 
\ci{iiiint}~和~\ci{idotsint}~等命令。使用~\pai{amsmath}~宏集，以上的例子
可以用下面这种方式来排版。

\begin{example}
\newcommand{\ud}{\mathrm{d}}
\begin{displaymath}
\iint_{D} \, \ud x \, \ud y
\end{displaymath}
\end{example}

%See the electronic document testmath.tex (distributed with
%\AmS-\LaTeX) or Chapter 8 of ``The LaTeX Companion'' for further details.
更详细的介绍请参考电子文件~testmath.tex（包括在~\AmS-\LaTeX{}中）
或~``The LaTeX Companion''~中的第八章。

%\section{Vertically Aligned Material}
%\label{sec:vert}
\section{垂直对齐}\label{sec:vert}

%To typeset \textbf{arrays}, use the \ei{array} environment. It works
%somewhat similar to the \texttt{tabular} environment. The \verb|\\| command is
%used to break the lines.
排版~\textbf{arrays}~
使用~\ei{array}~环境来排版\textbf{数组}（\textbf{arrays}）。
它有些类似于\texttt{tabular}环境，使用~\verb|\\|~命令来分行。

\begin{example}
\begin{displaymath}
\mathbf{X} =
\left( \begin{array}{ccc}
x_{11} & x_{12} & \ldots \\
x_{21} & x_{22} & \ldots \\
\vdots & \vdots & \ddots
\end{array} \right)
\end{displaymath}
\end{example}

%The \ei{array} environment can also be used to typeset expressions which have one
%big delimiter by using a ``\verb|.|'' as an invisible \ci{right} 
%delimiter:
\ei{array}~环境也可以使用~``\verb|.|''~作为隐藏右分隔符来排版只有一个大分隔符的
表达式。

\begin{example}
\begin{displaymath}
y = \left\{ \begin{array}{ll}
 a & \textrm{if $d>c$}\\
 b+x & \textrm{in the morning}\\
 l & \textrm{all day long}
  \end{array} \right.
\end{displaymath}
\end{example}

%As within the \verb|tabular| environment you can also
%draw lines in the \ei{array} environent, e.g. separating the entries of
%a matrix:
像在~\verb|tabular|~环境中一样，也可以在~\ei{array}~环境中画线。
例如分隔矩阵中的元素。

\begin{example}
\begin{displaymath}
\left(\begin{array}{c|c}
 1 & 2 \\
\hline
3 & 4
\end{array}\right)
\end{displaymath}
\end{example}

%For formulae running over several lines or for \wi{equation system}s,
%you can use the environments \ei{eqnarray}, and \verb|eqnarray*|
%instead of \texttt{equation}. In \texttt{eqnarray} each line gets an
%equation number. The \verb|eqnarray*| does not number anything.

对于分布于几行的公式或者方程组（\wi{equation system}），可以使用~\ei{eqnarray}~
和~\verb|eqnarray*|~环境来代替~\texttt{equation}。在~\texttt{eqnarray}~中，
每一行都会有一个方程编号。\verb|eqnarray*|~不对方程进行编号。

%The \texttt{eqnarray} and the \verb|eqnarray*| environments work like
%a 3-column table of the form \verb|{rcl}|, where the middle column can
%be used for the equal sign or the not-equal sign. Or any other sign
%you see fit. The \verb|\\| command breaks the lines.

\texttt{eqnarray}~和~\verb|eqnarray*|~环境类似于~\verb|{rcl}|~形式的三列
表格。中间的一列可以用作等号或不等号，或者其它看起来适合的符号。使用~\verb|\\|~
命令分行。

\begin{example}
\begin{eqnarray}
f(x) & = & \cos x     \\
f'(x) & = & -\sin x   \\
\int_{0}^{x} f(y)dy &
 = & \sin x
\end{eqnarray}
\end{example}

%Notice that the space on either side of the 
%the equal signs is rather large. It can be reduced by setting
%\verb|\setlength\arraycolsep{2pt}|, as in the next example.

\noindent 注意等号每边的空格都很大。可通过设定~\verb|\setlength\arraycolsep{2pt}|~来
减小空格，如下一个例子中所示。

%\index{long equations} \textbf{Long equations} will not be
%automatically divided into neat bits.  The author has to specify
%where to break them and how much to indent. The following two methods
%are the most common ones used to achieve this.
\index{long quations} \textbf{长方程}不会自动地分割成小的。作者必须指定在哪里
分割以及缩进多少。以下是最常使用的两种方法。

\begin{example}
{\setlength\arraycolsep{2pt}
\begin{eqnarray}
\sin x & = & x -\frac{x^{3}}{3!}
     +\frac{x^{5}}{5!}-{}
                    \nonumber\\
 & & {}-\frac{x^{7}}{7!}+{}\cdots
\end{eqnarray}}
\end{example}
\begin{example}
\begin{eqnarray}
\lefteqn{ \cos x = 1
     -\frac{x^{2}}{2!} +{} }
                    \nonumber\\
 & & {}+\frac{x^{4}}{4!}
     -\frac{x^{6}}{6!}+{}\cdots
\end{eqnarray}
\end{example}

%%\enlargethispage{\baselineskip}
%\noindent The \ci{nonumber} command causes \LaTeX{} to not generate a number for
%this equation.
\noindent \ci{nonumber}~命令将阻止~\LaTeX{}为此方程生成一个编号。

%It can be difficult to get vertically aligned equations to look right
%with these methods; the package \pai{amsmath} provides a more
%powerful set of alternatives. (see \verb|split| and \verb|align| environments).
使用这些方法很难得到垂直对齐的方程。\pai{amsmath}~提供了一些更有用的方法（见
~\verb|split|~和~\verb|align|~环境）。

%\section{Phantom}
\section{幻影}
%We can't see phantoms, but they still occupy some space in the minds of a
%lot of people. \LaTeX{} is no different. We can use this for
%some interesting spacing tricks.

我们无法看到幻影（phantom），但是它们在许多人印象中仍然会占据一些空间。\LaTeX{}没有不同，
我们也可以使用这些作一些有趣的空格技巧。

%When vertically aligning text using \verb|^| and \verb|_| \LaTeX{} sometimes
%is just a little bit too helpful. Using the \ci{phantom} command you can
%reserve space for characters which do not show up in the final output. Best
%is to look at the following examples.

垂直对齐文本时使用~\verb|^|~和~\verb|_|。\LaTeX{}~有时只是有一点帮助。
使用~\ci{phantom}~命令可以为不在最终输出中出现的字符预留空间。
最好参考下面的例子。

\begin{example}
\begin{displaymath}
{}^{12}_{\phantom{1}6}\textrm{C}
\qquad \textrm{versus} \qquad
{}^{12}_{6}\textrm{C}
\end{displaymath}
\end{example}
\begin{example}
\begin{displaymath} 
\Gamma_{ij}^{\phantom{ij}k}
\qquad \textrm{versus} \qquad
\Gamma_{ij}^{k}
\end{displaymath}  
\end{example}

%\section{Math Font Size}
\section{数学字体大小}

%\index{math font size} In math mode, \TeX{} selects the font size
%according to the context. Superscripts, for example, get typeset in a
%smaller font. If you want to typeset part of an equation in roman,
%don't use the \verb|\textrm| command, because the font size switching
%mechanism will not work, as \verb|\textrm| temporarily escapes to text
%mode. Use \verb|\mathrm| instead to keep the size switching mechanism
%active. But pay attention, \ci{mathrm} will only work well on short
%items. Spaces are still not active and accented characters do not
%work.\footnote{The \AmS-\LaTeX{} package makes the \ci{textrm} command
%  work with size changing.}
\index{math font size} 在数学模式中，\TeX{}根据上下文选择字体大小。
例如，使用较小的字体排版上标。如果想用罗马字体排版方程中的一部分，不要
使用~\verb|\textrm|~命令，因为当~\verb|\textrm|~暂时脱离文本模式时字体大小
交换机制不起作用。这时可以使用~\verb|\mathrm|~来确保字体大小交换机制起作用。
但是需要注意的是，\ci{mathrm}~只对于较短的项才起作用。空格仍然
不起作用，并且重音字符也不起作用\footnote{\AmS-\LaTeX{}宏集使得~\ci{textrm}~
命令与字体大小改变相兼容。}。

\begin{example}
\begin{equation}
2^{\textrm{nd}} \quad 
2^{\mathrm{nd}}
\end{equation}
\end{example}

%Nevertheless, sometimes you need to tell \LaTeX{} the correct font
%size. In math mode, the fontsize is set with the four commands:

尽管如此，有时必须告诉~\LaTeX{}正确的字体大小。在数学模式中，字体大小
用四个命令来设定：

\begin{flushleft}
\ci{displaystyle}~($\displaystyle 123$),
 \ci{textstyle}~($\textstyle 123$), 
\ci{scriptstyle}~($\scriptstyle 123$) and
\ci{scriptscriptstyle}~($\scriptscriptstyle 123$).
\end{flushleft}

%Changing styles also affects the way limits are displayed.
改变式样也会影响上下界显示的方式。
\begin{example}
\begin{displaymath}
\mathop{\mathrm{corr}}(X,Y)= 
 \frac{\displaystyle 
   \sum_{i=1}^n(x_i-\overline x)
   (y_i-\overline y)} 
  {\displaystyle\biggl[
 \sum_{i=1}^n(x_i-\overline x)^2
\sum_{i=1}^n(y_i-\overline y)^2
\biggr]^{1/2}}
\end{displaymath}    
\end{example}

%% This is not a math accent, and no maths book would be set this way.
%% mathop gets the spacing right.

%\noindent This is one of those examples in which we need larger
%brackets than the standard \verb|\left[  \right]| provides.
这个例子中，我们需要比标准的~\verb|\left[  \right]|还要大一些的括号。

%\section{Theorems, Laws, \ldots}
\section{定理、定义 \texorpdfstring{~\ldots}{...}}

%When writing mathematical documents, you probably need a way to
%typeset ``Lemmas'', ``Definitions'', ``Axioms'' and similar
%structures. \LaTeX{} supports this with the command
写数学文档时有可能需要一种方式来排版“引理”、“定义”、“公理”以及类似
的结构。\LaTeX{}为此提供了下述命令：
\begin{lscommand}
\ci{newtheorem}\verb|{|\emph{name}\verb|}[|\emph{counter}\verb|]{|%
         \emph{text}\verb|}[|\emph{section}\verb|]|
\end{lscommand}
%The \emph{name} argument, is a short keyword used to identify the
%``theorem''. With the \emph{text} argument, you define the actual name
%of the ``theorem'' which will be printed in the final document.
\emph{name}~是短关键字，用于标识“定理”。\emph{text}~定义“定理”的真实名称，
会在最终文件中打印出来。

%The arguments in square brackets are optional. They are both used to
%specify the numbering used on the ``theorem''. With the \emph{counter}
%argument you can specify the \emph{name} of a previously declared
%``theorem''. The new ``theorem'' will then be numbered in the same
%sequence.  The \emph{section} argument allows you to specify the
%sectional unit within which you want your ``theorem'' to be numbered.
方括号中的选项是任意的，可以用于指定“定理”中使用的标号。\emph{counter}~
可以指定先前声明的“定理”的~\emph{name}。然后新“定理”会按同样的顺序编号。
\emph{section}~指定“定理”编号所在的章节层次。

%After executing the \ci{newtheorem} command in the preamble of your
%document, you can use the following command within the document.
在文件的导言中执行~\ci{newtheorem}~命令之后，在文件中可以使用如下命令。

\begin{code}
\verb|\begin{|\emph{name}\verb|}[|\emph{text}\verb|]|\\
This is my interesting theorem\\
\verb|\end{|\emph{name}\verb|}|     
\end{code}

%This should be enough theory. The following examples will hopefully
%remove the final remains of doubt and make it clear that the
%\verb|\newtheorem| environment is way too complex to understand.
理论上这是足够的。下面的例子有望尽释前疑，并使人清楚地意识到，
\verb|\newtheorem|~环境非常复杂，很难理解。

\begin{example}
% definitions for the document
% preamble
\newtheorem{law}{Law}
\newtheorem{jury}[law]{Jury}
%in the document
\begin{law} \label{law:box}
Don't hide in the witness box
\end{law}
\begin{jury}[The Twelve]
It could be you! So beware and
see law~\ref{law:box}\end{jury}
\begin{law}No, No, No\end{law}
\end{example}

%The ``Jury'' theorem uses the same counter as the ``Law''
%theorem. Therefore it gets a number which is in sequence with
%the other ``Laws''. The argument in square brackets is used to specify 
%a title or something similar for the theorem.
``Jury''~定理和~``Law''~定理使用同一个计数器。因此，编号是顺序排列的。
方括号中的选项用于为这个定理指定一个标题或者类似的东西。

\begin{example}
\flushleft
\newtheorem{mur}{Murphy}[section]
\begin{mur}
If there are two or more 
ways to do something, and 
one of those ways can result 
in a catastrophe, then 
someone will do it.\end{mur}
\end{example}

%The ``Murphy'' theorem gets a number which is linked to the number of
%the current section. You could also use another unit, for example chapter or
%subsection.
``Murphy''~定理的编号与当前节相链接。也可以使用其它单位，例如章或小节。

%\section{Bold symbols}
%\index{bold symbols}
\section{粗体符号}
\index{bold symbols}

%It is quite difficult to get bold symbols in \LaTeX{}; this is
%probably intentional as amateur typesetters tend to overuse them.  The
%font change command \verb|\mathbf| gives bold letters, but these are
%roman (upright) whereas mathematical symbols are normally italic.
%There is a \ci{boldmath} command, but \emph{this can only be used
%outside mathematics mode}. It works for symbols too.
在~\LaTeX{}中很难得到粗体符号。这也许是故意的，因为业余排版者总是过份使用粗体。
字体改变命令~\verb|\mathbf|~给出粗体字母，但是这些是罗马字体（竖直的），而数学
符号通常是斜体。有一个~\ci{boldmath}~命令，但是\emph{这只能用于数学模式之外}。
对于符号也是如此。

\begin{example}
\begin{displaymath}
\mu, M \qquad \mathbf{M} \qquad
\mbox{\boldmath $\mu, M$}
\end{displaymath}
\end{example}

%\noindent
%Notice that the comma is bold too, which may not be what is required.
\noindent 注意逗号也是粗体，这可能不是所需要的。

%The package \pai{amsbsy} (included by \pai{amsmath}) as well as the
%\pai{bm} from the tools bundle make this much easier as they include
%a \ci{boldsymbol} command.
使用工具包中的~\pai{amsbsy}（包括在~\pai{amsmath}~中）和~\pai{bm}~很容易办到这点，
因为它们包含\ci{boldsymbol}命令。

\ifx\boldsymbol\undefined\else
\begin{example}
\begin{displaymath}
\mu, M \qquad
\boldsymbol{\mu}, \boldsymbol{M}
\end{displaymath}
\end{example}
\fi

%%%% Local Variables: 
%%%% mode: latex
%%%% TeX-master: "lshort"
%%%% End: 
%
%
