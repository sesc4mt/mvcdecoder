<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MVC: MVCDecoder/Codec/IFrame/ISlice.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MVCDecoder/Codec/IFrame/ISlice.h File Reference</h1><code>#include &quot;<a class="el" href="_common_8h_source.html">Common.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_bitstream_8h_source.html">Codec/Bitstream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_picture_info_8h_source.html">PictureInfo.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for ISlice.h:</div>
<div class="dynsection">
<div class="center"><img src="_i_slice_8h__incl.png" border="0" usemap="#_m_v_c_decoder_2_codec_2_i_frame_2_i_slice_8h_map" alt=""/></div>
<map name="_m_v_c_decoder_2_codec_2_i_frame_2_i_slice_8h_map" id="_m_v_c_decoder_2_codec_2_i_frame_2_i_slice_8h">
<area shape="rect" id="node3" href="_common_8h.html" title="Common.h" alt="" coords="81,160,167,189"/><area shape="rect" id="node14" href="_bitstream_8h.html" title="Codec/Bitstream.h" alt="" coords="101,83,232,112"/><area shape="rect" id="node17" href="_picture_info_8h.html" title="PictureInfo.h" alt="" coords="256,83,349,112"/><area shape="rect" id="node12" href="_types_8h.html" title="Types.h" alt="" coords="272,237,339,267"/><area shape="rect" id="node23" href="_macros_8h.html" title="Macros.h" alt="" coords="265,160,340,189"/><area shape="rect" id="node27" href="_debug_8h.html" title="Debug.h" alt="" coords="429,160,499,189"/></map>
</div>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="_i_slice_8h__dep__incl.png" border="0" usemap="#_m_v_c_decoder_2_codec_2_i_frame_2_i_slice_8hdep_map" alt=""/></div>
<map name="_m_v_c_decoder_2_codec_2_i_frame_2_i_slice_8hdep_map" id="_m_v_c_decoder_2_codec_2_i_frame_2_i_slice_8hdep">
<area shape="rect" id="node3" href="_p_slice_8cpp.html" title="MVCDecoder/Codec/PBFrame/PSlice.cpp" alt="" coords="5,83,272,112"/><area shape="rect" id="node6" href="decodeframe__i_8cpp.html" title="MVCDecoder/spu/decodeframe_i/decodeframe_i.cpp" alt="" coords="320,83,645,112"/></map>
</div>

<p><a href="_i_slice_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_slice_8h.html#a995f6a4907273b8d56b6543ab1a57d17">SLAVE_CODE</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_slice_8h.html#a62bde0c28d855f00622a319f1be6dfd2">require_data_decode_I</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblockdata.html">macroblockdata</a> *list, <a class="el" href="structpredict_info.html">predictInfo</a> *plist, <a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> cur_r, <a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> cur_c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_slice_8h.html#a23c43acab8cba26c6a4938028715f817">process_data_decode_I</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblockdata.html">macroblockdata</a> *dlist, <a class="el" href="structpredict_info.html">predictInfo</a> *plist, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a">ISliceDecode</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="struct_bitstream.html">Bitstream</a> *bs)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a995f6a4907273b8d56b6543ab1a57d17"></a><!-- doxytag: member="ISlice.h::SLAVE_CODE" ref="a995f6a4907273b8d56b6543ab1a57d17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLAVE_CODE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3d8b6dcdaff59baf9c7b27ae426f0a5a"></a><!-- doxytag: member="ISlice.h::ISliceDecode" ref="a3d8b6dcdaff59baf9c7b27ae426f0a5a" args="(CodingPictInfo *cpi, Bitstream *bs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ISliceDecode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_bitstream.html">Bitstream</a> *&nbsp;</td>
          <td class="paramname"> <em>bs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00187"></a>00187 {
<a name="l00188"></a>00188         <span class="keywordtype">bool</span> isParallel = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a> * <a class="code" href="_common_8h.html#a3a7c35b14731007b6847c0d57ba23d68">MB_E</a> &gt; 1.0;
<a name="l00189"></a>00189         <span class="keywordtype">int</span> MBheight = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#aa6352dc53234c55d1a0c252c5b8d6141">Size_Height</a> &gt;&gt; 4,
<a name="l00190"></a>00190                 MBwidth = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> &gt;&gt; 4;
<a name="l00191"></a>00191         <a class="code" href="structmacroblock_info.html">macroblockInfo</a> *mlist = <span class="keyword">new</span> <a class="code" href="structmacroblock_info.html">macroblockInfo</a>[MBheight * MBwidth];
<a name="l00192"></a>00192         memset(mlist, 0, <span class="keyword">sizeof</span>(<a class="code" href="structmacroblock_info.html">macroblockInfo</a>) * MBheight * MBwidth);
<a name="l00193"></a>00193         <a class="code" href="structtag__macroblock__info.html">macroblock_info</a> *mis = <span class="keyword">new</span> <a class="code" href="structtag__macroblock__info.html">macroblock_info</a>[<span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a> + 1];
<a name="l00194"></a>00194         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= <span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a>; ++i)
<a name="l00195"></a>00195         {
<a name="l00196"></a>00196                 mis[i].<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a> = cpi;
<a name="l00197"></a>00197                 mis[i].<a class="code" href="structtag__macroblock__info.html#affbe6dcc30999a24be78a7deb7a0e78b">allow</a> = MBwidth;
<a name="l00198"></a>00198                 mis[i].<a class="code" href="structtag__macroblock__info.html#ae6d03b766139a5abf281211e48c8d49b">next</a> = mis+i+1;
<a name="l00199"></a>00199         }
<a name="l00200"></a>00200         mis[<span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a>].<a class="code" href="structtag__macroblock__info.html#ae6d03b766139a5abf281211e48c8d49b">next</a> = mis;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202         <a class="code" href="structtag__cavlc__ref__list.html">cavlc_ref_list</a> ref_list;
<a name="l00203"></a>00203         <a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a> *topRef = <span class="keyword">new</span> <a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a>[MBwidth * 4 + 5];
<a name="l00204"></a>00204         memset(topRef, 0, <span class="keyword">sizeof</span>(<a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a>) * (MBwidth * 4 + 5));
<a name="l00205"></a>00205         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBwidth * 4 + 5; ++i)
<a name="l00206"></a>00206         {
<a name="l00207"></a>00207                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a4fc396cd8d03fbd50466ff12a4785529">coeff</a> = 0x40;
<a name="l00208"></a>00208                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a38397a4aa7f4f450d2bed25146783b22">coeffC</a> = 0x40;
<a name="l00209"></a>00209                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a76c8b0c75a3a13a59196c89cf919766f">imode</a> = 0x40;
<a name="l00210"></a>00210         }
<a name="l00211"></a>00211         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a> = <span class="keyword">new</span> <a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a>[4];
<a name="l00212"></a>00212 
<a name="l00213"></a>00213         <span class="keywordtype">int</span> cQp = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a>;
<a name="l00214"></a>00214         <span class="keywordtype">int</span> iii = 0;
<a name="l00215"></a>00215         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; MBheight; ++r)
<a name="l00216"></a>00216         {
<a name="l00217"></a>00217                 memset(ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a>) * 4);
<a name="l00218"></a>00218                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 4; ++j)
<a name="l00219"></a>00219                 {
<a name="l00220"></a>00220                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a4fc396cd8d03fbd50466ff12a4785529">coeff</a> = 0x40;
<a name="l00221"></a>00221                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a38397a4aa7f4f450d2bed25146783b22">coeffC</a> = 0x40;
<a name="l00222"></a>00222                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a76c8b0c75a3a13a59196c89cf919766f">imode</a> = 0x40;
<a name="l00223"></a>00223                 }
<a name="l00224"></a>00224                 ref_list.<a class="code" href="structtag__cavlc__ref__list.html#af93b34de26224281e33b951333a665c7">top</a> = topRef + 1;
<a name="l00225"></a>00225                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; MBwidth; ++c)
<a name="l00226"></a>00226                 {
<a name="l00227"></a>00227                         memset(&amp;mlist[iii], 0, <span class="keyword">sizeof</span>(mlist[iii]));
<a name="l00228"></a>00228                         mlist[iii].<a class="code" href="structmacroblock_info.html#af09f9c522a04fe712528e6db6a696866">mbtype</a> = 2;
<a name="l00229"></a>00229                         mlist[iii].<a class="code" href="structmacroblock_info.html#ae46d0fbf2f0e11fc965a60845db47065">mbR</a> = r;
<a name="l00230"></a>00230                         mlist[iii].<a class="code" href="structmacroblock_info.html#ab6270e45676c0f84c1450cf90a84df52">mbC</a> = c;
<a name="l00231"></a>00231                         <a class="code" href="_i_c_a_v_l_c_8cpp.html#a5ca95f08673d3dcfd97990a11501c6da">macroblock_read_cavlc_I_slice</a>(bs, &amp;mlist[iii], &amp;ref_list);
<a name="l00232"></a>00232                         cQp += mlist[iii].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>;
<a name="l00233"></a>00233                         mlist[iii].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a> = cQp - cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a>;
<a name="l00234"></a>00234                         ++iii;
<a name="l00235"></a>00235                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#af93b34de26224281e33b951333a665c7">top</a> += 4;
<a name="l00236"></a>00236                 }
<a name="l00237"></a>00237         }
<a name="l00238"></a>00238         <span class="keywordtype">int</span> p = 0, p1 = p + 1, p2 = p1 + 1;
<a name="l00239"></a>00239         <span class="keywordflow">if</span> (<span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a> == 1)
<a name="l00240"></a>00240                 p2 = 0;
<a name="l00241"></a>00241         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBheight; ++i)
<a name="l00242"></a>00242         {
<a name="l00243"></a>00243                 <span class="keywordflow">while</span> (mis[p2].allow != MBwidth)
<a name="l00244"></a>00244                         Sleep(1);
<a name="l00245"></a>00245                 mis[p1].<a class="code" href="structtag__macroblock__info.html#affbe6dcc30999a24be78a7deb7a0e78b">allow</a> = 0;
<a name="l00246"></a>00246                 mis[p].<a class="code" href="structtag__macroblock__info.html#a0431b0abc33b349505f0b83fd1537473">row</a> = i;
<a name="l00247"></a>00247                 mis[p].<a class="code" href="structtag__macroblock__info.html#a150f68ca8a911ab2443199821f7b97e5">mblist</a> = mlist + i * MBwidth;
<a name="l00248"></a>00248                 <span class="keywordflow">if</span> (<span class="comment">/*ConfigureSlave::NO_PARALLEL*/</span>!isParallel)
<a name="l00249"></a>00249                         <a class="code" href="_i_slice_8cpp.html#a582f95d234a6f0902b8df497f3712c01">macroblock_processor_I</a>(mis+p);
<a name="l00250"></a>00250                 <span class="keywordflow">else</span>
<a name="l00251"></a>00251                         MVCCreateMasterThread(<a class="code" href="_i_slice_8cpp.html#a582f95d234a6f0902b8df497f3712c01">macroblock_processor_I</a>, mis+p);
<a name="l00252"></a>00252                 p = p1; p1 = p2;
<a name="l00253"></a>00253                 <span class="keywordflow">if</span> (p2==<span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a>)
<a name="l00254"></a>00254                         p2 = 0;
<a name="l00255"></a>00255                 <span class="keywordflow">else</span>
<a name="l00256"></a>00256                         ++p2;
<a name="l00257"></a>00257         }
<a name="l00258"></a>00258         <span class="keywordflow">while</span> (mis[p].allow != MBwidth)
<a name="l00259"></a>00259                 Sleep(1);
<a name="l00260"></a>00260         <span class="keywordflow">if</span> (cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ad85dae4751165ea3cbb8f7b8c6e61dc3">timeId</a>==8 &amp;&amp; cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a987595091bfba91b3166b04bca988697">viewId</a>==0)
<a name="l00261"></a>00261         {
<a name="l00262"></a>00262                 printf(<span class="stringliteral">&quot;============Before============\n&quot;</span>);
<a name="l00263"></a>00263                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; MBheight; ++ii)
<a name="l00264"></a>00264                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj = 0; jj &lt; MBwidth; ++jj)
<a name="l00265"></a>00265                         {
<a name="l00266"></a>00266                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; ++i)
<a name="l00267"></a>00267                                 {
<a name="l00268"></a>00268                                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 16; ++j)
<a name="l00269"></a>00269                                         {
<a name="l00270"></a>00270                                                 printf(<span class="stringliteral">&quot;%4d&quot;</span>, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a62aee8cc8c9cac725d4f44a19ddc8c2b">lumaStart</a>[(ii*16+i)*cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>+jj*16+j]);
<a name="l00271"></a>00271                                         }
<a name="l00272"></a>00272                                         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00273"></a>00273                                 }
<a name="l00274"></a>00274                                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00275"></a>00275                         }
<a name="l00276"></a>00276                 printf(<span class="stringliteral">&quot;===Before===\n&quot;</span>);
<a name="l00277"></a>00277                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; MBheight; ++ii)
<a name="l00278"></a>00278                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj = 0; jj &lt; MBwidth; ++jj)
<a name="l00279"></a>00279                         {
<a name="l00280"></a>00280                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; ++i)
<a name="l00281"></a>00281                                 {
<a name="l00282"></a>00282                                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 8; ++j)
<a name="l00283"></a>00283                                         {
<a name="l00284"></a>00284                                                 printf(<span class="stringliteral">&quot;%4d&quot;</span>, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a103a3180ba57db0bd984a53f0668b70b">chromaUStart</a>[(ii*8+i)*cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>/2+jj*8+j]);
<a name="l00285"></a>00285                                         }
<a name="l00286"></a>00286                                         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00287"></a>00287                                 }
<a name="l00288"></a>00288                                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00289"></a>00289                         }
<a name="l00290"></a>00290                         <span class="comment">/*</span>
<a name="l00291"></a>00291 <span class="comment">                for (int ii = 0; ii &lt; MBheight; ++ii)</span>
<a name="l00292"></a>00292 <span class="comment">                        for (int jj = 0; jj &lt; MBwidth; ++jj)</span>
<a name="l00293"></a>00293 <span class="comment">                        {</span>
<a name="l00294"></a>00294 <span class="comment">                                for (int i = 0; i &lt; 8; ++i)</span>
<a name="l00295"></a>00295 <span class="comment">                                {</span>
<a name="l00296"></a>00296 <span class="comment">                                        for (int j = 0; j &lt; 8; ++j)</span>
<a name="l00297"></a>00297 <span class="comment">                                        {</span>
<a name="l00298"></a>00298 <span class="comment">                                                printf(&quot;%4d&quot;, cpi-&gt;chromaVStart[(ii*8+i)*cpi-&gt;Size_Width/2+jj*8+j]);</span>
<a name="l00299"></a>00299 <span class="comment">                                        }</span>
<a name="l00300"></a>00300 <span class="comment">                                        printf(&quot;\n&quot;);</span>
<a name="l00301"></a>00301 <span class="comment">                                }</span>
<a name="l00302"></a>00302 <span class="comment">                                printf(&quot;\n&quot;);</span>
<a name="l00303"></a>00303 <span class="comment">                        }</span>
<a name="l00304"></a>00304 <span class="comment">                        */</span>
<a name="l00305"></a>00305                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBwidth * MBheight; ++i)
<a name="l00306"></a>00306                 {
<a name="l00307"></a>00307                         <a class="code" href="_loop_filter_8cpp.html#a299f516a75a0efad87a05dfbb35c9b41">FilterMB</a>(cpi, mlist, i);
<a name="l00308"></a>00308                 }
<a name="l00309"></a>00309                 printf(<span class="stringliteral">&quot;===============After==============\n&quot;</span>);
<a name="l00310"></a>00310                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; MBheight; ++ii)
<a name="l00311"></a>00311                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj = 0; jj &lt; MBwidth; ++jj)
<a name="l00312"></a>00312                         {
<a name="l00313"></a>00313                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; ++i)
<a name="l00314"></a>00314                                 {
<a name="l00315"></a>00315                                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 16; ++j)
<a name="l00316"></a>00316                                         {
<a name="l00317"></a>00317                                                 printf(<span class="stringliteral">&quot;%4d&quot;</span>, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a62aee8cc8c9cac725d4f44a19ddc8c2b">lumaStart</a>[(ii*16+i)*cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>+jj*16+j]);
<a name="l00318"></a>00318                                         }
<a name="l00319"></a>00319                                         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00320"></a>00320                                 }
<a name="l00321"></a>00321                                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00322"></a>00322                         }
<a name="l00323"></a>00323                 printf(<span class="stringliteral">&quot;===After===\n&quot;</span>);
<a name="l00324"></a>00324                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; MBheight; ++ii)
<a name="l00325"></a>00325                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj = 0; jj &lt; MBwidth; ++jj)
<a name="l00326"></a>00326                         {
<a name="l00327"></a>00327                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; ++i)
<a name="l00328"></a>00328                                 {
<a name="l00329"></a>00329                                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 8; ++j)
<a name="l00330"></a>00330                                         {
<a name="l00331"></a>00331                                                 printf(<span class="stringliteral">&quot;%4d&quot;</span>, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a103a3180ba57db0bd984a53f0668b70b">chromaUStart</a>[(ii*8+i)*cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>/2+jj*8+j]);
<a name="l00332"></a>00332                                         }
<a name="l00333"></a>00333                                         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00334"></a>00334                                 }
<a name="l00335"></a>00335                                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00336"></a>00336                         }
<a name="l00337"></a>00337                         <span class="comment">/*</span>
<a name="l00338"></a>00338 <span class="comment">                for (int ii = 0; ii &lt; MBheight; ++ii)</span>
<a name="l00339"></a>00339 <span class="comment">                        for (int jj = 0; jj &lt; MBwidth; ++jj)</span>
<a name="l00340"></a>00340 <span class="comment">                        {</span>
<a name="l00341"></a>00341 <span class="comment">                                for (int i = 0; i &lt; 8; ++i)</span>
<a name="l00342"></a>00342 <span class="comment">                                {</span>
<a name="l00343"></a>00343 <span class="comment">                                        for (int j = 0; j &lt; 8; ++j)</span>
<a name="l00344"></a>00344 <span class="comment">                                        {</span>
<a name="l00345"></a>00345 <span class="comment">                                                printf(&quot;%4d&quot;, cpi-&gt;chromaVStart[(ii*8+i)*cpi-&gt;Size_Width/2+jj*8+j]);</span>
<a name="l00346"></a>00346 <span class="comment">                                        }</span>
<a name="l00347"></a>00347 <span class="comment">                                        printf(&quot;\n&quot;);</span>
<a name="l00348"></a>00348 <span class="comment">                                }</span>
<a name="l00349"></a>00349 <span class="comment">                                printf(&quot;\n&quot;);</span>
<a name="l00350"></a>00350 <span class="comment">                        }</span>
<a name="l00351"></a>00351 <span class="comment">                        */</span>
<a name="l00352"></a>00352                 exit(0);
<a name="l00353"></a>00353         }
<a name="l00354"></a>00354         <span class="keywordflow">else</span>
<a name="l00355"></a>00355         {
<a name="l00356"></a>00356                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBwidth * MBheight; ++i)
<a name="l00357"></a>00357                 {
<a name="l00358"></a>00358                         <a class="code" href="_loop_filter_8cpp.html#a299f516a75a0efad87a05dfbb35c9b41">FilterMB</a>(cpi, mlist, i);
<a name="l00359"></a>00359                 }
<a name="l00360"></a>00360         }
<a name="l00361"></a>00361         <span class="keyword">delete</span> []topRef;
<a name="l00362"></a>00362         <span class="keyword">delete</span> []mis;
<a name="l00363"></a>00363         <span class="keyword">delete</span> []mlist;
<a name="l00364"></a>00364 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_slice_8h_a3d8b6dcdaff59baf9c7b27ae426f0a5a_cgraph.png" border="0" usemap="#_i_slice_8h_a3d8b6dcdaff59baf9c7b27ae426f0a5a_cgraph_map" alt=""></div>
<map name="_i_slice_8h_a3d8b6dcdaff59baf9c7b27ae426f0a5a_cgraph_map" id="_i_slice_8h_a3d8b6dcdaff59baf9c7b27ae426f0a5a_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8cpp.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="219,231,288,260"/><area shape="rect" id="node42" href="_i_slice_8cpp.html#a582f95d234a6f0902b8df497f3712c01" title="macroblock_processor_I" alt="" coords="172,465,335,495"/><area shape="rect" id="node56" href="_i_c_a_v_l_c_8cpp.html#a5ca95f08673d3dcfd97990a11501c6da" title="macroblock_read_cavlc_I_slice" alt="" coords="153,545,353,575"/><area shape="rect" id="node5" href="_loop_filter_8cpp.html#a3624223f3d4fb60f1915390182e18ad0" title="ChromaHorFilter" alt="" coords="444,284,559,313"/><area shape="rect" id="node12" href="_loop_filter_8cpp.html#ae1485a034a76344a800072473e3b5b13" title="ChromaVerFilter" alt="" coords="444,337,559,367"/><area shape="rect" id="node16" href="_loop_filter_8cpp.html#afe90ea6b74a3965e2ceb0aae6d9def7a" title="GetHorFilterStrength" alt="" coords="431,71,572,100"/><area shape="rect" id="node29" href="_loop_filter_8cpp.html#a1f70a21e87e7aa4f5e42426b044bf8e6" title="GetVerFilterStrength" alt="" coords="431,124,572,153"/><area shape="rect" id="node34" href="_loop_filter_8cpp.html#a5630c9b21b9751b11fa116e9f383da5c" title="LumaHorFilter" alt="" coords="451,177,552,207"/><area shape="rect" id="node38" href="_loop_filter_8cpp.html#af5fe65e920004c9063b3b44a405ae942" title="LumaVerFilter" alt="" coords="451,231,552,260"/><area shape="rect" id="node7" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2" title="ClipMinMax" alt="" coords="916,279,1007,308"/><area shape="rect" id="node9" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135" title="Filter" alt="" coords="711,279,761,308"/><area shape="rect" id="node18" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6" title="CheckMvDataB" alt="" coords="681,124,791,153"/><area shape="rect" id="node24" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3" title="CheckMvDataP" alt="" coords="681,17,791,47"/><area shape="rect" id="node27" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9" title="isCoded" alt="" coords="701,71,771,100"/><area shape="rect" id="node20" href="_loop_filter_8h.html#aca10d193cfa918f6819799ad228ac7be" title="veryNearD" alt="" coords="921,124,1001,153"/><area shape="rect" id="node22" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051" title="veryNearS" alt="" coords="921,44,1001,73"/><area shape="rect" id="node44" href="_i_slice_8cpp.html#a23c43acab8cba26c6a4938028715f817" title="process_data_decode_I" alt="" coords="423,412,580,441"/><area shape="rect" id="node52" href="_i_slice_8cpp.html#a62bde0c28d855f00622a319f1be6dfd2" title="require_data_decode_I" alt="" coords="425,465,577,495"/><area shape="rect" id="node54" href="_i_slice_8cpp.html#a9aec4e077652c6d1dba0479062157d21" title="save_data" alt="" coords="461,519,541,548"/><area shape="rect" id="node46" href="_i_macroblock_codec_8cpp.html#acaa2acf29de1293461dea9f2882931c5" title="macroblockIntraDecode" alt="" coords="657,433,815,463"/><area shape="rect" id="node48" href="_i_macroblock_codec_8cpp.html#a0d5a08323fa05b03ffbebb448898663e" title="macroblockIntraDecode_uv" alt="" coords="873,407,1049,436"/><area shape="rect" id="node50" href="_i_macroblock_codec_8cpp.html#a3bb69edd67d7438ffa2148822898e335" title="macroblockIntraDecode_y" alt="" coords="876,460,1047,489"/><area shape="rect" id="node58" href="_i_c_a_v_l_c_8cpp.html#aacaa2d123678a0deb8a0c2a5ee6e53b1" title="T264dec_mb_read_intra_cavlc" alt="" coords="404,572,599,601"/><area shape="rect" id="node60" href="_c_a_v_l_c_8cpp.html#aeb5a2ec1c37d4efb405d9209adfb122b" title="block_residual_read_cavlc" alt="" coords="875,565,1048,595"/><area shape="rect" id="node106" href="vlc_pred_8h.html#aa95b4f7002a155287414853f2fc58279" title="get_luma_pred" alt="" coords="683,539,789,568"/><area shape="rect" id="node108" href="_c_a_v_l_c_8cpp.html#ac8715360bdf3222bff81c76624638ec3" title="macroblock_read_cavlc_uv" alt="" coords="648,645,824,675"/><area shape="rect" id="node111" href="vlc_pred_8h.html#a534c4d1461b465b86fa6ed3294f7fc93" title="set_luma_pred" alt="" coords="683,592,789,621"/><area shape="rect" id="node62" href="_c_a_v_l_c_8cpp.html#a667302ddec9d1aff7c31c331ffaec929" title="T264dec_mb_read_coff_token_t0" alt="" coords="1100,5,1311,35"/><area shape="rect" id="node64" href="_c_a_v_l_c_8cpp.html#aabed3a424b724036b177a9b91ed2c5cc" title="T264dec_mb_read_coff_token_t1" alt="" coords="1100,59,1311,88"/><area shape="rect" id="node66" href="_c_a_v_l_c_8cpp.html#a8cc3a1e080c7fdffce24705a568a77d4" title="T264dec_mb_read_coff_token_t2" alt="" coords="1100,112,1311,141"/><area shape="rect" id="node68" href="_c_a_v_l_c_8cpp.html#a2f71e9151c1843ae4e79a969b62f1e7a" title="T264dec_mb_read_coff_token_t3" alt="" coords="1100,165,1311,195"/><area shape="rect" id="node70" href="_c_a_v_l_c_8cpp.html#aa813db30dbca2b63effb00f51f5a09e8" title="T264dec_mb_read_coff_token_t4" alt="" coords="1100,219,1311,248"/><area shape="rect" id="node72" href="_c_a_v_l_c_8cpp.html#a2de597d6ec034469f21e451d17251ec0" title="T264dec_mb_read_level_prefix" alt="" coords="1107,272,1304,301"/><area shape="rect" id="node74" href="_c_a_v_l_c_8cpp.html#a0c9db9287496d5932a5d62c1d1c4324f" title="T264dec_mb_read_run_before" alt="" coords="1108,325,1303,355"/><area shape="rect" id="node76" href="_c_a_v_l_c_8cpp.html#abd7d91649a10d2b893c2c1eab9513950" title="T264dec_mb_read_total_zero1" alt="" coords="1107,379,1304,408"/><area shape="rect" id="node78" href="_c_a_v_l_c_8cpp.html#a317d53737fb2514abc97e4f178686c83" title="T264dec_mb_read_total_zero10" alt="" coords="1103,432,1308,461"/><area shape="rect" id="node80" href="_c_a_v_l_c_8cpp.html#a03140b30cd941dd61f78dd0f225bd669" title="T264dec_mb_read_total_zero11" alt="" coords="1103,485,1308,515"/><area shape="rect" id="node82" href="_c_a_v_l_c_8cpp.html#a01d97551c35453f8c9d9c8ebf29720fa" title="T264dec_mb_read_total_zero12" alt="" coords="1103,539,1308,568"/><area shape="rect" id="node84" href="_c_a_v_l_c_8cpp.html#a841395546b65d2211a8bf3f2edfce4ae" title="T264dec_mb_read_total_zero13" alt="" coords="1103,592,1308,621"/><area shape="rect" id="node86" href="_c_a_v_l_c_8cpp.html#a708fd9f1ac45b72841f4df147310d20e" title="T264dec_mb_read_total_zero14" alt="" coords="1103,645,1308,675"/><area shape="rect" id="node88" href="_c_a_v_l_c_8cpp.html#acd57cb14d72d158e01f061c69d3e67f1" title="T264dec_mb_read_total_zero15" alt="" coords="1103,699,1308,728"/><area shape="rect" id="node90" href="_c_a_v_l_c_8cpp.html#a555e0a8e9bc797ebe40b74eeef104d6f" title="T264dec_mb_read_total_zero2" alt="" coords="1107,752,1304,781"/><area shape="rect" id="node92" href="_c_a_v_l_c_8cpp.html#a7a1d11b2eef008bff8ff0f49c7d37f0d" title="T264dec_mb_read_total_zero3" alt="" coords="1107,805,1304,835"/><area shape="rect" id="node94" href="_c_a_v_l_c_8cpp.html#a344ce961a19c7d39d9324f45b80589d3" title="T264dec_mb_read_total_zero4" alt="" coords="1107,859,1304,888"/><area shape="rect" id="node96" href="_c_a_v_l_c_8cpp.html#accc49a932e74a300742a3ffc4fda2df2" title="T264dec_mb_read_total_zero5" alt="" coords="1107,912,1304,941"/><area shape="rect" id="node98" href="_c_a_v_l_c_8cpp.html#a08ad970c75fd24cb8a40f7406b8a5c2e" title="T264dec_mb_read_total_zero6" alt="" coords="1107,965,1304,995"/><area shape="rect" id="node100" href="_c_a_v_l_c_8cpp.html#a4ae98797fed5bfe90e01c20beb0e8bb2" title="T264dec_mb_read_total_zero7" alt="" coords="1107,1019,1304,1048"/><area shape="rect" id="node102" href="_c_a_v_l_c_8cpp.html#a447e87bf54c6dd411745c9dc3be6f1fe" title="T264dec_mb_read_total_zero8" alt="" coords="1107,1072,1304,1101"/><area shape="rect" id="node104" href="_c_a_v_l_c_8cpp.html#a01d3c729c686c58187d2d4f483dd201c" title="T264dec_mb_read_total_zero9" alt="" coords="1107,1125,1304,1155"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_slice_8h_a3d8b6dcdaff59baf9c7b27ae426f0a5a_icgraph.png" border="0" usemap="#_i_slice_8h_a3d8b6dcdaff59baf9c7b27ae426f0a5a_icgraph_map" alt=""></div>
<map name="_i_slice_8h_a3d8b6dcdaff59baf9c7b27ae426f0a5a_icgraph_map" id="_i_slice_8h_a3d8b6dcdaff59baf9c7b27ae426f0a5a_icgraph">
<area shape="rect" id="node3" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="152,5,251,35"/><area shape="rect" id="node5" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="299,5,405,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23c43acab8cba26c6a4938028715f817"></a><!-- doxytag: member="ISlice.h::process_data_decode_I" ref="a23c43acab8cba26c6a4938028715f817" args="(CodingPictInfo *cpi, macroblockdata *dlist, predictInfo *plist, macroblockInfo *mlist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_data_decode_I </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblockdata.html">macroblockdata</a> *&nbsp;</td>
          <td class="paramname"> <em>dlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpredict_info.html">predictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>plist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00119"></a>00119 {
<a name="l00120"></a>00120         <span class="comment">// TODO: ¿Ó</span>
<a name="l00121"></a>00121         <a class="code" href="_debug_8h.html#a3f7e58a01a8beb987f565ac1a304708c">DEBUGBLK</a>(9, (<span class="stringliteral">&quot;process_data_decode&quot;</span>));
<a name="l00122"></a>00122 
<a name="l00123"></a>00123         <a class="code" href="structmacroblockdata.html">macroblockdata</a> pred0;
<a name="l00124"></a>00124 
<a name="l00125"></a>00125         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> i = 0;
<a name="l00126"></a>00126         memset(&amp;pred0, 128, <span class="keyword">sizeof</span>(pred0));
<a name="l00127"></a>00127         i = 0;
<a name="l00128"></a>00128         <span class="keywordflow">if</span> (mlist[i].mode_i16x16 == <a class="code" href="_consts4_standard_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a9086e22a5020a2e013c6eca452ba49e8">Intra_16x16_DC</a>)
<a name="l00129"></a>00129         {
<a name="l00130"></a>00130                 <span class="keywordflow">if</span> (plist[i].hasLeft &amp;&amp; plist[i].hasTop) ;      <span class="keywordflow">else</span>
<a name="l00131"></a>00131                 <span class="keywordflow">if</span> (plist[i].hasLeft)   mlist[i].<a class="code" href="structmacroblock_info.html#a56fac1ac121007a216cd538adc034a16">mode_i16x16</a> = <a class="code" href="_consts4_standard_8h.html#adf764cbdea00d65edcd07bb9953ad2b7acc79559af1945306d7487c1567f62d0d">Intra_16x16_DCLEFT</a>;      <span class="keywordflow">else</span>
<a name="l00132"></a>00132                 <span class="keywordflow">if</span> (plist[i].hasTop)    mlist[i].<a class="code" href="structmacroblock_info.html#a56fac1ac121007a216cd538adc034a16">mode_i16x16</a> = <a class="code" href="_consts4_standard_8h.html#adf764cbdea00d65edcd07bb9953ad2b7abe756da4a19f91e01e4411713b34dd90">Intra_16x16_DCTOP</a>;       <span class="keywordflow">else</span>
<a name="l00133"></a>00133                         mlist[i].<a class="code" href="structmacroblock_info.html#a56fac1ac121007a216cd538adc034a16">mode_i16x16</a> = <a class="code" href="_consts4_standard_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a6174d509d5e37d9ae079c59383c193b2">Intra_16x16_DC128</a>;
<a name="l00134"></a>00134         }
<a name="l00135"></a>00135         <span class="keywordflow">if</span> (mlist[i].mode_uv == <a class="code" href="_consts4_standard_8h.html#a99fb83031ce9923c84392b4e92f956b5a646411ab4d2f5168b1d2900f8e0a9e0d">Intra_8x8_DC</a>)
<a name="l00136"></a>00136         {
<a name="l00137"></a>00137                 <span class="keywordflow">if</span> (plist[i].hasLeft &amp;&amp; plist[i].hasTop) ;      <span class="keywordflow">else</span>
<a name="l00138"></a>00138                 <span class="keywordflow">if</span> (plist[i].hasLeft)   mlist[i].<a class="code" href="structmacroblock_info.html#a562426f4ab2f9cd93c95cff91faaa0f6">mode_uv</a> = <a class="code" href="_consts4_standard_8h.html#a99fb83031ce9923c84392b4e92f956b5a2fbf8eaefbd5828d5106e0974deb648e">Intra_8x8_DCLEFT</a>;    <span class="keywordflow">else</span>
<a name="l00139"></a>00139                 <span class="keywordflow">if</span> (plist[i].hasTop)    mlist[i].<a class="code" href="structmacroblock_info.html#a562426f4ab2f9cd93c95cff91faaa0f6">mode_uv</a> = <a class="code" href="_consts4_standard_8h.html#a99fb83031ce9923c84392b4e92f956b5a2789b4e28b9fef8837c8f2b867b80650">Intra_8x8_DCTOP</a>;     <span class="keywordflow">else</span>
<a name="l00140"></a>00140                         mlist[i].<a class="code" href="structmacroblock_info.html#a562426f4ab2f9cd93c95cff91faaa0f6">mode_uv</a> = <a class="code" href="_consts4_standard_8h.html#a99fb83031ce9923c84392b4e92f956b5a3f5d49151d1a4cfeb047b96f8956753a">Intra_8x8_DC128</a>;
<a name="l00141"></a>00141         }
<a name="l00142"></a>00142         <a class="code" href="_i_macroblock_codec_8cpp.html#acaa2acf29de1293461dea9f2882931c5">macroblockIntraDecode</a>(&amp;dlist[i], cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a> + mlist-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>, <a class="code" href="_consts4_standard_8h.html#a764e5d7924eac5d10266946aa1d1c695">QPLuma2Chroma</a>[cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a> + mlist-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>], &amp;mlist[i], &amp;plist[i]);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_slice_8h_a23c43acab8cba26c6a4938028715f817_cgraph.png" border="0" usemap="#_i_slice_8h_a23c43acab8cba26c6a4938028715f817_cgraph_map" alt=""></div>
<map name="_i_slice_8h_a23c43acab8cba26c6a4938028715f817_cgraph_map" id="_i_slice_8h_a23c43acab8cba26c6a4938028715f817_cgraph">
<area shape="rect" id="node3" href="_i_macroblock_codec_8cpp.html#acaa2acf29de1293461dea9f2882931c5" title="macroblockIntraDecode" alt="" coords="215,312,372,341"/><area shape="rect" id="node5" href="_i_macroblock_codec_8cpp.html#a0d5a08323fa05b03ffbebb448898663e" title="macroblockIntraDecode_uv" alt="" coords="423,192,599,221"/><area shape="rect" id="node21" href="_i_macroblock_codec_8cpp.html#a3bb69edd67d7438ffa2148822898e335" title="macroblockIntraDecode_y" alt="" coords="425,432,596,461"/><area shape="rect" id="node7" href="_i_predict_8cpp.html#a0988f72eec8591d5de83982c52e2b539" title="do_8x8_chroma_prediction" alt="" coords="649,112,825,141"/><area shape="rect" id="node9" href="_d_c_t_transform_8cpp.html#ada208d2366935100bdc2375bec45cc8f" title="idct2x2dc_c" alt="" coords="692,165,783,195"/><area shape="rect" id="node11" href="_d_c_t_transform_8cpp.html#a923ec91bf45c73e8baaf4e1bbad9a289" title="idct4x4_c" alt="" coords="699,219,776,248"/><area shape="rect" id="node13" href="_quantisation_8cpp.html#ad8c9813079b1dac9e7c7ab3d40a9a212" title="iquant2x2dc_c" alt="" coords="684,5,791,35"/><area shape="rect" id="node15" href="_quantisation_8cpp.html#a5985492c5cf012e5d7051f11fa86821c" title="iquant4x4_c" alt="" coords="692,272,783,301"/><area shape="rect" id="node17" href="_scanner_8h.html#aaa0324e6a8196220003838250cc45e75" title="unscan_zig_2x2" alt="" coords="680,59,795,88"/><area shape="rect" id="node19" href="_scanner_8h.html#a368d4bb8bcbc27ebecc3939c468dbcff" title="unscan_zig_4x4" alt="" coords="680,325,795,355"/><area shape="rect" id="node23" href="_i_predict_8cpp.html#a90c2994887c21abf5825c0262aa283c5" title="do_16x16_luma_prediction" alt="" coords="649,379,825,408"/><area shape="rect" id="node25" href="_i_predict_8cpp.html#acc4ad7a1035118020f7e66044e323e45" title="do_4x4_luma_prediction" alt="" coords="656,432,819,461"/><area shape="rect" id="node27" href="_i_predict_8cpp.html#a9076d5f73e7c0a6665e6e69eeaae6b10" title="do_8x8_luma_prediction" alt="" coords="656,485,819,515"/><area shape="rect" id="node30" href="_d_c_t_transform_8cpp.html#ac50d1e85c45ad67944176f8ce8219dba" title="idct4x4dc_c" alt="" coords="692,539,783,568"/><area shape="rect" id="node32" href="_d_c_t_transform_8cpp.html#aab666ffcda45ced06a5b5853c52c94bf" title="idct8x8" alt="" coords="705,592,769,621"/><area shape="rect" id="node35" href="_quantisation_8cpp.html#a480f9f1c650257964853863d5683ed34" title="iquant4x4dc_c" alt="" coords="684,645,791,675"/><area shape="rect" id="node37" href="_quantisation_8cpp.html#a6096528e049a8f3c2a463926db773e42" title="iquant8x8_c" alt="" coords="692,699,783,728"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_slice_8h_a23c43acab8cba26c6a4938028715f817_icgraph.png" border="0" usemap="#_i_slice_8h_a23c43acab8cba26c6a4938028715f817_icgraph_map" alt=""></div>
<map name="_i_slice_8h_a23c43acab8cba26c6a4938028715f817_icgraph_map" id="_i_slice_8h_a23c43acab8cba26c6a4938028715f817_icgraph">
<area shape="rect" id="node3" href="_i_slice_8cpp.html#a582f95d234a6f0902b8df497f3712c01" title="macroblock_processor_I" alt="" coords="221,5,384,35"/><area shape="rect" id="node11" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="213,59,392,88"/><area shape="rect" id="node5" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="443,5,541,35"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="595,5,693,35"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="747,5,853,35"/><area shape="rect" id="node13" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="440,59,544,88"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="592,59,696,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="592,112,696,141"/><area shape="rect" id="node17" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="745,59,855,88"/><area shape="rect" id="node21" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="745,112,855,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a62bde0c28d855f00622a319f1be6dfd2"></a><!-- doxytag: member="ISlice.h::require_data_decode_I" ref="a62bde0c28d855f00622a319f1be6dfd2" args="(CodingPictInfo *cpi, macroblockdata *list, predictInfo *plist, int32_t cur_r, int32_t cur_c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void require_data_decode_I </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblockdata.html">macroblockdata</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpredict_info.html">predictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>plist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cur_r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cur_c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00025"></a>00025 {
<a name="l00026"></a>00026         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> i = 0, j;
<a name="l00027"></a>00027         <span class="keywordtype">int</span> lumaStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>,
<a name="l00028"></a>00028         chromaStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 2,
<a name="l00029"></a>00029         refMBt = 8 * 2,
<a name="l00030"></a>00030         refStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 16 * refMBt;
<a name="l00031"></a>00031         <a class="code" href="_types_8h.html#a363e4d606232036a6b89060813c45489">uint8_t</a> *luma = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a62aee8cc8c9cac725d4f44a19ddc8c2b">lumaStart</a> + lumaStride * cur_r * 16 + cur_c * 16,
<a name="l00032"></a>00032         *chromaU = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a103a3180ba57db0bd984a53f0668b70b">chromaUStart</a> + lumaStride * cur_r * 4 + cur_c * 8,
<a name="l00033"></a>00033         *chromaV = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a7be3395b2a1e7f4b384421c2490dcfdc">chromaVStart</a> + lumaStride * cur_r * 4 + cur_c * 8;
<a name="l00034"></a>00034         <span class="keywordflow">if</span> ((plist[i].hasLeft = (cur_c&gt;0)))
<a name="l00035"></a>00035         {
<a name="l00036"></a>00036                 <a class="code" href="_types_8h.html#a363e4d606232036a6b89060813c45489">uint8_t</a> *luma_p = luma - 1,
<a name="l00037"></a>00037                         *chromaU_p = chromaU - 1,
<a name="l00038"></a>00038                         *chromaV_p = chromaV - 1;
<a name="l00039"></a>00039                 <span class="keywordflow">for</span> (j = 0; j &lt; 16; ++j)
<a name="l00040"></a>00040                 {
<a name="l00041"></a>00041                         GetAndWait(&amp;plist[i].left[j], luma_p, 1);
<a name="l00042"></a>00042                         luma_p += lumaStride;
<a name="l00043"></a>00043                 }
<a name="l00044"></a>00044                 <span class="keywordflow">for</span> (j = 0; j &lt; 8; ++j)
<a name="l00045"></a>00045                 {
<a name="l00046"></a>00046                         GetAndWait(&amp;plist[i].data_u[8+j], chromaU_p, 1);
<a name="l00047"></a>00047                         GetAndWait(&amp;plist[i].data_v[8+j], chromaV_p, 1);
<a name="l00048"></a>00048                         chromaU_p += chromaStride;
<a name="l00049"></a>00049                         chromaV_p += chromaStride;
<a name="l00050"></a>00050                 }
<a name="l00051"></a>00051         }
<a name="l00052"></a>00052         <span class="comment">// Top</span>
<a name="l00053"></a>00053         <span class="keywordflow">if</span> ((plist[i].hasTop = (cur_r&gt;0)))
<a name="l00054"></a>00054         {
<a name="l00055"></a>00055                 <a class="code" href="_types_8h.html#a363e4d606232036a6b89060813c45489">uint8_t</a> *luma_p = luma - lumaStride,
<a name="l00056"></a>00056                         *chromaU_p = chromaU - chromaStride,
<a name="l00057"></a>00057                         *chromaV_p = chromaV - chromaStride;
<a name="l00058"></a>00058                 GetAndWait(plist[i].top, luma_p, 24);
<a name="l00059"></a>00059                 <span class="keywordflow">if</span> ((cur_c+1)*16==cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>)
<a name="l00060"></a>00060                         memset(plist[i].top+16, plist[i].top[15], 8);
<a name="l00061"></a>00061                 GetAndWait(plist[i].data_u, chromaU_p, 8);
<a name="l00062"></a>00062                 GetAndWait(plist[i].data_v, chromaV_p, 8);
<a name="l00063"></a>00063         }
<a name="l00064"></a>00064         <span class="comment">// TopLeft</span>
<a name="l00065"></a>00065         <span class="keywordflow">if</span> (plist[i].hasLeft &amp;&amp; plist[i].hasTop)
<a name="l00066"></a>00066         {
<a name="l00067"></a>00067                 GetAndWait(&amp;plist[i].topleft, luma - lumaStride - 1, 1);
<a name="l00068"></a>00068                 GetAndWait(&amp;plist[i].data_u[16], chromaU - chromaStride - 1, 1);
<a name="l00069"></a>00069                 GetAndWait(&amp;plist[i].data_v[16], chromaV - chromaStride - 1, 1);
<a name="l00070"></a>00070         }
<a name="l00071"></a>00071         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (plist[i].hasTop)
<a name="l00072"></a>00072         {
<a name="l00073"></a>00073                 plist[i].<a class="code" href="structpredict_info.html#a2f363beeef9ca2f90a0db2259fc88f7b">topleft</a> = plist[i].<a class="code" href="structpredict_info.html#ab44f7aab3b6e76f7be44d5420f5f4407">top</a>[0];
<a name="l00074"></a>00074                 plist[i].<a class="code" href="structpredict_info.html#a4bb62e14becc6e2eeac45bc8d6a66688">data_u</a>[16] = plist[i].<a class="code" href="structpredict_info.html#a4bb62e14becc6e2eeac45bc8d6a66688">data_u</a>[0];
<a name="l00075"></a>00075                 plist[i].<a class="code" href="structpredict_info.html#ad302972bab20c3c3c87ce4a25efd17a3">data_v</a>[16] = plist[i].<a class="code" href="structpredict_info.html#ad302972bab20c3c3c87ce4a25efd17a3">data_v</a>[0];
<a name="l00076"></a>00076         }
<a name="l00077"></a>00077         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (plist[i].hasLeft)
<a name="l00078"></a>00078         {
<a name="l00079"></a>00079                 plist[i].<a class="code" href="structpredict_info.html#a2f363beeef9ca2f90a0db2259fc88f7b">topleft</a> = plist[i].<a class="code" href="structpredict_info.html#aaec86d32b8769dabe17f60051a792e19">left</a>[0];
<a name="l00080"></a>00080                 plist[i].<a class="code" href="structpredict_info.html#a4bb62e14becc6e2eeac45bc8d6a66688">data_u</a>[16] = plist[i].<a class="code" href="structpredict_info.html#a4bb62e14becc6e2eeac45bc8d6a66688">data_u</a>[8];
<a name="l00081"></a>00081                 plist[i].<a class="code" href="structpredict_info.html#ad302972bab20c3c3c87ce4a25efd17a3">data_v</a>[16] = plist[i].<a class="code" href="structpredict_info.html#ad302972bab20c3c3c87ce4a25efd17a3">data_v</a>[8];
<a name="l00082"></a>00082         }
<a name="l00083"></a>00083 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_slice_8h_a62bde0c28d855f00622a319f1be6dfd2_icgraph.png" border="0" usemap="#_i_slice_8h_a62bde0c28d855f00622a319f1be6dfd2_icgraph_map" alt=""></div>
<map name="_i_slice_8h_a62bde0c28d855f00622a319f1be6dfd2_icgraph_map" id="_i_slice_8h_a62bde0c28d855f00622a319f1be6dfd2_icgraph">
<area shape="rect" id="node3" href="_i_slice_8cpp.html#a582f95d234a6f0902b8df497f3712c01" title="macroblock_processor_I" alt="" coords="213,5,376,35"/><area shape="rect" id="node11" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="205,59,384,88"/><area shape="rect" id="node5" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="435,5,533,35"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="587,5,685,35"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="739,5,845,35"/><area shape="rect" id="node13" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="432,59,536,88"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="584,59,688,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="584,112,688,141"/><area shape="rect" id="node17" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="737,59,847,88"/><area shape="rect" id="node21" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="737,112,847,141"/></map>
</div>
</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Jun 10 20:56:52 2010 for MVC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
