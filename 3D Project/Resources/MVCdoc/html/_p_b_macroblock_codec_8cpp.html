<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MVC: MVCDecoder/Codec/PBFrame/PBMacroblockCodec.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MVCDecoder/Codec/PBFrame/PBMacroblockCodec.cpp File Reference</h1><code>#include &quot;<a class="el" href="_p_b_macroblock_codec_8cpp.html">PBMacroblockCodec.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_common_8h_source.html">Common.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_d_c_t_transform_8h_source.html">Codec/DCTTransform.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_quantisation_8h_source.html">Codec/Quantisation.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_scanner_8h_source.html">Codec/Scanner.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for PBMacroblockCodec.cpp:</div>
<div class="dynsection">
<div class="center"><img src="_p_b_macroblock_codec_8cpp__incl.png" border="0" usemap="#_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_macroblock_codec_8cpp_map" alt=""/></div>
<map name="_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_macroblock_codec_8cpp_map" id="_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_macroblock_codec_8cpp">
<area shape="rect" id="node4" href="_common_8h.html" title="Common.h" alt="" coords="147,160,232,190"/><area shape="rect" id="node15" href="_d_c_t_transform_8h.html" title="Codec/DCTTransform.h" alt="" coords="25,83,180,112"/><area shape="rect" id="node18" href="_quantisation_8h.html" title="Codec/Quantisation.h" alt="" coords="204,83,351,112"/><area shape="rect" id="node21" href="_scanner_8h.html" title="Codec/Scanner.h" alt="" coords="375,83,497,112"/><area shape="rect" id="node13" href="_types_8h.html" title="Types.h" alt="" coords="288,238,355,267"/></map>
</div>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="_p_b_macroblock_codec_8cpp__dep__incl.png" border="0" usemap="#_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_macroblock_codec_8cppdep_map" alt=""/></div>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_b_macroblock_codec_8cpp.html#abbc239e3b8c30f008cb5e540e168a743">macroblockInterDecode16x16_y</a> (<a class="el" href="_types_8h.html#a0f66eed76a4d7c1c98b92eb97caf0186">exmacroblockdata_y</a> dt, int Qp, <a class="el" href="structmacroblock_info.html">pmacroblockInfo</a> rst)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_b_macroblock_codec_8cpp.html#a907948e514ef3d05386e93a64d576c02">macroblockInterDecode_uv</a> (<a class="el" href="_types_8h.html#a76c3a1d0417486239b5034c010e36ece">exmacroblockdata_uv</a> dt, int Qp_uv, <a class="el" href="_types_8h.html#a4a042a6cb76a44ae3f79ece0d72bccde">scanlist_uv</a> sl, <a class="el" href="_types_8h.html#a7afd079e016df28b6c6b0f2eb7bf70c2">scanlist_uv_h</a> sl_h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_b_macroblock_codec_8cpp.html#ad7127f8c7dabe086c8648f61be463740">macroblockInterDecode</a> (<a class="el" href="structexmacroblockdata.html">pexmacroblockdata</a> dt, int Qp_y, int Qp_uv, <a class="el" href="structmacroblock_info.html">pmacroblockInfo</a> rst)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_b_macroblock_codec_8cpp.html#ae22bb3624a8e7a421b4e8008720d67a5">LUMA_INDEX</a> [16] = {0, 1, 4, 5, 2, 3, 6, 7, 8, 9, 12, 13, 10, 11, 14, 15}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_b_macroblock_codec_8cpp.html#a12d5120842ae04b4f2743ad6b5fc6f74">LUMA_INDEX_INV</a> [16] = {0, 1, 4, 5, 2, 3, 6, 7, 8, 9, 12, 13, 10, 11, 14, 15}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="_types_8h.html#ac7cdb549645a4e51f5efa2fca122cc60">UChar</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_b_macroblock_codec_8cpp.html#a1826216a962c3c8d20e6a32f7423ee05">g_aucFrameScan64</a> [64]</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ad7127f8c7dabe086c8648f61be463740"></a><!-- doxytag: member="PBMacroblockCodec.cpp::macroblockInterDecode" ref="ad7127f8c7dabe086c8648f61be463740" args="(pexmacroblockdata dt, int Qp_y, int Qp_uv, pmacroblockInfo rst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macroblockInterDecode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structexmacroblockdata.html">pexmacroblockdata</a>&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>Qp_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>Qp_uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">pmacroblockInfo</a>&nbsp;</td>
          <td class="paramname"> <em>rst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00148"></a>00148 {
<a name="l00149"></a>00149         <a class="code" href="_p_b_macroblock_codec_8cpp.html#abbc239e3b8c30f008cb5e540e168a743">macroblockInterDecode16x16_y</a>(dt-&gt;<a class="code" href="structexmacroblockdata.html#a1a0e62951bdb79d51731b73601701cba">y</a>, Qp_y, rst);
<a name="l00150"></a>00150         <a class="code" href="_p_b_macroblock_codec_8cpp.html#a907948e514ef3d05386e93a64d576c02">macroblockInterDecode_uv</a>(dt-&gt;<a class="code" href="structexmacroblockdata.html#aeb6134d7ce9eb3883acb9858d303f475">uv</a>, Qp_uv, rst-&gt;<a class="code" href="structmacroblock_info.html#a01c5c766f5445434369110a34cd1594e">dct_uv_z</a>, rst-&gt;<a class="code" href="structmacroblock_info.html#a973346c837d8cf284586c33b4a4d478a">dct_uv_h</a>);
<a name="l00151"></a>00151 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740_cgraph.png" border="0" usemap="#_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740_cgraph_map" alt=""></div>
<map name="_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740_cgraph_map" id="_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740_cgraph">
<area shape="rect" id="node3" href="_p_b_macroblock_codec_8cpp.html#abbc239e3b8c30f008cb5e540e168a743" title="macroblockInterDecode16x16_y" alt="" coords="215,245,420,275"/><area shape="rect" id="node15" href="_p_b_macroblock_codec_8cpp.html#a907948e514ef3d05386e93a64d576c02" title="macroblockInterDecode_uv" alt="" coords="229,165,405,195"/><area shape="rect" id="node5" href="_d_c_t_transform_8cpp.html#a923ec91bf45c73e8baaf4e1bbad9a289" title="idct4x4_c" alt="" coords="489,165,567,195"/><area shape="rect" id="node7" href="_d_c_t_transform_8cpp.html#aab666ffcda45ced06a5b5853c52c94bf" title="idct8x8" alt="" coords="496,325,560,355"/><area shape="rect" id="node9" href="_quantisation_8cpp.html#a5985492c5cf012e5d7051f11fa86821c" title="iquant4x4_c" alt="" coords="483,219,573,248"/><area shape="rect" id="node11" href="_quantisation_8cpp.html#a6096528e049a8f3c2a463926db773e42" title="iquant8x8_c" alt="" coords="483,379,573,408"/><area shape="rect" id="node13" href="_scanner_8h.html#a368d4bb8bcbc27ebecc3939c468dbcff" title="unscan_zig_4x4" alt="" coords="471,272,585,301"/><area shape="rect" id="node17" href="_d_c_t_transform_8cpp.html#ada208d2366935100bdc2375bec45cc8f" title="idct2x2dc_c" alt="" coords="483,5,573,35"/><area shape="rect" id="node20" href="_quantisation_8cpp.html#ad8c9813079b1dac9e7c7ab3d40a9a212" title="iquant2x2dc_c" alt="" coords="475,59,581,88"/><area shape="rect" id="node23" href="_scanner_8h.html#aaa0324e6a8196220003838250cc45e75" title="unscan_zig_2x2" alt="" coords="471,112,585,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740_icgraph.png" border="0" usemap="#_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740_icgraph_map" alt=""></div>
<map name="_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740_icgraph_map" id="_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740_icgraph">
<area shape="rect" id="node3" href="_p_slice_8cpp.html#aa96fb8edf03d2055a439bb9fefd52a10" title="process_data_decode" alt="" coords="213,32,363,61"/><area shape="rect" id="node5" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="411,32,589,61"/><area shape="rect" id="node7" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="637,32,741,61"/><area shape="rect" id="node9" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="789,5,893,35"/><area shape="rect" id="node13" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="789,59,893,88"/><area shape="rect" id="node11" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="943,5,1052,35"/><area shape="rect" id="node15" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="943,59,1052,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abbc239e3b8c30f008cb5e540e168a743"></a><!-- doxytag: member="PBMacroblockCodec.cpp::macroblockInterDecode16x16_y" ref="abbc239e3b8c30f008cb5e540e168a743" args="(exmacroblockdata_y dt, int Qp, pmacroblockInfo rst)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macroblockInterDecode16x16_y </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a0f66eed76a4d7c1c98b92eb97caf0186">exmacroblockdata_y</a>&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>Qp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">pmacroblockInfo</a>&nbsp;</td>
          <td class="paramname"> <em>rst</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00032"></a>00032 {
<a name="l00033"></a>00033         <a class="code" href="_types_8h.html#a259fa4834387bd68627ddf37bb3ebdb9">int16</a> dct[16][4][4];
<a name="l00034"></a>00034 
<a name="l00035"></a>00035         <span class="keywordflow">if</span> (!rst-&gt;<a class="code" href="structmacroblock_info.html#a0f244dcaf8b80e1f8adc3973e34e0a25">transform8x8</a>)
<a name="l00036"></a>00036         {
<a name="l00037"></a>00037                 <span class="keywordtype">int</span> i, j, k;
<a name="l00038"></a>00038                 <span class="keywordtype">int</span> x, y;
<a name="l00039"></a>00039                 <span class="keywordflow">for</span> (i = 0; i &lt; 16; ++i)
<a name="l00040"></a>00040                         <a class="code" href="_scanner_8h.html#a368d4bb8bcbc27ebecc3939c468dbcff">unscan_zig_4x4</a>(rst-&gt;<a class="code" href="structmacroblock_info.html#ae8398ee14b29db905e426da03b462417">dct_y_z</a>[i], dct[i][0]);
<a name="l00041"></a>00041                 <span class="keywordflow">for</span> (i = 0; i &lt; 16; ++i)
<a name="l00042"></a>00042                 {
<a name="l00043"></a>00043                         <a class="code" href="_quantisation_8cpp.html#a5985492c5cf012e5d7051f11fa86821c">iquant4x4_c</a>(dct[i], Qp);
<a name="l00044"></a>00044                         x = i &gt;&gt; 2, y = i &amp; 3;
<a name="l00045"></a>00045                         x &lt;&lt;= 2; y &lt;&lt;= 2;
<a name="l00046"></a>00046                         <a class="code" href="_d_c_t_transform_8cpp.html#a923ec91bf45c73e8baaf4e1bbad9a289">idct4x4_c</a>(dct[i]);
<a name="l00047"></a>00047                         <span class="keywordflow">for</span> (j = 0; j &lt; 4; ++j)
<a name="l00048"></a>00048                                 <span class="keywordflow">for</span> (k = 0; k &lt; 4; ++k)
<a name="l00049"></a>00049                                 {
<a name="l00050"></a>00050                                         <a class="code" href="_types_8h.html#a43d43196463bde49cb067f5c20ab8481">int32</a> v = (<a class="code" href="_types_8h.html#a43d43196463bde49cb067f5c20ab8481">int32</a>)dct[i][j][k];
<a name="l00051"></a>00051                                         dt[x|j][y|k] = (v);
<a name="l00052"></a>00052                                 }
<a name="l00053"></a>00053                 }
<a name="l00054"></a>00054         }
<a name="l00055"></a>00055         <span class="keywordflow">else</span>
<a name="l00056"></a>00056         {
<a name="l00057"></a>00057                 <span class="keywordtype">int</span> i,j,k;
<a name="l00058"></a>00058                 <span class="keywordflow">for</span> (i = 0; i &lt; 4; ++i)
<a name="l00059"></a>00059                 {
<a name="l00060"></a>00060                         <a class="code" href="_types_8h.html#a259fa4834387bd68627ddf37bb3ebdb9">int16</a> *tmp = dct[i*4][0];
<a name="l00061"></a>00061                         <span class="keywordflow">for</span> (j = 0; j &lt; 4; ++j)
<a name="l00062"></a>00062                         {
<a name="l00063"></a>00063                                 <span class="keywordflow">for</span> (k = 0; k &lt; 16; ++k)
<a name="l00064"></a>00064                                         tmp[<a class="code" href="_p_b_macroblock_codec_8cpp.html#a1826216a962c3c8d20e6a32f7423ee05">g_aucFrameScan64</a>[k*4+j]] = rst-&gt;<a class="code" href="structmacroblock_info.html#ae8398ee14b29db905e426da03b462417">dct_y_z</a>[<a class="code" href="_i_macroblock_codec_8cpp.html#ae22bb3624a8e7a421b4e8008720d67a5">LUMA_INDEX</a>[i*4+j]][k];
<a name="l00065"></a>00065                         }
<a name="l00066"></a>00066                         <a class="code" href="_quantisation_8cpp.html#a6096528e049a8f3c2a463926db773e42">iquant8x8_c</a>(dct[i*4][0], Qp);
<a name="l00067"></a>00067                         <a class="code" href="_d_c_t_transform_8cpp.html#aab666ffcda45ced06a5b5853c52c94bf">idct8x8</a>(dct[i*4][0]);
<a name="l00068"></a>00068                 }
<a name="l00069"></a>00069                 <a class="code" href="_types_8h.html#a259fa4834387bd68627ddf37bb3ebdb9">int16</a> *dct8 = dct[0][0];
<a name="l00070"></a>00070 
<a name="l00071"></a>00071                 <span class="keywordtype">int</span> v;
<a name="l00072"></a>00072                 <span class="keywordflow">for</span> (i = 0; i &lt; 8; ++i)
<a name="l00073"></a>00073                 {
<a name="l00074"></a>00074                         <span class="keywordflow">for</span> (j = 0; j &lt; 8; ++j)
<a name="l00075"></a>00075                         {
<a name="l00076"></a>00076                                 v = dct8[i*8+j];
<a name="l00077"></a>00077                                 dt[i][j] = (v);
<a name="l00078"></a>00078                         }
<a name="l00079"></a>00079                 }
<a name="l00080"></a>00080 
<a name="l00081"></a>00081                 dct8 += 64;
<a name="l00082"></a>00082                 <span class="keywordflow">for</span> (i = 0; i &lt; 8; ++i)
<a name="l00083"></a>00083                 {
<a name="l00084"></a>00084                         <span class="keywordflow">for</span> (j = 0; j &lt; 8; ++j)
<a name="l00085"></a>00085                         {
<a name="l00086"></a>00086                                 v = dct8[i*8+j];
<a name="l00087"></a>00087                                 dt[i][j+8] = (v);
<a name="l00088"></a>00088                         }
<a name="l00089"></a>00089                 }
<a name="l00090"></a>00090 
<a name="l00091"></a>00091                 dct8 += 64;
<a name="l00092"></a>00092                 <span class="keywordflow">for</span> (i = 0; i &lt; 8; ++i)
<a name="l00093"></a>00093                 {
<a name="l00094"></a>00094                         <span class="keywordflow">for</span> (j = 0; j &lt; 8; ++j)
<a name="l00095"></a>00095                         {
<a name="l00096"></a>00096                                 v = dct8[i*8+j];
<a name="l00097"></a>00097                                 dt[i+8][j] = (v);
<a name="l00098"></a>00098                         }
<a name="l00099"></a>00099                 }
<a name="l00100"></a>00100 
<a name="l00101"></a>00101                 dct8 += 64;
<a name="l00102"></a>00102                 <span class="keywordflow">for</span> (i = 0; i &lt; 8; ++i)
<a name="l00103"></a>00103                 {
<a name="l00104"></a>00104                         <span class="keywordflow">for</span> (j = 0; j &lt; 8; ++j)
<a name="l00105"></a>00105                         {
<a name="l00106"></a>00106                                 v = dct8[i*8+j];
<a name="l00107"></a>00107                                 dt[i+8][j+8] = (v);
<a name="l00108"></a>00108                         }
<a name="l00109"></a>00109                 }
<a name="l00110"></a>00110 
<a name="l00111"></a>00111         }
<a name="l00112"></a>00112 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_b_macroblock_codec_8cpp_abbc239e3b8c30f008cb5e540e168a743_cgraph.png" border="0" usemap="#_p_b_macroblock_codec_8cpp_abbc239e3b8c30f008cb5e540e168a743_cgraph_map" alt=""></div>
<map name="_p_b_macroblock_codec_8cpp_abbc239e3b8c30f008cb5e540e168a743_cgraph_map" id="_p_b_macroblock_codec_8cpp_abbc239e3b8c30f008cb5e540e168a743_cgraph">
<area shape="rect" id="node3" href="_d_c_t_transform_8cpp.html#a923ec91bf45c73e8baaf4e1bbad9a289" title="idct4x4_c" alt="" coords="281,5,359,35"/><area shape="rect" id="node5" href="_d_c_t_transform_8cpp.html#aab666ffcda45ced06a5b5853c52c94bf" title="idct8x8" alt="" coords="288,59,352,88"/><area shape="rect" id="node7" href="_quantisation_8cpp.html#a5985492c5cf012e5d7051f11fa86821c" title="iquant4x4_c" alt="" coords="275,112,365,141"/><area shape="rect" id="node9" href="_quantisation_8cpp.html#a6096528e049a8f3c2a463926db773e42" title="iquant8x8_c" alt="" coords="275,165,365,195"/><area shape="rect" id="node11" href="_scanner_8h.html#a368d4bb8bcbc27ebecc3939c468dbcff" title="unscan_zig_4x4" alt="" coords="263,219,377,248"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_b_macroblock_codec_8cpp_abbc239e3b8c30f008cb5e540e168a743_icgraph.png" border="0" usemap="#_p_b_macroblock_codec_8cpp_abbc239e3b8c30f008cb5e540e168a743_icgraph_map" alt=""></div>
<map name="_p_b_macroblock_codec_8cpp_abbc239e3b8c30f008cb5e540e168a743_icgraph_map" id="_p_b_macroblock_codec_8cpp_abbc239e3b8c30f008cb5e540e168a743_icgraph">
<area shape="rect" id="node3" href="_p_b_macroblock_codec_8h.html#ad7127f8c7dabe086c8648f61be463740" title="macroblockInterDecode" alt="" coords="263,32,420,61"/><area shape="rect" id="node5" href="_p_slice_8cpp.html#aa96fb8edf03d2055a439bb9fefd52a10" title="process_data_decode" alt="" coords="469,32,619,61"/><area shape="rect" id="node7" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="667,32,845,61"/><area shape="rect" id="node9" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="893,32,997,61"/><area shape="rect" id="node11" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="1045,5,1149,35"/><area shape="rect" id="node15" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="1045,59,1149,88"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="1199,5,1308,35"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="1199,59,1308,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a907948e514ef3d05386e93a64d576c02"></a><!-- doxytag: member="PBMacroblockCodec.cpp::macroblockInterDecode_uv" ref="a907948e514ef3d05386e93a64d576c02" args="(exmacroblockdata_uv dt, int Qp_uv, scanlist_uv sl, scanlist_uv_h sl_h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macroblockInterDecode_uv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a76c3a1d0417486239b5034c010e36ece">exmacroblockdata_uv</a>&nbsp;</td>
          <td class="paramname"> <em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>Qp_uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a4a042a6cb76a44ae3f79ece0d72bccde">scanlist_uv</a>&nbsp;</td>
          <td class="paramname"> <em>sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a7afd079e016df28b6c6b0f2eb7bf70c2">scanlist_uv_h</a>&nbsp;</td>
          <td class="paramname"> <em>sl_h</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00115"></a>00115 {
<a name="l00116"></a>00116         <a class="code" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a> udct[4][4][4];
<a name="l00117"></a>00117         <a class="code" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a> udct_h[2][2];
<a name="l00118"></a>00118 
<a name="l00119"></a>00119         <span class="keywordtype">int</span> l, i, j, k;
<a name="l00120"></a>00120         <span class="keywordtype">int</span> x, y;
<a name="l00121"></a>00121         <span class="keywordflow">for</span>(l = 0 ; l &lt; 2 ; l ++)
<a name="l00122"></a>00122         {
<a name="l00123"></a>00123                 <span class="keywordflow">for</span>(i = 0 ; i &lt; 4 ; i ++)
<a name="l00124"></a>00124                         <a class="code" href="_scanner_8h.html#a368d4bb8bcbc27ebecc3939c468dbcff">unscan_zig_4x4</a>(sl[l][i], udct[i][0]);
<a name="l00125"></a>00125                 <a class="code" href="_scanner_8h.html#aaa0324e6a8196220003838250cc45e75">unscan_zig_2x2</a>(sl_h[l], udct_h[0]);
<a name="l00126"></a>00126                 
<a name="l00127"></a>00127                 <a class="code" href="_quantisation_8cpp.html#ad8c9813079b1dac9e7c7ab3d40a9a212">iquant2x2dc_c</a>(udct_h, Qp_uv);
<a name="l00128"></a>00128                 <a class="code" href="_d_c_t_transform_8cpp.html#ada208d2366935100bdc2375bec45cc8f">idct2x2dc_c</a>(udct_h);
<a name="l00129"></a>00129                 
<a name="l00130"></a>00130                 <span class="keywordflow">for</span>(i = 0 ; i &lt; 4 ; i ++)
<a name="l00131"></a>00131                 {
<a name="l00132"></a>00132                         <a class="code" href="_quantisation_8cpp.html#a5985492c5cf012e5d7051f11fa86821c">iquant4x4_c</a>(udct[i], Qp_uv);
<a name="l00133"></a>00133                         x = i&gt;&gt;1, y = i&amp;1;
<a name="l00134"></a>00134                         udct[i][0][0] = udct_h[x][y];
<a name="l00135"></a>00135                         x &lt;&lt;= 2; y &lt;&lt;= 2;
<a name="l00136"></a>00136                         <a class="code" href="_d_c_t_transform_8cpp.html#a923ec91bf45c73e8baaf4e1bbad9a289">idct4x4_c</a>(udct[i]);
<a name="l00137"></a>00137                         <span class="keywordflow">for</span> (j = 0; j &lt; 4; ++j)
<a name="l00138"></a>00138                                 <span class="keywordflow">for</span> (k = 0; k &lt; 4; ++k)
<a name="l00139"></a>00139                                 {
<a name="l00140"></a>00140                                         <a class="code" href="_types_8h.html#a43d43196463bde49cb067f5c20ab8481">int32</a> v = (<a class="code" href="_types_8h.html#a43d43196463bde49cb067f5c20ab8481">int32</a>)udct[i][j][k];
<a name="l00141"></a>00141                                         dt[l][x|j][y|k] = v;
<a name="l00142"></a>00142                                 }
<a name="l00143"></a>00143                 }
<a name="l00144"></a>00144         }
<a name="l00145"></a>00145 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_b_macroblock_codec_8cpp_a907948e514ef3d05386e93a64d576c02_cgraph.png" border="0" usemap="#_p_b_macroblock_codec_8cpp_a907948e514ef3d05386e93a64d576c02_cgraph_map" alt=""></div>
<map name="_p_b_macroblock_codec_8cpp_a907948e514ef3d05386e93a64d576c02_cgraph_map" id="_p_b_macroblock_codec_8cpp_a907948e514ef3d05386e93a64d576c02_cgraph">
<area shape="rect" id="node3" href="_d_c_t_transform_8cpp.html#ada208d2366935100bdc2375bec45cc8f" title="idct2x2dc_c" alt="" coords="245,5,336,35"/><area shape="rect" id="node5" href="_d_c_t_transform_8cpp.html#a923ec91bf45c73e8baaf4e1bbad9a289" title="idct4x4_c" alt="" coords="252,59,329,88"/><area shape="rect" id="node7" href="_quantisation_8cpp.html#ad8c9813079b1dac9e7c7ab3d40a9a212" title="iquant2x2dc_c" alt="" coords="237,112,344,141"/><area shape="rect" id="node9" href="_quantisation_8cpp.html#a5985492c5cf012e5d7051f11fa86821c" title="iquant4x4_c" alt="" coords="245,165,336,195"/><area shape="rect" id="node11" href="_scanner_8h.html#aaa0324e6a8196220003838250cc45e75" title="unscan_zig_2x2" alt="" coords="233,219,348,248"/><area shape="rect" id="node13" href="_scanner_8h.html#a368d4bb8bcbc27ebecc3939c468dbcff" title="unscan_zig_4x4" alt="" coords="233,272,348,301"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_b_macroblock_codec_8cpp_a907948e514ef3d05386e93a64d576c02_icgraph.png" border="0" usemap="#_p_b_macroblock_codec_8cpp_a907948e514ef3d05386e93a64d576c02_icgraph_map" alt=""></div>
<map name="_p_b_macroblock_codec_8cpp_a907948e514ef3d05386e93a64d576c02_icgraph_map" id="_p_b_macroblock_codec_8cpp_a907948e514ef3d05386e93a64d576c02_icgraph">
<area shape="rect" id="node3" href="_p_b_macroblock_codec_8h.html#ad7127f8c7dabe086c8648f61be463740" title="macroblockInterDecode" alt="" coords="233,32,391,61"/><area shape="rect" id="node5" href="_p_slice_8cpp.html#aa96fb8edf03d2055a439bb9fefd52a10" title="process_data_decode" alt="" coords="440,32,589,61"/><area shape="rect" id="node7" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="637,32,816,61"/><area shape="rect" id="node9" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="864,32,968,61"/><area shape="rect" id="node11" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="1016,5,1120,35"/><area shape="rect" id="node15" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="1016,59,1120,88"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="1169,5,1279,35"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="1169,59,1279,88"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a1826216a962c3c8d20e6a32f7423ee05"></a><!-- doxytag: member="PBMacroblockCodec.cpp::g_aucFrameScan64" ref="a1826216a962c3c8d20e6a32f7423ee05" args="[64]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="_types_8h.html#ac7cdb549645a4e51f5efa2fca122cc60">UChar</a> <a class="el" href="_p_b_macroblock_codec_8cpp.html#a1826216a962c3c8d20e6a32f7423ee05">g_aucFrameScan64</a>[64]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        0,  1,  8, 16,  9,  2,  3, 10,
        17, 24, 32, 25, 18, 11,  4,  5,
        12, 19, 26, 33, 40, 48, 41, 34,
        27, 20, 13,  6,  7, 14, 21, 28,
        35, 42, 49, 56, 57, 50, 43, 36,
        29, 22, 15, 23, 30, 37, 44, 51,
        58, 59, 52, 45, 38, 31, 39, 46,
        53, 60, 61, 54, 47, 55, 62, 63
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae22bb3624a8e7a421b4e8008720d67a5"></a><!-- doxytag: member="PBMacroblockCodec.cpp::LUMA_INDEX" ref="ae22bb3624a8e7a421b4e8008720d67a5" args="[16]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="_p_b_macroblock_codec_8cpp.html#ae22bb3624a8e7a421b4e8008720d67a5">LUMA_INDEX</a>[16] = {0, 1, 4, 5, 2, 3, 6, 7, 8, 9, 12, 13, 10, 11, 14, 15}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a12d5120842ae04b4f2743ad6b5fc6f74"></a><!-- doxytag: member="PBMacroblockCodec.cpp::LUMA_INDEX_INV" ref="a12d5120842ae04b4f2743ad6b5fc6f74" args="[16]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="_p_b_macroblock_codec_8cpp.html#a12d5120842ae04b4f2743ad6b5fc6f74">LUMA_INDEX_INV</a>[16] = {0, 1, 4, 5, 2, 3, 6, 7, 8, 9, 12, 13, 10, 11, 14, 15}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Jun 10 20:57:09 2010 for MVC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
