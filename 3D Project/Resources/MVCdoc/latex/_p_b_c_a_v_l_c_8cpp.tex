\hypertarget{_p_b_c_a_v_l_c_8cpp}{
\section{MVCDecoder/Codec/PBFrame/PBCAVLC.cpp File Reference}
\label{_p_b_c_a_v_l_c_8cpp}\index{MVCDecoder/Codec/PBFrame/PBCAVLC.cpp@{MVCDecoder/Codec/PBFrame/PBCAVLC.cpp}}
}
{\ttfamily \#include \char`\"{}Codec/CAVLC.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}PBCAVLC.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Common.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}PictureInfo.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/Bitstream.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/vlc.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/Consts4Standard.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}../IFrame/ICAVLC.h\char`\"{}}\par
{\ttfamily \#include $<$stdio.h$>$}\par
Include dependency graph for PBCAVLC.cpp:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=403pt]{_p_b_c_a_v_l_c_8cpp__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=139pt]{_p_b_c_a_v_l_c_8cpp__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_p_b_c_a_v_l_c_8cpp_a7f412b57c9608ade806246eef63763b8}{macroblock\_\-read\_\-cavlc\_\-PB\_\-y} (\hyperlink{struct_bitstream}{Bitstream} $\ast$bs, \hyperlink{structmacroblock_info}{pmacroblockInfo} info, \hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list)
\item 
void \hyperlink{_p_b_c_a_v_l_c_8cpp_afe9c114999f137df97529d13c1e485bb}{macroblock\_\-read\_\-cavlc\_\-P\_\-slice} (\hyperlink{struct_bitstream}{Bitstream} $\ast$bs, \hyperlink{structmacroblock_info}{pmacroblockInfo} info, \hyperlink{struct_coding_pict_info}{CodingPictInfo} $\ast$cpi, \hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list)
\item 
void \hyperlink{_p_b_c_a_v_l_c_8cpp_a4a7eda3fa0f5c1be7775144cf14ff34e}{calc\_\-B\_\-skip\_\-refs} (\hyperlink{structref_vector}{refVector} $\ast$col\_\-refs, \hyperlink{structmacroblock_info}{pmacroblockInfo} info, \hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list)
\item 
void \hyperlink{_p_b_c_a_v_l_c_8cpp_a9d0d19143ae03ff45bcfbf2c9980b11b}{macroblock\_\-read\_\-cavlc\_\-B\_\-slice} (\hyperlink{struct_bitstream}{Bitstream} $\ast$bs, \hyperlink{structref_vector}{refVector} $\ast$col\_\-refs, \hyperlink{structmacroblock_info}{pmacroblockInfo} info, \hyperlink{struct_coding_pict_info}{CodingPictInfo} $\ast$cpi, \hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{_p_b_c_a_v_l_c_8cpp_a7441ef0865bcb3db9b8064dd7375c1ea}{id} = 0
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{_p_b_c_a_v_l_c_8cpp_a4a7eda3fa0f5c1be7775144cf14ff34e}{
\index{PBCAVLC.cpp@{PBCAVLC.cpp}!calc\_\-B\_\-skip\_\-refs@{calc\_\-B\_\-skip\_\-refs}}
\index{calc\_\-B\_\-skip\_\-refs@{calc\_\-B\_\-skip\_\-refs}!PBCAVLC.cpp@{PBCAVLC.cpp}}
\subsubsection[{calc\_\-B\_\-skip\_\-refs}]{\setlength{\rightskip}{0pt plus 5cm}void calc\_\-B\_\-skip\_\-refs ({\bf refVector} $\ast$ {\em col\_\-refs}, \/  {\bf pmacroblockInfo} {\em info}, \/  {\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list})}}
\label{_p_b_c_a_v_l_c_8cpp_a4a7eda3fa0f5c1be7775144cf14ff34e}




\begin{footnotesize}\begin{alltt}
00466 \{
00467         \hyperlink{structref_vector}{refVector} predV[2];
00468         \hyperlink{structref_vector}{refVector} predV2[2];
00469         \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV2[0], ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00470         \hyperlink{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe}{copyVector2}(predV2[1], ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00471 
00472 
00473         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} mb88 = 0; mb88 < 4; ++mb88)
00474         \{
00475                 \textcolor{keywordtype}{int} row = mb88 / 2 * 2, col = mb88 % 2 * 2;
00476                 predV[0] = predV2[0];
00477                 predV[1] = predV2[1];
00478                 \hyperlink{vlc_pred_8cpp_a8e3b2d1b28e66aabfcb678547cd94545}{getRefXYDirectB}(ref\_list, col\_refs, info, row, col, col + 2, pred
      V);
00479                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[row][col][0] = predV[0];
00480                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[row][col][1] = predV[1];
00481                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, row+1, col+0, predV[0]);
00482                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, row+0, col+1, predV[0]);
00483                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, row+1, col+0, predV[1]);
00484                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, row+0, col+1, predV[1]);
00485         \}
00486 
00487         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00488         \{
00489                 \textcolor{keywordtype}{int} dx = (i / 2) * 2, dy = (i % 2) * 2;
00490                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx][dy+1][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx][dy][0];
00491                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx][dy+1][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx][dy][1];
00492                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx+1][dy][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx][dy][0];
00493                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx+1][dy][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx][dy][1];
00494                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx+1][dy+1][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx][dy][0];
00495                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx+1][dy+1][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[dx][dy][1];
00496         \}
00497 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=131pt]{_p_b_c_a_v_l_c_8cpp_a4a7eda3fa0f5c1be7775144cf14ff34e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{_p_b_c_a_v_l_c_8cpp_a4a7eda3fa0f5c1be7775144cf14ff34e_icgraph}
\end{center}
\end{figure}


\hypertarget{_p_b_c_a_v_l_c_8cpp_a9d0d19143ae03ff45bcfbf2c9980b11b}{
\index{PBCAVLC.cpp@{PBCAVLC.cpp}!macroblock\_\-read\_\-cavlc\_\-B\_\-slice@{macroblock\_\-read\_\-cavlc\_\-B\_\-slice}}
\index{macroblock\_\-read\_\-cavlc\_\-B\_\-slice@{macroblock\_\-read\_\-cavlc\_\-B\_\-slice}!PBCAVLC.cpp@{PBCAVLC.cpp}}
\subsubsection[{macroblock\_\-read\_\-cavlc\_\-B\_\-slice}]{\setlength{\rightskip}{0pt plus 5cm}void macroblock\_\-read\_\-cavlc\_\-B\_\-slice ({\bf Bitstream} $\ast$ {\em bs}, \/  {\bf refVector} $\ast$ {\em col\_\-refs}, \/  {\bf pmacroblockInfo} {\em info}, \/  {\bf CodingPictInfo} $\ast$ {\em cpi}, \/  {\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list})}}
\label{_p_b_c_a_v_l_c_8cpp_a9d0d19143ae03ff45bcfbf2c9980b11b}




\begin{footnotesize}\begin{alltt}
00500 \{
00501         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 5; ++i)
00502         \{
00503                 ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[i] = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i];
00504         \}
00505         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00506                 ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[i] = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i];
00507         for (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00508                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00509                 \{
00510                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = -1;
00511                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = -1;
00512                 \}
00513         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} mb\_type = 1;
00514         \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_ad7cf6f2dc254dc14005ab5705bde6349}{is_skip} < 0)
00515                 info->\hyperlink{structmacroblock_info_ad7cf6f2dc254dc14005ab5705bde6349}{is_skip} = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00516 \textcolor{comment}{//      static int id = 0;}
00517         info->\hyperlink{structmacroblock_info_af09f9c522a04fe712528e6db6a696866}{mbtype} = 1;
00518 
00519         \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_ad7cf6f2dc254dc14005ab5705bde6349}{is_skip}--)
00520         \{
00521                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16};
00522                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_adc29c2ff13d900c2f185ee95427fb06ca2d1fce5786ffbf8545d347a6fc00a4f2}{B_L0_16x16};
00523                 \hyperlink{_p_b_c_a_v_l_c_8cpp_a4a7eda3fa0f5c1be7775144cf14ff34e}{calc_B_skip_refs}(col\_refs, info, ref\_list);
00524                 
00525                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i< 4; ++i)
00526                 \{
00527                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 2;
00528                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 2;
00529                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff} = 0;
00530                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC} = 0;
00531                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff} = 0;
00532                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC} = 0;
00533                         \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, 3, i, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[3][i][0]);
00534                         \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, 3, i, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[3][i][1]);
00535                         \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, i, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][3][0]);
00536                         \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, i, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][3][1]);
00537                 \}
00538                 return ;
00539         \}
00540 
00541         \hyperlink{structref_vector}{refVector} predV;
00542         mb\_type = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00543 
00544         \hyperlink{structref_vector}{refVector} vecPred0, vecPred1;
00545         \hyperlink{structref_vector}{refVector} vec1[2];      \textcolor{comment}{//save the mv info of second Partition}
00546         vecPred0.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;     \textcolor{comment}{//default reference index}
00547         vecPred1.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00548         vec1[0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = vec1[1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00549 
00550         info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = mb\_type;
00551         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00552                 info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i] = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8};
00553         \textcolor{keywordtype}{int} l1 = 0, l2 = 0;
00554         \hyperlink{_types_8h_a04909d1366bb244ff2482beb51635f37}{uint32_t} RN = 0x00000000;
00555         switch (mb\_type) 
00556         \{
00557         \textcolor{keywordflow}{case} 0: \textcolor{comment}{//B\_Direct\_16x16}
00558                 \{
00559                         \hyperlink{_p_b_c_a_v_l_c_8cpp_a4a7eda3fa0f5c1be7775144cf14ff34e}{calc_B_skip_refs}(col\_refs, info, ref\_list);
00560                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i< 4; ++i)
00561                         \{
00562                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, 3, i, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[3][i][0]);
      
00563                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, 3, i, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[3][i][1]);
      
00564                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, i, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][3][0]);
      
00565                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, i, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][3][1]);
      
00566                         \}
00567 
00568                 \}
00569 
00570                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16};
00571                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_adc29c2ff13d900c2f185ee95427fb06ca2d1fce5786ffbf8545d347a6fc00a4f2}{B_L0_16x16};
00572                 RN = 0x00000000;
00573                 \textcolor{comment}{// TODO:}
00574                 \textcolor{keywordflow}{break};
00575         \textcolor{keywordflow}{case} 1:
00576                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16};
00577                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_adc29c2ff13d900c2f185ee95427fb06ca2d1fce5786ffbf8545d347a6fc00a4f2}{B_L0_16x16};
00578                 RN = 0x00000001;
00579                 \textcolor{keywordflow}{break};
00580         \textcolor{keywordflow}{case} 2:
00581                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16};
00582                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_adc29c2ff13d900c2f185ee95427fb06ca00ce1167eb2929b7200291350d232a27}{B_L1_16x16};
00583                 RN = 0x00010000;
00584                 \textcolor{keywordflow}{break};
00585         \textcolor{keywordflow}{case} 3:
00586                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16};
00587                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_adc29c2ff13d900c2f185ee95427fb06ca6c8aed42bcccb4b5e44f6d1a4a456178}{B_Bi_16x16};
00588                 RN = 0x00010001;
00589                 \textcolor{keywordflow}{break};
00590         \textcolor{keywordflow}{case} 4: \textcolor{comment}{//B\_L0\_L0\_16x8}
00591                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00592                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635aa085f68c10ad0744b2300daf9958bce6}{B_L0_L0_16x8};
00593                 RN = 0x00000101;
00594                 \textcolor{keywordflow}{break};
00595         \textcolor{keywordflow}{case} 6: \textcolor{comment}{//B\_L1\_L1\_16x8}
00596                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00597                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a6ba05f73df4177648aef14f074684c33}{B_L1_L1_16x8};
00598                 RN = 0x01010000;
00599                 \textcolor{keywordflow}{break};
00600         \textcolor{keywordflow}{case} 8:\textcolor{comment}{//B\_L0\_L1\_16x8}
00601                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00602                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635aec9a3300baa419e90b0fd719e542d71a}{B_L0_L1_16x8};
00603                 RN = 0x01000001;
00604                 \textcolor{keywordflow}{break};
00605         \textcolor{keywordflow}{case} 10:        \textcolor{comment}{//B\_L1\_L0\_16x8:}
00606                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00607                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635ae4bd7dfe1c00256fe28497be474f855b}{B_L1_L0_16x8};
00608                 RN = 0x00010100;
00609                 \textcolor{keywordflow}{break};
00610         \textcolor{keywordflow}{case} 12:        \textcolor{comment}{//B\_L0\_Bi\_16x8}
00611                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00612                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a3c405e465af389ad833b9ba65fa0eece}{B_L0_Bi_16x8};
00613                 RN = 0x01000101;
00614                 \textcolor{keywordflow}{break};
00615         \textcolor{keywordflow}{case} 14:\textcolor{comment}{//B\_L1\_Bi\_16x8}
00616                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00617                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635ad237a2ba2eb3cd5c17adbf3acaf53b26}{B_L1_Bi_16x8};
00618                 RN = 0x01010100;
00619                 \textcolor{keywordflow}{break};
00620         \textcolor{keywordflow}{case} 16:        \textcolor{comment}{//B\_Bi\_L0\_16x8}
00621                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00622                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635af8d094ad15a1fd68ad63c5f13a653420}{B_Bi_L0_16x8};
00623                 RN = 0x00010101;
00624                 \textcolor{keywordflow}{break};
00625         \textcolor{keywordflow}{case} 18:\textcolor{comment}{//B\_Bi\_L1\_16x8}
00626                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00627                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a82afce8c63c5cd99a030ad16693921e1}{B_Bi_L1_16x8};
00628                 RN = 0x01010001;
00629                 \textcolor{keywordflow}{break};
00630         \textcolor{keywordflow}{case} 20:        \textcolor{comment}{//B\_Bi\_Bi\_16x8}
00631                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8};
00632                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635aa86c6bedaeb7a9480cd45756f41aac63}{B_Bi_Bi_16x8};
00633                 RN = 0x01010101;
00634                 \textcolor{keywordflow}{break};
00635         \textcolor{keywordflow}{case} 5: \textcolor{comment}{//B\_L0\_L0\_8x16}
00636                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00637                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a2a86757a594218dd71741032e9e4ca11}{B_L0_L0_8x16};
00638                 RN = 0x00000011;
00639                 \textcolor{keywordflow}{break};
00640         \textcolor{keywordflow}{case} 7: \textcolor{comment}{//B\_L1\_L1\_8x16}
00641                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00642                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a87379a545a229a718321d2153b981880}{B_L1_L1_8x16};
00643                 RN = 0x00110000;
00644                 \textcolor{keywordflow}{break};
00645         \textcolor{keywordflow}{case} 9: \textcolor{comment}{//B\_L0\_L1\_8x16}
00646                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00647                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a6579e484fa25b1ad79cfab24370448d9}{B_L0_L1_8x16};
00648                 RN = 0x00100001;
00649                 \textcolor{keywordflow}{break};
00650         \textcolor{keywordflow}{case} 11:\textcolor{comment}{//B\_L1\_L0\_8x16}
00651                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00652                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635adb1dacb3e422a3d7b702cbe299c0b196}{B_L1_L0_8x16};
00653                 RN = 0x00010010;
00654                 \textcolor{keywordflow}{break};
00655         \textcolor{keywordflow}{case} 13:\textcolor{comment}{//B\_L0\_Bi\_8x16}
00656                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00657                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a5c9bd1279249b8c048f6adb4c408a1db}{B_L0_Bi_8x16};
00658                 RN = 0x00100011;
00659                 \textcolor{keywordflow}{break};
00660         \textcolor{keywordflow}{case} 15:        \textcolor{comment}{//B\_L1\_Bi\_8x16}
00661                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00662                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635ab83c6f886dfe7441ffc42620229f6880}{B_L1_Bi_8x16};
00663                 RN = 0x00110010;
00664                 \textcolor{keywordflow}{break};
00665         \textcolor{keywordflow}{case} 17:        \textcolor{comment}{//B\_Bi\_L0\_8x16}
00666                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00667                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635ade00bcac2d74d0faa3eaa6039d5d7717}{B_Bi_L0_8x16};
00668                 RN = 0x00010011;
00669                 \textcolor{keywordflow}{break};
00670         \textcolor{keywordflow}{case} 19:\textcolor{comment}{//B\_Bi\_L1\_8x16}
00671                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00672                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a750b47df8ed364d6b0b181cec03705d7}{B_Bi_L1_8x16};
00673                 RN = 0x00110001;
00674                 \textcolor{keywordflow}{break};
00675         \textcolor{keywordflow}{case} 21:\textcolor{comment}{//B\_Bi\_Bi\_8x16}
00676                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16};
00677                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_a726ca809ffd3d67ab4b8476646f26635a89afb2db702ea2e7fd638265487386d3}{B_Bi_Bi_8x16};
00678                 RN = 0x00110011;
00679                 \textcolor{keywordflow}{break};
00680 
00681 
00682         \textcolor{keywordflow}{case} 22:        \textcolor{comment}{//B\_8x8}
00683                 \{
00684                         RN = 0x00000000;
00685                         info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8};
00686                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00687                         \{
00688                                 \textcolor{keywordtype}{int} tmp = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00689                                 info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i] = MBTableMode[tmp];
00690                                 \textcolor{keywordflow}{switch} (info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i])
00691                                 \{
00692                                 \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8}: RN |= (MBTableFwd[tmp]*0x01) << (i*4
      ); \textcolor{keywordflow}{break};
00693                                 \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea057984ff36a697b5e3b44ac28e0547eb}{MB_8x4}: RN |= (MBTableFwd[tmp]*0x05) << (i*4
      ); \textcolor{keywordflow}{break};
00694                                 \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab7e27fbe958228773740733b0d1d976f}{MB_4x8}: RN |= (MBTableFwd[tmp]*0x03) << (i*4
      ); \textcolor{keywordflow}{break};
00695                                 \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea56b69cb0bb22d2ef9d3cb643783e314e}{MB_4x4}: RN |= (MBTableFwd[tmp]*0x0F) << (i*4
      ); \textcolor{keywordflow}{break};
00696                                 \textcolor{keywordflow}{default} : \textcolor{comment}{// MB\_8x8\_DIR}
00697                                         ;
00698                                 \}
00699                         \}
00700                 \}
00701                 \textcolor{comment}{// TODO:}
00702                 \textcolor{comment}{// todo:}
00703                 \textcolor{keywordflow}{break};
00704         \textcolor{keywordflow}{default}:
00705                 info->\hyperlink{structmacroblock_info_af09f9c522a04fe712528e6db6a696866}{mbtype} = 2;
00706                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} -= 23;
00707                 \hyperlink{_i_c_a_v_l_c_8cpp_aacaa2d123678a0deb8a0c2a5ee6e53b1}{T264dec_mb_read_intra_cavlc}(bs, info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}, info, ref\_list);
00708                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i< 4; ++i)
00709                 \{
00710                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0] = -1;
00711                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0] = 0x2000;
00712                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0] = 0x2000;
00713                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0] = -1;
00714                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0] = 0x2000;
00715                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0] = 0x2000;
00716                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[1] = -1;
00717                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[1] = 0x2000;
00718                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[1] = 0x2000;
00719                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[1] = -1;
00720                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[1] = 0x2000;
00721                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[1] = 0x2000;
00722                 \}
00723                 \textcolor{keywordflow}{return};
00724         \}
00725         \textcolor{keywordflow}{if} (mb\_type>0)
00726         \{
00727                 \textcolor{keywordtype}{int} rn = RN;
00728                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00729                 \{
00730                         \textcolor{keywordflow}{if} (rn & 0x0F)
00731                         \{
00732                                 \textcolor{keywordtype}{int} x = i / 2 * 2;
00733                                 \textcolor{keywordtype}{int} y = i % 2 * 2;
00734                                 \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]>1)
00735                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = eg\_read\_te(bs
      , cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]-1);
00736                                 \textcolor{keywordflow}{else}
00737                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} =  0;
00738                         \}
00739                         rn >>= 4;
00740                 \}
00741                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00742                 \{
00743                         \textcolor{keywordflow}{if} (rn & 0x0F)
00744                         \{
00745                                 \textcolor{keywordtype}{int} x = i / 2 * 2;
00746                                 \textcolor{keywordtype}{int} y = i % 2 * 2;
00747                                 \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[1]>1)
00748                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = eg\_read\_te(bs
      , cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[1]-1);
00749                                 \textcolor{keywordflow}{else}
00750                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00751                         \}
00752                         rn >>= 4;
00753                 \}
00754                 rn = RN;
00755                 \textcolor{keywordtype}{int} topp[5] = \{0, 0, 0, 0, 0\};
00756                 \hyperlink{structref_vector}{refVector} predV1[2];
00757                 \hyperlink{structref_vector}{refVector} predV2[2];
00758                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV2[0], ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00759                 \hyperlink{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe}{copyVector2}(predV2[1], ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00760                 \textcolor{comment}{//getRefXY(ref\_list, 0, 0, 0, 4, predV, true, 0, info->refs[0][0]
      [0].refno);}
00761                 \textcolor{comment}{//predV0 = predV;}
00762                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00763                 \{
00764                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00765                         \{
00766                                 \textcolor{keywordtype}{int} p2;
00767                                 \textcolor{keywordtype}{int} x = i / 2 * 2 + j / 2;
00768                                 \textcolor{keywordtype}{int} y = i % 2 * 2 + j % 2;
00769                                 p2 = x + ((info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16} || info->
      \hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16})?4:
00770                                         (((info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8})||(info->
      \hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR})||(info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab7e27fbe958228773740733b0d1d976f}{MB_4x8}))?2:1));
00771                                 \textcolor{comment}{//                      p2 = x+(((info->submb\_par
      t[i]==MB\_8x8)||(info->submb\_part[i]==MB\_8x8\_DIR)||(info->submb\_part[i]==MB\_4x8))?
      2:1);}
00772                                 \textcolor{keywordtype}{int} z = y + ((info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16} || info->
      \hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8})?4:
00773                                         (((info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8})||(info->
      \hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR})||(info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea057984ff36a697b5e3b44ac28e0547eb}{MB_8x4}))?2:1));
00774 
00775                                 \textcolor{keywordflow}{if} (j==0 && (i&1) && (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8} || i
      nfo->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16}))
00776                                 \{
00777                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][0][0]
      ;
00778                                 \}
00779                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j==0 && (i&2) && (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==
      \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16} || info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16}))
00780                                 \{
00781                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][y][0]
      ;
00782                                 \}
00783 
00784                                 \textcolor{keywordtype}{int} dy = 0, dx = 0;
00785                                 \textcolor{keywordflow}{if} (rn&1)
00786                                 \{
00787                                         dy = eg\_read\_se(bs);
00788                                         dx = eg\_read\_se(bs);
00789                                 \}
00790                                 \textcolor{keywordflow}{if} ((rn&1) || (j==0 && info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==
      \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR}))
00791                                 \{
00792                                         \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR})
00793                                         \{
00794                                                 \textcolor{keywordtype}{int} row = i / 2 * 2, col = i % 2 
      * 2;
00795                                                 predV1[0] = predV2[0];
00796                                                 predV1[1] = predV2[1];
00797                                                 \hyperlink{vlc_pred_8cpp_a8e3b2d1b28e66aabfcb678547cd94545}{getRefXYDirectB}(ref\_list, col\_ref
      s, info, row, col, col + 2, predV1);
00798                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[row][col][0] = predV1[
      0];
00799                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[row][col][1] = predV1[
      1];
00800                                                 predV = predV1[0];
00801                                         \}
00802                                         \textcolor{keywordflow}{else}
00803                                         \{
00804                                                 \textcolor{keywordflow}{if} (x==0)
00805                                                 \{
00806                                                         \textcolor{keywordflow}{if} (y==0)
00807                                                                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV,
       ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00808                                                         \textcolor{keywordflow}{else}
00809                                                                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV,
       ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[y-1]);
00810                                                 \}
00811                                                 \textcolor{keywordflow}{else}
00812                                                 \{
00813                                                         \textcolor{keywordflow}{if} (y==0)
00814                                                                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV,
       ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[x-1]);
00815                                                         \textcolor{keywordflow}{else}
00816                                                         \{
00817                                                                 \textcolor{keywordtype}{int} px = x - 1, p
      y = y - 1;
00818                                                                 predV = info->
      \hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[px][py][0];
00819                                                         \}
00820                                                 \}
00821 
00822                                                 \textcolor{keywordtype}{int} type = 0;
00823                                                 \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8})
00824                                                 \{
00825                                                         \textcolor{keywordflow}{if} (i==0)
00826                                                                 type = 2;
00827                                                         \textcolor{keywordflow}{else}
00828                                                                 type = 1;
00829                                                 \}
00830                                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16})
00831                                                 \{
00832                                                         \textcolor{keywordflow}{if} (i==0)
00833                                                                 type = 1;
00834                                                         \textcolor{keywordflow}{else}
00835                                                                 type = 3;
00836                                                 \}
00837                                                 \hyperlink{vlc_pred_8cpp_a1948c1579087f1b413f0db7dfdb3ca2c}{getRefXY}(ref\_list, 0, x, y, z, pr
      edV, topp[z]==x, type, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x&14][y&14][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno});
00838 
00839                                         \}
00840 
00841                                         \textcolor{keywordflow}{if} (predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}==-1 && (rn&1))
00842                                         \{
00843 
00844                                                 predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00845                                                 predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = 0;
00846                                                 predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = 0;
00847                                         \}
00848                                         \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0)
00849                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = predV
      .\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00850                                         \textcolor{keywordflow}{if} (predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} >= 0)
00851                                         \{
00852                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = dy + pred
      V.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00853                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = dx + pred
      V.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00854                                         \}
00855                                         \textcolor{keywordflow}{else}
00856                                         \{
00857                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00858                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00859                                         \}
00860                                 \}
00861                                 \textcolor{keywordflow}{if} (topp[y] <= x)
00862                                 \{
00863                                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r1 = x; r1 < p2; ++r1)
00864                                         \{
00865                                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r2 = y; r2 < z; ++r2)
00866                                                 \{
00867                                                         topp[r2] = p2;
00868                                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[r1][r2][0] = i
      nfo->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0];
00869                                                         \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, r1,
       r2, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0]);
00870                                                 \}
00871                                         \}
00872                                 \}
00873                                 rn >>= 1;
00874                         \}
00875                 \}
00876                 topp[0] = topp[1] = topp[2] = topp[3] = topp[4] = 0;
00877                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00878                 \{
00879                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00880                         \{
00881                                 \textcolor{keywordtype}{int} x = i / 2 * 2 + j / 2;
00882                                 \textcolor{keywordtype}{int} y = i % 2 * 2 + j % 2;
00883                                 \textcolor{keywordtype}{int} p2;
00884                                 p2 = x + ((info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16} || info->
      \hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16})?4:
00885                                         (((info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8})||(info->
      \hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR})||(info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab7e27fbe958228773740733b0d1d976f}{MB_4x8}))?2:1));
00886                                 \textcolor{keywordtype}{int} z = y + ((info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16} || info->
      \hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8})?4:
00887                                         (((info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8})||(info->
      \hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR})||(info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea057984ff36a697b5e3b44ac28e0547eb}{MB_8x4}))?2:1));
00888 
00889                                 \textcolor{keywordflow}{if} (j==0 && (i&1) && (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8} || i
      nfo->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16}))
00890                                 \{
00891                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][0][1]
      ;
00892                                 \}
00893                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j==0 && (i&2) && (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==
      \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16} || info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16}))
00894                                 \{
00895                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][y][1]
      ;
00896                                 \}
00897 
00898                                 \textcolor{keywordtype}{int} dy = 0, dx = 0;
00899                                 \textcolor{keywordflow}{if} (rn&1)
00900                                 \{
00901                                         dy = eg\_read\_se(bs);
00902                                         dx = eg\_read\_se(bs);
00903                                 \}
00904                                 \textcolor{keywordflow}{if} ((rn&1) || (j==0 && info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==
      \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR}))
00905                                 \{
00906                                         \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR})
00907                                         \{
00908                                                 \textcolor{keywordtype}{int} row = i / 2 * 2, col = i % 2 
      * 2;
00909                                                 predV = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[row][col][1];
00910                                         \}
00911                                         \textcolor{keywordflow}{else}\textcolor{comment}{// if (j==0)}
00912                                         \{
00913                                                 \textcolor{keywordflow}{if} (x==0)
00914                                                 \{
00915                                                         \textcolor{keywordflow}{if} (y==0)
00916                                                                 \hyperlink{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe}{copyVector2}(predV
      , ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00917                                                         \textcolor{keywordflow}{else}
00918                                                                 \hyperlink{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe}{copyVector2}(predV
      , ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[y-1]);
00919                                                 \}
00920                                                 \textcolor{keywordflow}{else}
00921                                                 \{
00922                                                         \textcolor{keywordflow}{if} (y==0)
00923                                                         \{
00924                                                                 printf(\textcolor{stringliteral}{""});
00925                                                                 \hyperlink{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe}{copyVector2}(predV
      , ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[x-1]);
00926                                                         \}
00927                                                         \textcolor{keywordflow}{else}
00928                                                         \{
00929                                                                 \textcolor{keywordtype}{int} px = x - 1, p
      y = y - 1;
00930                                                                 predV = info->
      \hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[px][py][1];
00931                                                         \}
00932                                                 \}
00933 
00934                                                 \textcolor{keywordtype}{int} type = 0;
00935                                                 \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8})
00936                                                 \{
00937                                                         \textcolor{keywordflow}{if} (i==0)
00938                                                                 type = 2;
00939                                                         \textcolor{keywordflow}{else}
00940                                                                 type = 1;
00941                                                 \}
00942                                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}==\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16})
00943                                                 \{
00944                                                         \textcolor{keywordflow}{if} (i==0)
00945                                                                 type = 1;
00946                                                         \textcolor{keywordflow}{else}
00947                                                                 type = 3;
00948                                                 \}
00949                                                 \hyperlink{vlc_pred_8cpp_a1948c1579087f1b413f0db7dfdb3ca2c}{getRefXY}(ref\_list, 1, x, y, z, pr
      edV, topp[z]==x, type, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x&14][y&14][1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno});
00950 
00951 
00952                                         \}
00953 
00954                                         \textcolor{keywordflow}{if} (predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}==-1 && (rn&1))
00955                                         \{
00956 
00957                                                 predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00958                                                 predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = 0;
00959                                                 predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = 0;
00960                                         \}
00961                                         \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0)
00962                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = predV
      .\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00963                                         \textcolor{keywordflow}{if} (predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} >= 0)
00964                                         \{
00965                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = dy + pred
      V.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00966                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = dx + pred
      V.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00967                                         \}
00968                                         \textcolor{keywordflow}{else}
00969                                         \{
00970                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00971                                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00972                                         \}
00973                                 \}
00974                                 \textcolor{keywordflow}{if} (topp[y] <= x)
00975                                 \{
00976                                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r1 = x; r1 < p2; ++r1)
00977                                         \{
00978                                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r2 = y; r2 < z; ++r2)
00979                                                 \{
00980                                                         topp[r2] = p2;
00981                                                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[r1][r2][1] = i
      nfo->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1];
00982                                                         \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, r1,
       r2, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1]);
00983                                                 \}
00984                                         \}
00985                                 \}
00986                                 rn >>= 1;
00987                         \}
00988                 \}
00989         \}
00990 
00991         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00992         \{
00993                 ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 2;
00994                 ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 2;
00995         \}
00996         \hyperlink{_p_b_c_a_v_l_c_8cpp_a7f412b57c9608ade806246eef63763b8}{macroblock_read_cavlc_PB_y}(bs, info, ref\_list);
00997         \hyperlink{_c_a_v_l_c_8cpp_ac8715360bdf3222bff81c76624638ec3}{macroblock_read_cavlc_uv}(bs, info, ref\_list);
00998 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{_p_b_c_a_v_l_c_8cpp_a9d0d19143ae03ff45bcfbf2c9980b11b_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{_p_b_c_a_v_l_c_8cpp_a9d0d19143ae03ff45bcfbf2c9980b11b_icgraph}
\end{center}
\end{figure}


\hypertarget{_p_b_c_a_v_l_c_8cpp_afe9c114999f137df97529d13c1e485bb}{
\index{PBCAVLC.cpp@{PBCAVLC.cpp}!macroblock\_\-read\_\-cavlc\_\-P\_\-slice@{macroblock\_\-read\_\-cavlc\_\-P\_\-slice}}
\index{macroblock\_\-read\_\-cavlc\_\-P\_\-slice@{macroblock\_\-read\_\-cavlc\_\-P\_\-slice}!PBCAVLC.cpp@{PBCAVLC.cpp}}
\subsubsection[{macroblock\_\-read\_\-cavlc\_\-P\_\-slice}]{\setlength{\rightskip}{0pt plus 5cm}void macroblock\_\-read\_\-cavlc\_\-P\_\-slice ({\bf Bitstream} $\ast$ {\em bs}, \/  {\bf pmacroblockInfo} {\em info}, \/  {\bf CodingPictInfo} $\ast$ {\em cpi}, \/  {\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list})}}
\label{_p_b_c_a_v_l_c_8cpp_afe9c114999f137df97529d13c1e485bb}




\begin{footnotesize}\begin{alltt}
00108 \{
00109         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00110         \{
00111                 ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[i] = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i];
00112                 ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[i] = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i];
00113         \}
00114         \hyperlink{structref_vector}{refVector} predV;
00115         info->\hyperlink{structmacroblock_info_af09f9c522a04fe712528e6db6a696866}{mbtype} = 0;
00116         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00117                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00118                 \{
00119                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = -1;
00120                         info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = -1;
00121                 \}
00122         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} mb\_type;
00123         \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_ad7cf6f2dc254dc14005ab5705bde6349}{is_skip} < 0)
00124                 info->\hyperlink{structmacroblock_info_ad7cf6f2dc254dc14005ab5705bde6349}{is_skip} = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00125         \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_ad7cf6f2dc254dc14005ab5705bde6349}{is_skip}--)
00126         \{
00127                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16};
00128                 info->\hyperlink{structmacroblock_info_a3ac5fa37b331f43add6a74e56e2ffc8d}{mb_part2} = \hyperlink{_consts4_standard_8h_adc29c2ff13d900c2f185ee95427fb06ca2d1fce5786ffbf8545d347a6fc00a4f2}{B_L0_16x16};
00129                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00130                 \hyperlink{vlc_pred_8cpp_abfa7f4848a4146dd209263effc3c80d0}{getRefXY_SKIP}(ref\_list, 0, 0, 0, 4, predV, \textcolor{keyword}{true});
00131                 \textcolor{keywordflow}{if} (predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0)
00132                 \{
00133                         predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00134                 \}
00135                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00136                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00137                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00138                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00139                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00140                         \{
00141                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0];
00142                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][1];
00143                         \}
00144                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i< 4; ++i)
00145                 \{
00146                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff} = 0;
00147                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC} = 0;
00148                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff} = 0;
00149                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC} = 0;
00150                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0] = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00151                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0] = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00152                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0] = predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00153                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0] = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00154                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0] = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00155                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0] = predV.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00156                 \}
00157                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00158                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 0x02;
00159                 for (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00160                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[j].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 0x02;
00161                 \textcolor{keywordflow}{return} ;
00162         \}
00163         mb\_type = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00164         \hyperlink{structref_vector}{refVector} vec1;
00165 
00166         info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = mb\_type;
00167         mb\_type = -1;   \textcolor{comment}{/* ugly way: prevent break to i slice code */}
00168         vec1.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00169         \textcolor{keywordtype}{int} refId[4] = \{0\};
00170 
00171         \textcolor{keywordflow}{switch} (info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}) 
00172         \{
00173         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea1012ac1a69a4b7afcb4dc411c00fc691}{MB_16x16}:
00174                 \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]>1)
00175                 \{
00176                         \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]==2)
00177                                 refId[0] = 1 - \hyperlink{_bitstream_8h_a930f8a3acc36d15b74015dd4579f485c}{eg_read_direct1}(bs);
00178                         \textcolor{keywordflow}{else}
00179                                 refId[0] = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00180                 \}
00181                 \textcolor{keywordflow}{else}
00182                         refId[0] = 0;
00183                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00184                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, 0, 0, 4, predV, \textcolor{keyword}{true}, 0, refId[0]);
00185                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[0];
00186                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs);
00187                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs);
00188                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00189                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00190                         \{
00191                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0];
00192                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][1];
00193                         \}
00194                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, 0, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00195                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, 1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00196                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 2, 2, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00197                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 3, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00198                 \textcolor{keywordflow}{break};
00199         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab8c78cbc2776a5d8dc265273f987ab89}{MB_16x8}:
00200                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i)
00201                 \{
00202                         \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]>1)
00203                         \{
00204                                 \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]==2)
00205                                         refId[i] = 1 - \hyperlink{_bitstream_8h_a930f8a3acc36d15b74015dd4579f485c}{eg_read_direct1}(bs);
00206                                 \textcolor{keywordflow}{else}
00207                                         refId[i] = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00208                         \}
00209                         \textcolor{keywordflow}{else}
00210                                 refId[i] = 0;
00211                 \}
00212                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00213                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, 0, 0, 4, predV, \textcolor{keyword}{true}, 2, refId[0]);
00214                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[0];
00215                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs);
00216                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs);
00217                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, 0, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00218                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, 1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00219                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, 2, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00220                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00221 
00222                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[1]);
00223                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, 2, 0, 4, predV, \textcolor{keyword}{false}, 1, refId[1]);
00224                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[1];
00225                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs);
00226                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs);
00227                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 2, 0, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][0]);
00228                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 2, 1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][0]);
00229                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 3, 2, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][0]);
00230                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 3, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][0]);
00231                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[1][0][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0];
00232                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[1][0][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][1];
00233                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[3][0][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][0];
00234                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[3][0][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[2][0][1];
00235                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00236                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 1; j < 4; ++j)
00237                         \{
00238                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][0][0];
00239                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][0][1];
00240                         \}
00241                 \textcolor{keywordflow}{break};
00242         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea72f2d58711a5d49e75b4b89cd135004f}{MB_8x16}:
00243                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i)
00244                 \{
00245                         \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]>1)
00246                         \{
00247                                 \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]==2)
00248                                         refId[i] = 1 - \hyperlink{_bitstream_8h_a930f8a3acc36d15b74015dd4579f485c}{eg_read_direct1}(bs);
00249                                 \textcolor{keywordflow}{else}
00250                                         refId[i] = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00251                         \}
00252                         \textcolor{keywordflow}{else}
00253                                 refId[i] = 0;
00254                 \}
00255                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft});
00256                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, 0, 0, 2, predV, \textcolor{keyword}{true}, 1, refId[0]);
00257                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[0];
00258                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs);
00259                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs);
00260                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, 0, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00261                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, 0, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00262                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 2, 1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00263                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 3, 1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0]);
00264 
00265                 \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[1]);
00266                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, 0, 2, 4, predV, \textcolor{keyword}{true}, 3, refId[1]);
00267                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[1];
00268                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs);
00269                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs);
00270                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, 2, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][0]);
00271                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 1, 2, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][0]);
00272                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 2, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][0]);
00273                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 3, 3, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][0]);
00274                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][1][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][0];
00275                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][1][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][0][1];
00276                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][3][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][0];
00277                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][3][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][2][1];
00278                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 1; i < 4; ++i)
00279                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00280                         \{
00281                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][j][0];
00282                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[i][j][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[0][j][1];
00283                         \}
00284                 \textcolor{keywordflow}{break};
00285         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8}:
00286         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eaeb8a1094435d66febd6b85a7391ae484}{MB_8x8ref0}:
00287                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00288                 \{
00289                         \textcolor{keywordtype}{int} code = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00290                         \textcolor{keywordflow}{switch} (code)
00291                         \{
00292                         \textcolor{keywordflow}{case} 0: info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i] = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8}; \textcolor{keywordflow}{break};
00293                         \textcolor{keywordflow}{case} 1: info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i] = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea057984ff36a697b5e3b44ac28e0547eb}{MB_8x4}; \textcolor{keywordflow}{break};
00294                         \textcolor{keywordflow}{case} 2: info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i] = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab7e27fbe958228773740733b0d1d976f}{MB_4x8}; \textcolor{keywordflow}{break};
00295                         \textcolor{keywordflow}{case} 3: info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i] = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea56b69cb0bb22d2ef9d3cb643783e314e}{MB_4x4}; \textcolor{keywordflow}{break};
00296                         \textcolor{keywordflow}{default} :
00297                                 \hyperlink{_macros_8h_abd5c9d76934db042ded6de967acc64e4}{assert}(0);
00298                         \}
00299                 \}
00300 
00301                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00302                 \{
00303                         \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]>1 && info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}!=\hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eaeb8a1094435d66febd6b85a7391ae484}{MB_8x8ref0})
00304                         \{
00305                                 \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[0]==2)
00306                                         refId[i] = 1 - \hyperlink{_bitstream_8h_a930f8a3acc36d15b74015dd4579f485c}{eg_read_direct1}(bs);
00307                                 \textcolor{keywordflow}{else}
00308                                         refId[i] = \hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs);
00309                         \}
00310                         \textcolor{keywordflow}{else}
00311                                 refId[i] = 0;
00312                 \}
00313                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} = \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8};
00314                 \textcolor{comment}{//info->refs[0][0][0].refno = 0;}
00315                 \textcolor{comment}{//info->refs[0][2][0].refno = 0;}
00316                 \textcolor{comment}{//info->refs[2][0][0].refno = 0;}
00317                 \textcolor{comment}{//info->refs[2][2][0].refno = 0;}
00318                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00319                 \{
00320                         \textcolor{keywordtype}{int} xx = i / 2 * 2;
00321                         \textcolor{keywordtype}{int} yy = i % 2 * 2;
00322                         \textcolor{keywordtype}{int} st = i * 4;
00323 
00324                         \textcolor{keywordflow}{switch} (i)
00325                         \{
00326                         \textcolor{keywordflow}{case} 0: \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft}); \textcolor{keywordflow}{break};
00327                         \textcolor{keywordflow}{case} 1: \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[1]); \textcolor{keywordflow}{break};
00328                         \textcolor{keywordflow}{case} 2: \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[1]); \textcolor{keywordflow}{break};
00329                         \textcolor{keywordflow}{case} 3: predV = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[1][1][0]; \textcolor{keywordflow}{break};
00330                         \textcolor{keywordflow}{default}: \textcolor{keywordflow}{break};
00331                         \}
00332                         \textcolor{keywordflow}{switch} (info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i])
00333                         \{
00334                         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8}:
00335                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx, yy, yy+2, predV, i<3, 0, 
      refId[i]);
00336                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00337                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs
      );
00338                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs
      );
00339                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx, yy, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0])
      ;
00340                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx+1, yy+1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy]
      [0]);
00341                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0];
00342                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][1];
00343                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0];
00344                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][1];
00345                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0]
      ;
00346                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][1]
      ;
00347                                 \textcolor{keywordflow}{break};
00348                         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea057984ff36a697b5e3b44ac28e0547eb}{MB_8x4}:
00349                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx, yy, yy+2, predV, i<3, 0, 
      refId[i]);
00350                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00351                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs
      );
00352                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs
      );
00353                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx, yy, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0])
      ;
00354                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx, yy+1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0
      ]);
00355 
00356                                 \textcolor{keywordflow}{if} (i&1)
00357                                         predV = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy-1][0];
00358                                 \textcolor{keywordflow}{else}
00359                                         \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[xx]);
00360                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx+1, yy, yy+2, predV, \textcolor{keyword}{false},
       0, refId[i]);
00361                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00362                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(
      bs);
00363                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(
      bs);
00364                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx+1, yy, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy]
      [0]);
00365                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx+1, yy+1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][y
      y][0]);
00366 
00367                                 \textcolor{comment}{//}
00368                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0];
00369                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][1];
00370                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][
      0];
00371                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][
      1];
00372                                 \textcolor{comment}{//}
00373                                 \textcolor{keywordflow}{break};
00374                         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9eab7e27fbe958228773740733b0d1d976f}{MB_4x8}:
00375                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx, yy, yy+1, predV, \textcolor{keyword}{true}, 0,
       refId[i]);
00376                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00377                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs
      );
00378                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs
      );
00379                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx, yy, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0])
      ;
00380                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx+1, yy, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0
      ]);
00381 
00382                                 \textcolor{keywordflow}{if} (i<2)
00383                                         \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[yy]);
00384                                 \textcolor{keywordflow}{else}
00385                                         predV = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx-1][yy][0];
00386                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx, yy+1, yy+2, predV, i<3, 0
      , refId[i]);
00387                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00388                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(
      bs);
00389                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(
      bs);
00390                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx, yy+1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1]
      [0]);
00391                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx+1, yy+1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+
      1][0]);
00392                                 \textcolor{comment}{//}
00393                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0];
00394                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][1];
00395                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][0] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][
      0];
00396                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][1] = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][
      1];
00397                                 \textcolor{comment}{//}
00398                                 \textcolor{keywordflow}{break};
00399                         \textcolor{keywordflow}{case} \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea56b69cb0bb22d2ef9d3cb643783e314e}{MB_4x4}:
00400 
00401                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx, yy, yy+1, predV, \textcolor{keyword}{true}, 0,
       refId[i]);
00402                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00403                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(bs
      );
00404                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(bs
      );
00405                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx, yy, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0])
      ;
00406 
00407                                 \textcolor{keywordflow}{if} (i<2)
00408                                         \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[yy]);
00409                                 \textcolor{keywordflow}{else}
00410                                         predV = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx-1][yy][0];
00411                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx, yy+1, yy+2, predV, i<3, 0
      , refId[i]);
00412                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00413                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(
      bs);
00414                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(
      bs);
00415                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx, yy+1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy+1]
      [0]);
00416 
00417                                 \textcolor{keywordflow}{if} (i&1)
00418                                         predV = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy-1][0];
00419                                 \textcolor{keywordflow}{else}
00420                                         \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector}(predV, ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[xx]);
00421                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx+1, yy, yy+1, predV, \textcolor{keyword}{true}, 
      0, refId[i]);
00422                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00423                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_se(
      bs);
00424                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_se(
      bs);
00425                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx+1, yy, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy]
      [0]);
00426 
00427                                 predV = info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx][yy][0];
00428                                 \hyperlink{vlc_pred_8cpp_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP}(ref\_list, xx+1, yy+1, yy+2, predV, \textcolor{keyword}{fals
      e}, 0, refId[i]);
00429                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = refId[i];
00430                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][0].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = predV.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} + eg\_read\_s
      e(bs);
00431                                 info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][yy+1][0].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = predV.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} + eg\_read\_s
      e(bs);
00432                                 \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, xx+1, yy+1, info->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[xx+1][y
      y+1][0]);
00433 
00434                                 \textcolor{keywordflow}{break};
00435                         \}
00436                 \}
00437                 \textcolor{comment}{// todo:}
00438                 \textcolor{keywordflow}{break};
00439         \textcolor{keywordflow}{default}:
00440                 info->\hyperlink{structmacroblock_info_af09f9c522a04fe712528e6db6a696866}{mbtype} = 2;
00441                 info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part} -= 5;
00442                 \hyperlink{_i_c_a_v_l_c_8cpp_aacaa2d123678a0deb8a0c2a5ee6e53b1}{T264dec_mb_read_intra_cavlc}(bs, info->\hyperlink{structmacroblock_info_aca6689d19574d84352bfddf53f5568e4}{mb_part}, info, ref\_list);
00443                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i< 4; ++i)
00444                 \{
00445                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0] = -1;
00446                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0] = 0x2000;
00447                         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0] = 0x2000;
00448                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0] = -1;
00449                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0] = 0x2000;
00450                         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0] = 0x2000;
00451                 \}
00452                 \textcolor{keywordflow}{return};
00453         \}
00454 
00455         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00456                 ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 0x02;
00457         for (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00458                 ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[j].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 0x02;
00459 
00460         \hyperlink{_p_b_c_a_v_l_c_8cpp_a7f412b57c9608ade806246eef63763b8}{macroblock_read_cavlc_PB_y}(bs, info, ref\_list);
00461         \hyperlink{_c_a_v_l_c_8cpp_ac8715360bdf3222bff81c76624638ec3}{macroblock_read_cavlc_uv}(bs, info, ref\_list);
00462 
00463 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{_p_b_c_a_v_l_c_8cpp_afe9c114999f137df97529d13c1e485bb_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{_p_b_c_a_v_l_c_8cpp_afe9c114999f137df97529d13c1e485bb_icgraph}
\end{center}
\end{figure}


\hypertarget{_p_b_c_a_v_l_c_8cpp_a7f412b57c9608ade806246eef63763b8}{
\index{PBCAVLC.cpp@{PBCAVLC.cpp}!macroblock\_\-read\_\-cavlc\_\-PB\_\-y@{macroblock\_\-read\_\-cavlc\_\-PB\_\-y}}
\index{macroblock\_\-read\_\-cavlc\_\-PB\_\-y@{macroblock\_\-read\_\-cavlc\_\-PB\_\-y}!PBCAVLC.cpp@{PBCAVLC.cpp}}
\subsubsection[{macroblock\_\-read\_\-cavlc\_\-PB\_\-y}]{\setlength{\rightskip}{0pt plus 5cm}void macroblock\_\-read\_\-cavlc\_\-PB\_\-y ({\bf Bitstream} $\ast$ {\em bs}, \/  {\bf pmacroblockInfo} {\em info}, \/  {\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list})}}
\label{_p_b_c_a_v_l_c_8cpp_a7f412b57c9608ade806246eef63763b8}




\begin{footnotesize}\begin{alltt}
00054 \{
00055         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} cbp;
00056 
00057         cbp = inter\_eg\_to\_cbp[\hyperlink{_bitstream_8h_acad61027e3182912d2b9d95180d45250}{eg_read_ue}(bs)];
00058         info->\hyperlink{structmacroblock_info_a39296ecdc137fb62501453716a0330ac}{cbp_y} = cbp % 16;
00059         info->\hyperlink{structmacroblock_info_ae4618a11a8f0f396fb05879125bc449a}{cbp_uv} = cbp / 16;
00060 
00061         info->\hyperlink{structmacroblock_info_a0f244dcaf8b80e1f8adc3973e34e0a25}{transform8x8} = 0;
00062         \textcolor{keywordtype}{bool} ok = \textcolor{keyword}{true};
00063         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00064         \{
00065                 \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i] > \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ea5f8704eceeb5a6500859e20795a22035}{MB_8x8} && info->\hyperlink{structmacroblock_info_a55e45fad5c7713d3c68b86f07921d2dc}{submb_part}[i]!=
      \hyperlink{_consts4_standard_8h_a61dadd085c1777f559549e05962b2c9ead721dac5937949a38169e5c5fcfc3eb9}{MB_8x8_DIR})
00066                         ok = \textcolor{keyword}{false};
00067         \}
00068         \textcolor{comment}{//if (pps.transform8x8Flag)}
00069         \textcolor{keywordflow}{if} (ok && info->\hyperlink{structmacroblock_info_a39296ecdc137fb62501453716a0330ac}{cbp_y})
00070         \{
00071                 info->\hyperlink{structmacroblock_info_a0f244dcaf8b80e1f8adc3973e34e0a25}{transform8x8} = \hyperlink{_bitstream_8h_a930f8a3acc36d15b74015dd4579f485c}{eg_read_direct1}(bs);
00072         \}
00073         \textcolor{keywordflow}{if} (cbp > 0)
00074                 info->\hyperlink{structmacroblock_info_a732ef45ea0429985a3833fc7a93bf9fd}{qp_delta} = eg\_read\_se(bs);
00075         \textcolor{keywordflow}{else}
00076                 info->\hyperlink{structmacroblock_info_a732ef45ea0429985a3833fc7a93bf9fd}{qp_delta} = 0;
00077         info->\hyperlink{structmacroblock_info_a8c2dc78f061142480ef5b2026b8a1dff}{coded44} |= 0;
00078         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0 ; i < 4 ; i ++)
00079                 \textcolor{keywordflow}{if} (info->\hyperlink{structmacroblock_info_a39296ecdc137fb62501453716a0330ac}{cbp_y} & (1 << i))
00080                 \{
00081                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00082                         \{
00083                                 \textcolor{keywordtype}{int} idx = i/2 * 8 + i % 2 * 2 + j / 2 * 4 + j % 2
      ;
00084                                 \textcolor{keywordtype}{int} nC = \hyperlink{vlc_pred_8h_aa95b4f7002a155287414853f2fc58279}{get_luma_pred}(ref\_list, idx);
00085                                 nC = \hyperlink{_c_a_v_l_c_8cpp_aeb5a2ec1c37d4efb405d9209adfb122b}{block_residual_read_cavlc}(bs, idx, info->
      \hyperlink{structmacroblock_info_ae8398ee14b29db905e426da03b462417}{dct_y_z}[idx], 16, nC);
00086                                 \hyperlink{vlc_pred_8h_a534c4d1461b465b86fa6ed3294f7fc93}{set_luma_pred}(ref\_list, idx, nC);
00087                                 \textcolor{keywordflow}{if} (nC || info->\hyperlink{structmacroblock_info_a0f244dcaf8b80e1f8adc3973e34e0a25}{transform8x8})
00088                                 \{
00089                                         info->\hyperlink{structmacroblock_info_a8c2dc78f061142480ef5b2026b8a1dff}{coded44} |= (1<<(idx));
00090                                 \}
00091                         \}
00092                 \}
00093                 \textcolor{keywordflow}{else}
00094                 \{
00095                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00096                         \{
00097                                 \textcolor{keywordtype}{int} idx = i/2 * 8 + i % 2 * 2 + j / 2 * 4 + j % 2
      ;
00098                                 memset(info->\hyperlink{structmacroblock_info_ae8398ee14b29db905e426da03b462417}{dct_y_z}[idx], 0, 16);
00099                                 \hyperlink{vlc_pred_8h_a534c4d1461b465b86fa6ed3294f7fc93}{set_luma_pred}(ref\_list, idx, 0);
00100                         \}
00101                 \}
00102 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{_p_b_c_a_v_l_c_8cpp_a7f412b57c9608ade806246eef63763b8_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=366pt]{_p_b_c_a_v_l_c_8cpp_a7f412b57c9608ade806246eef63763b8_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{_p_b_c_a_v_l_c_8cpp_a7441ef0865bcb3db9b8064dd7375c1ea}{
\index{PBCAVLC.cpp@{PBCAVLC.cpp}!id@{id}}
\index{id@{id}!PBCAVLC.cpp@{PBCAVLC.cpp}}
\subsubsection[{id}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf id} = 0}}
\label{_p_b_c_a_v_l_c_8cpp_a7441ef0865bcb3db9b8064dd7375c1ea}
