\hypertarget{_p_slice_8cpp}{
\section{MVCDecoder/Codec/PBFrame/PSlice.cpp File Reference}
\label{_p_slice_8cpp}\index{MVCDecoder/Codec/PBFrame/PSlice.cpp@{MVCDecoder/Codec/PBFrame/PSlice.cpp}}
}
{\ttfamily \#include \char`\"{}PSlice.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}PictureInfo.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/Bitstream.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}PBMacroblockCodec.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}PBCAVLC.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}PBPredict.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/Consts4Standard.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Arch/Arch.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/ConfigureSlave.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/CAVLC.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/vlcPred.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/IFrame/ISlice.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}Codec/LoopFilter.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}math.h\char`\"{}}\par
Include dependency graph for PSlice.cpp:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{_p_slice_8cpp__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=131pt]{_p_slice_8cpp__dep__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structtag__macroblock__info}{tag\_\-macroblock\_\-info}
\end{DoxyCompactItemize}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_p_slice_8cpp_a3ef531cbe1242a15cd087b7542356808}{SAVE\_\-SIZE}~1
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structtag__macroblock__info}{tag\_\-macroblock\_\-info} \hyperlink{_p_slice_8cpp_a70507a1942c7456e54a889c4ed5cb75a}{macroblock\_\-info}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34}{require\_\-data\_\-decode} (\hyperlink{struct_coding_pict_info}{CodingPictInfo} $\ast$cpi, \hyperlink{structmacroblockdata}{macroblockdata} $\ast$list, \hyperlink{struct_p_b_predict_info}{PBPredictInfo} $\ast$plist, \hyperlink{structmacroblock_info}{macroblockInfo} $\ast$mlist, \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32\_\-t} cur\_\-r, \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32\_\-t} cur\_\-c)
\item 
void \hyperlink{_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7}{save\_\-data\_\-pb} (\hyperlink{struct_coding_pict_info}{CodingPictInfo} $\ast$cpi, \hyperlink{structmacroblockdata}{macroblockdata} $\ast$dlist, \hyperlink{structmacroblock_info}{macroblockInfo} $\ast$mlist, \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32\_\-t} cur\_\-r, \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32\_\-t} cur\_\-c)
\item 
\hyperlink{_types_8h_ae615613535a2b2445773922f5d45a861}{int16\_\-t} \hyperlink{_p_slice_8cpp_ac8e393c07f9ebbf5e72ff11b76d94edc}{median} (\hyperlink{_types_8h_ae615613535a2b2445773922f5d45a861}{int16\_\-t} a, \hyperlink{_types_8h_ae615613535a2b2445773922f5d45a861}{int16\_\-t} b, \hyperlink{_types_8h_ae615613535a2b2445773922f5d45a861}{int16\_\-t} c)
\item 
void \hyperlink{_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387}{addMacroblockdata} (\hyperlink{structmacroblockdata}{macroblockdata} $\ast$a, const \hyperlink{structexmacroblockdata}{exmacroblockdata} $\ast$b)
\item 
void \hyperlink{_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10}{process\_\-data\_\-decode} (\hyperlink{struct_coding_pict_info}{CodingPictInfo} $\ast$cpi, \hyperlink{structmacroblockdata}{macroblockdata} $\ast$dlist, \hyperlink{struct_p_b_predict_info}{PBPredictInfo} $\ast$plist, \hyperlink{structmacroblock_info}{macroblockInfo} $\ast$mlist)
\item 
\hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32\_\-t} \hyperlink{_p_slice_8cpp_a1e3d8b08bd388b81bc3c8d4f98b90822}{is\_\-data\_\-required\_\-PB} (\hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32\_\-t} idx)
\item 
\hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32\_\-t} \hyperlink{_p_slice_8cpp_af623926e47e62164f9f81117fefb9211}{is\_\-data\_\-saved\_\-PB} (\hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32\_\-t} idx)
\item 
int \hyperlink{_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff}{macroblock\_\-processor\_\-PB} (void $\ast$param)
\item 
void \hyperlink{_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b}{PSliceDecode} (\hyperlink{struct_coding_pict_info}{CodingPictInfo} $\ast$cpi, \hyperlink{struct_bitstream}{Bitstream} $\ast$bs)
\end{DoxyCompactItemize}


\subsection{Define Documentation}
\hypertarget{_p_slice_8cpp_a3ef531cbe1242a15cd087b7542356808}{
\index{PSlice.cpp@{PSlice.cpp}!SAVE\_\-SIZE@{SAVE\_\-SIZE}}
\index{SAVE\_\-SIZE@{SAVE\_\-SIZE}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{SAVE\_\-SIZE}]{\setlength{\rightskip}{0pt plus 5cm}\#define SAVE\_\-SIZE~1}}
\label{_p_slice_8cpp_a3ef531cbe1242a15cd087b7542356808}


\subsection{Typedef Documentation}
\hypertarget{_p_slice_8cpp_a70507a1942c7456e54a889c4ed5cb75a}{
\index{PSlice.cpp@{PSlice.cpp}!macroblock\_\-info@{macroblock\_\-info}}
\index{macroblock\_\-info@{macroblock\_\-info}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{macroblock\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf tag\_\-macroblock\_\-info}  {\bf macroblock\_\-info}}}
\label{_p_slice_8cpp_a70507a1942c7456e54a889c4ed5cb75a}


\subsection{Function Documentation}
\hypertarget{_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387}{
\index{PSlice.cpp@{PSlice.cpp}!addMacroblockdata@{addMacroblockdata}}
\index{addMacroblockdata@{addMacroblockdata}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{addMacroblockdata}]{\setlength{\rightskip}{0pt plus 5cm}void addMacroblockdata ({\bf macroblockdata} $\ast$ {\em a}, \/  const {\bf exmacroblockdata} $\ast$ {\em b})\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}
\label{_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387}




\begin{footnotesize}\begin{alltt}
00088 \{
00089         \hyperlink{_types_8h_adde6aaee8457bee49c2a92621fe22b79}{uint8} *aa = a->\hyperlink{structmacroblockdata_ac3e45382bf0c21b9714fe7d8e9e1a12d}{y}[0];
00090         \textcolor{keyword}{const} \hyperlink{_types_8h_a259fa4834387bd68627ddf37bb3ebdb9}{int16} *bb = b->\hyperlink{structexmacroblockdata_a1a0e62951bdb79d51731b73601701cba}{y}[0];
00091         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 16; ++j)
00092                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 24; ++i)
00093                 \{
00094                         *aa = \hyperlink{_macros_8h_adf6642a5f8ea4af79e646df542b2ee06}{CLIP1}((((\textcolor{keywordtype}{int})(*aa)) + ((\textcolor{keywordtype}{int})(*bb))));
00095                         ++aa; ++bb;
00096                 \}
00097 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=406pt]{_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387_icgraph}
\end{center}
\end{figure}


\hypertarget{_p_slice_8cpp_a1e3d8b08bd388b81bc3c8d4f98b90822}{
\index{PSlice.cpp@{PSlice.cpp}!is\_\-data\_\-required\_\-PB@{is\_\-data\_\-required\_\-PB}}
\index{is\_\-data\_\-required\_\-PB@{is\_\-data\_\-required\_\-PB}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{is\_\-data\_\-required\_\-PB}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\_\-t} is\_\-data\_\-required\_\-PB ({\bf int32\_\-t} {\em idx})}}
\label{_p_slice_8cpp_a1e3d8b08bd388b81bc3c8d4f98b90822}




\begin{footnotesize}\begin{alltt}
00112 \{
00113         \textcolor{keywordflow}{return} 1;
00114 \}
\end{alltt}\end{footnotesize}


\hypertarget{_p_slice_8cpp_af623926e47e62164f9f81117fefb9211}{
\index{PSlice.cpp@{PSlice.cpp}!is\_\-data\_\-saved\_\-PB@{is\_\-data\_\-saved\_\-PB}}
\index{is\_\-data\_\-saved\_\-PB@{is\_\-data\_\-saved\_\-PB}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{is\_\-data\_\-saved\_\-PB}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\_\-t} is\_\-data\_\-saved\_\-PB ({\bf int32\_\-t} {\em idx})}}
\label{_p_slice_8cpp_af623926e47e62164f9f81117fefb9211}




\begin{footnotesize}\begin{alltt}
00117 \{
00118         \textcolor{keywordflow}{return} 1;
00119 \}
\end{alltt}\end{footnotesize}


\hypertarget{_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff}{
\index{PSlice.cpp@{PSlice.cpp}!macroblock\_\-processor\_\-PB@{macroblock\_\-processor\_\-PB}}
\index{macroblock\_\-processor\_\-PB@{macroblock\_\-processor\_\-PB}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{macroblock\_\-processor\_\-PB}]{\setlength{\rightskip}{0pt plus 5cm}int macroblock\_\-processor\_\-PB (void $\ast$ {\em param})}}
\label{_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff}




\begin{footnotesize}\begin{alltt}
00131 \{
00132         \hyperlink{structtag__macroblock__info}{macroblock_info} *mi = (\hyperlink{structtag__macroblock__info}{macroblock_info} *)param;
00133         \hyperlink{structmacroblockdata}{macroblockdata} datalist;
00134         \hyperlink{struct_p_b_predict_info}{PBPredictInfo} predlist;
00135         \textcolor{keywordtype}{int} row = mi->\hyperlink{structtag__macroblock__info_a0431b0abc33b349505f0b83fd1537473}{row};
00136         \textcolor{keywordtype}{int} MBwidth = mi->\hyperlink{structtag__macroblock__info_ae7a0c6b68c7cbc0ffb1a82799eb386ef}{cpi}->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} >> 4;
00137         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < MBwidth; ++i)
00138         \{
00139                 \textcolor{keywordflow}{while} (mi->\hyperlink{structtag__macroblock__info_affbe6dcc30999a24be78a7deb7a0e78b}{allow}<=i)
00140                         Sleep(1);
00141                 \textcolor{keywordflow}{if} (row==1 && i==16)
00142                 \{
00143                         printf(\textcolor{stringliteral}{""});
00144                 \}
00145                 \textcolor{keywordflow}{if} (mi->\hyperlink{structtag__macroblock__info_a150f68ca8a911ab2443199821f7b97e5}{mblist}[i].\hyperlink{structmacroblock_info_af09f9c522a04fe712528e6db6a696866}{mbtype}==2)
00146                 \{
00147                         \hyperlink{structpredict_info}{predictInfo} predlist;
00148                         \hyperlink{_i_slice_8cpp_a62bde0c28d855f00622a319f1be6dfd2}{require_data_decode_I}(mi->\hyperlink{structtag__macroblock__info_ae7a0c6b68c7cbc0ffb1a82799eb386ef}{cpi}, &datalist, &predlist, row,
       i);
00149                         \hyperlink{_i_slice_8cpp_a23c43acab8cba26c6a4938028715f817}{process_data_decode_I}(mi->\hyperlink{structtag__macroblock__info_ae7a0c6b68c7cbc0ffb1a82799eb386ef}{cpi}, &datalist, &predlist, mi->
      \hyperlink{structtag__macroblock__info_a150f68ca8a911ab2443199821f7b97e5}{mblist}+i);
00150                         \hyperlink{_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7}{save_data_pb}(mi->\hyperlink{structtag__macroblock__info_ae7a0c6b68c7cbc0ffb1a82799eb386ef}{cpi}, &datalist, mi->\hyperlink{structtag__macroblock__info_a150f68ca8a911ab2443199821f7b97e5}{mblist}+i, row, i);
00151                 \}
00152                 \textcolor{keywordflow}{else}
00153                 \{
00154                         \hyperlink{_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34}{require_data_decode}(mi->\hyperlink{structtag__macroblock__info_ae7a0c6b68c7cbc0ffb1a82799eb386ef}{cpi}, &datalist, &predlist, mi->
      \hyperlink{structtag__macroblock__info_a150f68ca8a911ab2443199821f7b97e5}{mblist}+i, row, i);
00155                         \hyperlink{_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10}{process_data_decode}(mi->\hyperlink{structtag__macroblock__info_ae7a0c6b68c7cbc0ffb1a82799eb386ef}{cpi}, &datalist, &predlist, mi->
      \hyperlink{structtag__macroblock__info_a150f68ca8a911ab2443199821f7b97e5}{mblist}+i);
00156                         \hyperlink{_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7}{save_data_pb}(mi->\hyperlink{structtag__macroblock__info_ae7a0c6b68c7cbc0ffb1a82799eb386ef}{cpi}, &datalist, mi->\hyperlink{structtag__macroblock__info_a150f68ca8a911ab2443199821f7b97e5}{mblist}+i, row, i);
00157                 \}
00158                 mi->\hyperlink{structtag__macroblock__info_ae6d03b766139a5abf281211e48c8d49b}{next}->\hyperlink{structtag__macroblock__info_affbe6dcc30999a24be78a7deb7a0e78b}{allow} = i - 1;
00159         \}
00160         mi->\hyperlink{structtag__macroblock__info_ae6d03b766139a5abf281211e48c8d49b}{next}->\hyperlink{structtag__macroblock__info_affbe6dcc30999a24be78a7deb7a0e78b}{allow} = MBwidth;
00161         \textcolor{keywordflow}{return} 0;
00162 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=263pt]{_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_icgraph}
\end{center}
\end{figure}


\hypertarget{_p_slice_8cpp_ac8e393c07f9ebbf5e72ff11b76d94edc}{
\index{PSlice.cpp@{PSlice.cpp}!median@{median}}
\index{median@{median}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{median}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int16\_\-t} median ({\bf int16\_\-t} {\em a}, \/  {\bf int16\_\-t} {\em b}, \/  {\bf int16\_\-t} {\em c})}}
\label{_p_slice_8cpp_ac8e393c07f9ebbf5e72ff11b76d94edc}




\begin{footnotesize}\begin{alltt}
00079 \{
00080         \textcolor{keywordflow}{if} (a>=b && a<=c)
00081                 \textcolor{keywordflow}{return} a;
00082         \textcolor{keywordflow}{if} (b>=a && b<=c)
00083                 \textcolor{keywordflow}{return} b;
00084         \textcolor{keywordflow}{return} c;
00085 \}
\end{alltt}\end{footnotesize}


\hypertarget{_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10}{
\index{PSlice.cpp@{PSlice.cpp}!process\_\-data\_\-decode@{process\_\-data\_\-decode}}
\index{process\_\-data\_\-decode@{process\_\-data\_\-decode}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{process\_\-data\_\-decode}]{\setlength{\rightskip}{0pt plus 5cm}void process\_\-data\_\-decode ({\bf CodingPictInfo} $\ast$ {\em cpi}, \/  {\bf macroblockdata} $\ast$ {\em dlist}, \/  {\bf PBPredictInfo} $\ast$ {\em plist}, \/  {\bf macroblockInfo} $\ast$ {\em mlist})}}
\label{_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10}




\begin{footnotesize}\begin{alltt}
00100 \{
00101         \hyperlink{structexmacroblockdata}{exmacroblockdata} delta;
00102 
00103         \hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp_a9bf71cd5cc7efb47cefa4dc05a66d1a0}{macroblockPBPrediction}(cpi, plist, dlist, mlist, dlist);
00104         
00105         \hyperlink{_p_b_macroblock_codec_8cpp_ad7127f8c7dabe086c8648f61be463740}{macroblockInterDecode}(&delta, cpi->\hyperlink{struct_coding_pict_info_a6e808cdf552c3a18da4b75f4d0c35c28}{baseQP} + mlist->\hyperlink{structmacroblock_info_a732ef45ea0429985a3833fc7a93bf9fd}{qp_delta}, 
      \hyperlink{_consts4_standard_8h_a764e5d7924eac5d10266946aa1d1c695}{QPLuma2Chroma}[cpi->\hyperlink{struct_coding_pict_info_a6e808cdf552c3a18da4b75f4d0c35c28}{baseQP} + mlist->\hyperlink{structmacroblock_info_a732ef45ea0429985a3833fc7a93bf9fd}{qp_delta}], mlist);
00106 
00107         \hyperlink{_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387}{addMacroblockdata}(dlist, &delta);
00108 
00109 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=337pt]{_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_icgraph}
\end{center}
\end{figure}


\hypertarget{_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b}{
\index{PSlice.cpp@{PSlice.cpp}!PSliceDecode@{PSliceDecode}}
\index{PSliceDecode@{PSliceDecode}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{PSliceDecode}]{\setlength{\rightskip}{0pt plus 5cm}void PSliceDecode ({\bf CodingPictInfo} $\ast$ {\em cpi}, \/  {\bf Bitstream} $\ast$ {\em bs})}}
\label{_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b}




\begin{footnotesize}\begin{alltt}
00165 \{
00166         \textcolor{keywordtype}{bool} isParallel = cpi->\hyperlink{struct_coding_pict_info_ab254953ed2b4e1de64f05eadbc825646}{MP} * \hyperlink{_common_8h_a3a7c35b14731007b6847c0d57ba23d68}{MB_E} > 1.0;
00167         \textcolor{keywordtype}{int} MBheight = cpi->\hyperlink{struct_coding_pict_info_aa6352dc53234c55d1a0c252c5b8d6141}{Size_Height} >> 4,
00168                 MBwidth = cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} >> 4;
00169         \hyperlink{structmacroblock_info}{macroblockInfo} *mlist = \textcolor{keyword}{new} \hyperlink{structmacroblock_info}{macroblockInfo}[MBheight * MBwidth];
00170         \hyperlink{structtag__macroblock__info}{macroblock_info} *mis = \textcolor{keyword}{new} \hyperlink{structtag__macroblock__info}{macroblock_info}[\textcolor{comment}{/*ConfigureSlave::PARALLEL\_SIZ
      E*/}cpi->\hyperlink{struct_coding_pict_info_ab254953ed2b4e1de64f05eadbc825646}{MP} + 1];
00171         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i <= \textcolor{comment}{/*ConfigureSlave::PARALLEL\_SIZE*/}cpi->\hyperlink{struct_coding_pict_info_ab254953ed2b4e1de64f05eadbc825646}{MP}; ++i)
00172         \{
00173                 mis[i].\hyperlink{structtag__macroblock__info_ae7a0c6b68c7cbc0ffb1a82799eb386ef}{cpi} = cpi;
00174                 mis[i].\hyperlink{structtag__macroblock__info_affbe6dcc30999a24be78a7deb7a0e78b}{allow} = MBwidth;
00175                 mis[i].\hyperlink{structtag__macroblock__info_ae6d03b766139a5abf281211e48c8d49b}{next} = mis+i+1;
00176         \}
00177         mis[\textcolor{comment}{/*ConfigureSlave::PARALLEL\_SIZE*/}cpi->\hyperlink{struct_coding_pict_info_ab254953ed2b4e1de64f05eadbc825646}{MP}].\hyperlink{structtag__macroblock__info_ae6d03b766139a5abf281211e48c8d49b}{next} = mis;
00178 
00179         \hyperlink{structtag__cavlc__ref__list}{cavlc_ref_list} ref\_list;
00180         \hyperlink{structtag__cavlc__ref}{cavlc_ref} *topRef = \textcolor{keyword}{new} \hyperlink{structtag__cavlc__ref}{cavlc_ref}[MBwidth * 4 + 5];
00181         memset(topRef, 0, \textcolor{keyword}{sizeof}(\hyperlink{structtag__cavlc__ref}{cavlc_ref}) * (MBwidth * 4 + 5));
00182         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < MBwidth * 4 + 5; ++i)
00183         \{
00184                 topRef[i].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff} = 0x40;
00185                 topRef[i].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC} = 0x40;
00186                 topRef[i].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 0x40;
00187                 topRef[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0] = 0x4000;
00188                 topRef[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0] = 0x4000;
00189                 topRef[i].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[1] = 0x4000;
00190                 topRef[i].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[1] = 0x4000;
00191                 topRef[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0] = -1;
00192                 topRef[i].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[1] = -1;
00193         \}
00194         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left} = \textcolor{keyword}{new} \hyperlink{structtag__cavlc__ref}{cavlc_ref}[4];
00195         ref\_list.\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft} = topRef[0];
00196 
00197         \textcolor{keywordtype}{int} skip = -1;
00198         \textcolor{keywordtype}{int} cQp = cpi->\hyperlink{struct_coding_pict_info_a6e808cdf552c3a18da4b75f4d0c35c28}{baseQP};
00199         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} refMBt = \textcolor{keyword}{sizeof}(\hyperlink{structref_vector}{refVector}),
00200                 refStride = cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} * 2 * refMBt;
00201         \textcolor{keywordtype}{int} tmp\_i = 0;
00202         for (\textcolor{keywordtype}{int} r = 0; r < MBheight; ++r)
00203         \{
00204                 memset(ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}, 0, \textcolor{keyword}{sizeof}(\hyperlink{structtag__cavlc__ref}{cavlc_ref}) * 4);
00205                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00206                 \{
00207                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff} = 0x40;
00208                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC} = 0x40;
00209                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = 0x40;
00210                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0] = 0x4000;
00211                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0] = 0x4000;
00212                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[1] = 0x4000;
00213                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[1] = 0x4000;
00214                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0] = -1;
00215                         ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[j].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[1] = -1;
00216                 \}
00217                 ref\_list.\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft} = ref\_list.\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[0];
00218                 ref\_list.\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top} = topRef + 1;
00219                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < MBwidth; ++c)
00220                 \{
00221                         \hyperlink{structmacroblock_info}{macroblockInfo} *mmlist = mlist + tmp\_i;
00222                         \hyperlink{structtag__cavlc__ref}{cavlc_ref} newTL = ref\_list.\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[3];
00223                         memset(mmlist, 0, \textcolor{keyword}{sizeof}(*mmlist));
00224                         \textcolor{comment}{//memset(&mlist[tmp\_i], 0, sizeof(mlist[tmp\_i]));}
00225                         \textcolor{comment}{//mlist[tmp\_i].x = tmp\_i / MBwidth;}
00226                         \textcolor{comment}{//mlist[tmp\_i].y = tmp\_i % MBwidth;}
00227                         mmlist->\hyperlink{structmacroblock_info_ae46d0fbf2f0e11fc965a60845db47065}{mbR} = tmp\_i / MBwidth;
00228                         mmlist->\hyperlink{structmacroblock_info_ab6270e45676c0f84c1450cf90a84df52}{mbC} = tmp\_i % MBwidth;
00229                         \textcolor{keywordflow}{if} (r==1 && c==16 && cpi->\hyperlink{struct_coding_pict_info_a987595091bfba91b3166b04bca988697}{viewId}==0 && cpi->\hyperlink{struct_coding_pict_info_ad85dae4751165ea3cbb8f7b8c6e61dc3}{timeId}==16)
00230                         \{
00231                                 printf(\textcolor{stringliteral}{""});
00232                         \}
00233                         mlist[tmp\_i].\hyperlink{structmacroblock_info_ad7cf6f2dc254dc14005ab5705bde6349}{is_skip} = skip;
00234                         \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_a6bfb22b57d0d223546150c71e125fb39}{PictType} == 0)
00235                                 \hyperlink{_p_b_c_a_v_l_c_8cpp_afe9c114999f137df97529d13c1e485bb}{macroblock_read_cavlc_P_slice}(bs, mmlist, cpi, &r
      ef\_list);
00236                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_a6bfb22b57d0d223546150c71e125fb39}{PictType} == 1)
00237                         \{
00238                                 \textcolor{keywordtype}{int} xr = r;
00239                                 \textcolor{keywordflow}{if} (xr >= MBheight)
00240                                         xr = MBheight - 1;
00241                                 \hyperlink{structref_vector}{refVector} *col\_refs = (\hyperlink{structref_vector}{refVector}*)(cpi->
      \hyperlink{struct_coding_pict_info_a1c02c2f7c7a4a9fb4ed10e422d64bd32}{ref_refVec}[1][0] + refStride * xr + c * 32 * refMBt);
00242                                 \hyperlink{_p_b_c_a_v_l_c_8cpp_a9d0d19143ae03ff45bcfbf2c9980b11b}{macroblock_read_cavlc_B_slice}(bs, col\_refs, mmlis
      t, cpi, &ref\_list);
00243                         \}
00244                         \textcolor{keywordflow}{else}
00245                                 \hyperlink{_debug_8h_a101586fab2b90a8adffe50a3550e235d}{ASSERT}(0);
00246                         skip = mmlist->\hyperlink{structmacroblock_info_ad7cf6f2dc254dc14005ab5705bde6349}{is_skip};
00247                         cQp += mmlist->\hyperlink{structmacroblock_info_a732ef45ea0429985a3833fc7a93bf9fd}{qp_delta};
00248                         mmlist->\hyperlink{structmacroblock_info_a732ef45ea0429985a3833fc7a93bf9fd}{qp_delta} = cQp - cpi->\hyperlink{struct_coding_pict_info_a6e808cdf552c3a18da4b75f4d0c35c28}{baseQP};
00249                         ++tmp\_i;
00250                         ref\_list.\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top} += 4;
00251                         ref\_list.\hyperlink{structtag__cavlc__ref__list_ac71d66d925cb5fbc0c15812f70aa2e78}{topleft} = newTL;
00252                 \}
00253         \}
00254 
00255         \textcolor{keywordtype}{int} p = 0, p1 = p + 1, p2 = p1 + 1;
00256         \textcolor{keywordflow}{if} (\textcolor{comment}{/*ConfigureSlave::PARALLEL\_SIZE*/}cpi->\hyperlink{struct_coding_pict_info_ab254953ed2b4e1de64f05eadbc825646}{MP} == 1)
00257                 p2 = 0;
00258         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < MBheight; ++i)
00259         \{
00260                 \textcolor{keywordflow}{while} (mis[p2].allow != MBwidth)
00261                         Sleep(1);
00262                 mis[p1].\hyperlink{structtag__macroblock__info_affbe6dcc30999a24be78a7deb7a0e78b}{allow} = 0;
00263                 mis[p].\hyperlink{structtag__macroblock__info_a0431b0abc33b349505f0b83fd1537473}{row} = i;
00264                 mis[p].\hyperlink{structtag__macroblock__info_a150f68ca8a911ab2443199821f7b97e5}{mblist} = mlist + i * MBwidth;
00265                 \textcolor{keywordflow}{if} (\textcolor{comment}{/*ConfigureSlave::NO\_PARALLEL*/}!isParallel)
00266                         \hyperlink{_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff}{macroblock_processor_PB}(mis+p);
00267                 \textcolor{keywordflow}{else}
00268                         MVCCreateMasterThread(\hyperlink{_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff}{macroblock_processor_PB}, mis+p);
00269                 p = p1; p1 = p2;
00270                 \textcolor{keywordflow}{if} (p2==\textcolor{comment}{/*ConfigureSlave::PARALLEL\_SIZE*/}cpi->\hyperlink{struct_coding_pict_info_ab254953ed2b4e1de64f05eadbc825646}{MP})
00271                         p2 = 0;
00272                 \textcolor{keywordflow}{else}
00273                         ++p2;
00274         \}
00275         \textcolor{keywordflow}{while} (mis[p].allow != MBwidth)
00276                 Sleep(1);
00277 
00278         \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_a987595091bfba91b3166b04bca988697}{viewId}==0 && cpi->\hyperlink{struct_coding_pict_info_ad85dae4751165ea3cbb8f7b8c6e61dc3}{timeId}==-16)
00279         \textcolor{comment}{//if (false)}
00280         \{
00281                 printf(\textcolor{stringliteral}{"===============Before==============\(\backslash\)n"});
00282                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < MBheight; ++ii)
00283                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < MBwidth; ++jj)
00284                         \{
00285                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 16; ++i)
00286                                 \{
00287                                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 16; ++j)
00288                                         \{
00289                                                 printf(\textcolor{stringliteral}{"%4d"}, cpi->\hyperlink{struct_coding_pict_info_a62aee8cc8c9cac725d4f44a19ddc8c2b}{lumaStart}[(ii*
      16+i)*cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width}+jj*16+j]);
00290                                         \}
00291                                         printf(\textcolor{stringliteral}{"\(\backslash\)n"});
00292                                 \}
00293                                 printf(\textcolor{stringliteral}{"\(\backslash\)n"});
00294                         \}
00295                 printf(\textcolor{stringliteral}{"===Before===\(\backslash\)n"});
00296                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < MBheight; ++ii)
00297                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < MBwidth; ++jj)
00298                         \{
00299                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 8; ++i)
00300                                 \{
00301                                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; ++j)
00302                                         \{
00303                                                 printf(\textcolor{stringliteral}{"%4d"}, cpi->\hyperlink{struct_coding_pict_info_a103a3180ba57db0bd984a53f0668b70b}{chromaUStart}[(
      ii*8+i)*cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width}/2+jj*8+j]);
00304                                         \}
00305                                         printf(\textcolor{stringliteral}{"\(\backslash\)n"});
00306                                 \}
00307                                 printf(\textcolor{stringliteral}{"\(\backslash\)n"});
00308                         \}
00309                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < MBwidth * MBheight; ++i)
00310                 \{
00311                         \textcolor{keywordflow}{if} (i==240)
00312                         \{
00313                                 printf(\textcolor{stringliteral}{""});
00314                         \}
00315                         \hyperlink{_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41}{FilterMB}(cpi, mlist, i);
00316                 \}
00317                 printf(\textcolor{stringliteral}{"===============After==============\(\backslash\)n"});
00318                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < MBheight; ++ii)
00319                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < MBwidth; ++jj)
00320                         \{
00321                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 16; ++i)
00322                                 \{
00323                                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 16; ++j)
00324                                         \{
00325                                                 printf(\textcolor{stringliteral}{"%4d"}, cpi->\hyperlink{struct_coding_pict_info_a62aee8cc8c9cac725d4f44a19ddc8c2b}{lumaStart}[(ii*
      16+i)*cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width}+jj*16+j]);
00326                                         \}
00327                                         printf(\textcolor{stringliteral}{"\(\backslash\)n"});
00328                                 \}
00329                                 printf(\textcolor{stringliteral}{"\(\backslash\)n"});
00330                         \}
00331                 printf(\textcolor{stringliteral}{"===After===\(\backslash\)n"});
00332                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ii = 0; ii < MBheight; ++ii)
00333                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} jj = 0; jj < MBwidth; ++jj)
00334                         \{
00335                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 8; ++i)
00336                                 \{
00337                                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; ++j)
00338                                         \{
00339                                                 printf(\textcolor{stringliteral}{"%4d"}, cpi->\hyperlink{struct_coding_pict_info_a103a3180ba57db0bd984a53f0668b70b}{chromaUStart}[(
      ii*8+i)*cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width}/2+jj*8+j]);
00340                                         \}
00341                                         printf(\textcolor{stringliteral}{"\(\backslash\)n"});
00342                                 \}
00343                                 printf(\textcolor{stringliteral}{"\(\backslash\)n"});
00344                         \}
00345                 exit(0);
00346         \}
00347         \textcolor{keywordflow}{else}
00348         \{
00349                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < MBwidth * MBheight; ++i)
00350                 \{
00351                         \hyperlink{_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41}{FilterMB}(cpi, mlist, i);
00352                 \}
00353         \}
00354         \textcolor{keyword}{delete} []mis;
00355         \textcolor{keyword}{delete} []mlist;
00356 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_icgraph}
\end{center}
\end{figure}


\hypertarget{_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34}{
\index{PSlice.cpp@{PSlice.cpp}!require\_\-data\_\-decode@{require\_\-data\_\-decode}}
\index{require\_\-data\_\-decode@{require\_\-data\_\-decode}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{require\_\-data\_\-decode}]{\setlength{\rightskip}{0pt plus 5cm}void require\_\-data\_\-decode ({\bf CodingPictInfo} $\ast$ {\em cpi}, \/  {\bf macroblockdata} $\ast$ {\em list}, \/  {\bf PBPredictInfo} $\ast$ {\em plist}, \/  {\bf macroblockInfo} $\ast$ {\em mlist}, \/  {\bf int32\_\-t} {\em cur\_\-r}, \/  {\bf int32\_\-t} {\em cur\_\-c})}}
\label{_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34}




\begin{footnotesize}\begin{alltt}
00030 \{
00031         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} i = 0;
00032         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} MB\_height = cpi->\hyperlink{struct_coding_pict_info_aa6352dc53234c55d1a0c252c5b8d6141}{Size_Height} >> 4;
00033         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} MB\_width = cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} >> 4;
00034 
00035         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ls = 0; ls < 2; ++ls)
00036         \{
00037                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ri = 0; ri < cpi->\hyperlink{struct_coding_pict_info_ab48541faa825385baeca833ffe98b3d4}{Ref_Count}[ls]; ++ri)
00038                 \{
00039 
00040                         plist[i].\hyperlink{struct_p_b_predict_info_a1eda4a8837300bed803d81ada5dfbb30}{myr} = cur\_r;
00041                         plist[i].\hyperlink{struct_p_b_predict_info_ac46c76693de4dab4a105494d1220dc0a}{myc} = cur\_c;
00042                         plist[i].\hyperlink{struct_p_b_predict_info_a96c9413deeef7bfcd16237bfef11c8ae}{stride} = cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width};
00043                         plist[i].\hyperlink{struct_p_b_predict_info_a26162322380d1afd96ee0c894f6ee08e}{sizew} = cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width};
00044                         plist[i].\hyperlink{struct_p_b_predict_info_a22f7b2cc9619bf678980e45fc9ef7f1b}{sizeh} = cpi->\hyperlink{struct_coding_pict_info_aa6352dc53234c55d1a0c252c5b8d6141}{Size_Height};
00045                 
00046                         plist[i].\hyperlink{struct_p_b_predict_info_a7c7d2c72aa539c0e2365b4e04e18a0ca}{pdata_y0}[ls][ri] = cpi->\hyperlink{struct_coding_pict_info_a8c8c3eeff0744de167b9ea6c5a7938a0}{ref_lumaStart}[ls][ri];
00047                         plist[i].\hyperlink{struct_p_b_predict_info_aaf07e44714249f4131c030df88bf8169}{pdata_u0}[ls][ri] = cpi->\hyperlink{struct_coding_pict_info_a48b49b89c36f39af860936fbf3a3c991}{ref_chromaUStart}[ls][ri]
      ;
00048                         plist[i].\hyperlink{struct_p_b_predict_info_a8dc8f424bcb4274ef583207aa9827962}{pdata_v0}[ls][ri] = cpi->\hyperlink{struct_coding_pict_info_a5c703063430f731196d3acea2926d5bd}{ref_chromaVStart}[ls][ri]
      ;
00049                 \}
00050         \}
00051 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34_icgraph}
\end{center}
\end{figure}


\hypertarget{_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7}{
\index{PSlice.cpp@{PSlice.cpp}!save\_\-data\_\-pb@{save\_\-data\_\-pb}}
\index{save\_\-data\_\-pb@{save\_\-data\_\-pb}!PSlice.cpp@{PSlice.cpp}}
\subsubsection[{save\_\-data\_\-pb}]{\setlength{\rightskip}{0pt plus 5cm}void save\_\-data\_\-pb ({\bf CodingPictInfo} $\ast$ {\em cpi}, \/  {\bf macroblockdata} $\ast$ {\em dlist}, \/  {\bf macroblockInfo} $\ast$ {\em mlist}, \/  {\bf int32\_\-t} {\em cur\_\-r}, \/  {\bf int32\_\-t} {\em cur\_\-c})}}
\label{_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7}




\begin{footnotesize}\begin{alltt}
00054 \{
00055         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} j;
00056         \hyperlink{_types_8h_a115ba3a1b24a8702355c5dbd61ce01e0}{int32_t} MB\_width = cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} >> 4,
00057                 refMBt = \textcolor{keyword}{sizeof}(\hyperlink{structref_vector}{refVector}),
00058                 refStride = cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} * 2 * refMBt;
00059         \hyperlink{_types_8h_a363e4d606232036a6b89060813c45489}{uint8_t} *luma = cpi->\hyperlink{struct_coding_pict_info_a62aee8cc8c9cac725d4f44a19ddc8c2b}{lumaStart} + cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} * cur\_r * 16 + cur\_c * 1
      6,
00060                 *chromaU = cpi->\hyperlink{struct_coding_pict_info_a103a3180ba57db0bd984a53f0668b70b}{chromaUStart} + cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} / 2 * cur\_r * 8 + 
      cur\_c * 8,
00061                 *chromaV = cpi->\hyperlink{struct_coding_pict_info_a7be3395b2a1e7f4b384421c2490dcfdc}{chromaVStart} + cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} / 2 * cur\_r * 8 + 
      cur\_c * 8,
00062                 *ref = cpi->\hyperlink{struct_coding_pict_info_aa49520dd613a44185d6a41af8992d66c}{refVec} + refStride * cur\_r + cur\_c * 32 * refMBt;
00063         for (j = 0; j < 16; ++j)
00064         \{
00065                 PutAndWait(dlist->\hyperlink{structmacroblockdata_ac3e45382bf0c21b9714fe7d8e9e1a12d}{y}[j], luma, \textcolor{keyword}{sizeof}(dlist->\hyperlink{structmacroblockdata_ac3e45382bf0c21b9714fe7d8e9e1a12d}{y}[j]));
00066                 luma += cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width};
00067         \}
00068         \textcolor{keywordflow}{for} (j = 0; j < 8; ++j)
00069         \{
00070                 PutAndWait(dlist->\hyperlink{structmacroblockdata_a07e17343606921d436bfddef89d0d93f}{uv}[0][j], chromaU, \textcolor{keyword}{sizeof}(dlist->\hyperlink{structmacroblockdata_a07e17343606921d436bfddef89d0d93f}{uv}[0][j]));
00071                 PutAndWait(dlist->\hyperlink{structmacroblockdata_a07e17343606921d436bfddef89d0d93f}{uv}[1][j], chromaV, \textcolor{keyword}{sizeof}(dlist->\hyperlink{structmacroblockdata_a07e17343606921d436bfddef89d0d93f}{uv}[1][j]));
00072                 chromaU += cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} / 2;
00073                 chromaV += cpi->\hyperlink{struct_coding_pict_info_afeeb373571d44e64d473524e6127f3f7}{Size_Width} / 2;
00074         \}
00075         PutAndWait(mlist->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}, ref, refMBt * 32);
00076 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7_icgraph}
\end{center}
\end{figure}


