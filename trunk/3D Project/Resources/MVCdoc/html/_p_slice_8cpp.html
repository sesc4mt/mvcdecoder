<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MVC: MVCDecoder/Codec/PBFrame/PSlice.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MVCDecoder/Codec/PBFrame/PSlice.cpp File Reference</h1><code>#include &quot;<a class="el" href="_p_slice_8cpp.html">PSlice.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_picture_info_8h_source.html">PictureInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_bitstream_8h_source.html">Codec/Bitstream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_p_b_macroblock_codec_8h_source.html">PBMacroblockCodec.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_p_b_c_a_v_l_c_8h_source.html">PBCAVLC.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_source.html">PBPredict.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_consts4_standard_8h_source.html">Codec/Consts4Standard.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_arch_8h_source.html">Arch/Arch.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_configure_slave_8h_source.html">Codec/ConfigureSlave.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_c_a_v_l_c_8h_source.html">Codec/CAVLC.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vlc_pred_8h_source.html">Codec/vlcPred.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_i_slice_8h_source.html">Codec/IFrame/ISlice.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_loop_filter_8h_source.html">Codec/LoopFilter.h</a>&quot;</code><br/>
<code>#include &quot;math.h&quot;</code><br/>
<div class="dynheader">
Include dependency graph for PSlice.cpp:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp__incl.png" border="0" usemap="#_m_v_c_decoder_2_codec_2_p_b_frame_2_p_slice_8cpp_map" alt=""/></div>
<map name="_m_v_c_decoder_2_codec_2_p_b_frame_2_p_slice_8cpp_map" id="_m_v_c_decoder_2_codec_2_p_b_frame_2_p_slice_8cpp">
<area shape="rect" id="node4" href="_picture_info_8h.html" title="PictureInfo.h" alt="" coords="296,238,389,267"/><area shape="rect" id="node26" href="_bitstream_8h.html" title="Codec/Bitstream.h" alt="" coords="701,238,832,267"/><area shape="rect" id="node35" href="_p_b_macroblock_codec_8h.html" title="PBMacroblockCodec.h" alt="" coords="364,83,519,112"/><area shape="rect" id="node38" href="_p_b_c_a_v_l_c_8h.html" title="PBCAVLC.h" alt="" coords="633,83,727,112"/><area shape="rect" id="node43" href="_c_a_v_l_c_8h.html" title="Codec/CAVLC.h" alt="" coords="752,160,869,190"/><area shape="rect" id="node47" href="vlc_pred_8h.html" title="Codec/vlcPred.h" alt="" coords="856,238,971,267"/><area shape="rect" id="node50" href="_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h.html" title="PBPredict.h" alt="" coords="261,160,352,190"/><area shape="rect" id="node54" href="_consts4_standard_8h.html" title="Codec/Consts4Standard.h" alt="" coords="99,238,272,267"/><area shape="rect" id="node57" href="_arch_8h.html" title="Arch/Arch.h" alt="" coords="899,315,989,344"/><area shape="rect" id="node61" href="_configure_slave_8h.html" title="Codec/ConfigureSlave.h" alt="" coords="1045,83,1203,112"/><area shape="rect" id="node65" href="_i_slice_8h.html" title="Codec/IFrame/ISlice.h" alt="" coords="477,160,627,190"/><area shape="rect" id="node70" href="_loop_filter_8h.html" title="Codec/LoopFilter.h" alt="" coords="5,160,136,190"/><area shape="rect" id="node11" href="_types_8h.html" title="Types.h" alt="" coords="535,392,601,422"/><area shape="rect" id="node13" href="_macros_8h.html" title="Macros.h" alt="" coords="244,315,319,344"/><area shape="rect" id="node18" href="_debug_8h.html" title="Debug.h" alt="" coords="133,315,203,344"/><area shape="rect" id="node28" href="_common_8h.html" title="Common.h" alt="" coords="495,315,580,344"/></map>
</div>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp__dep__incl.png" border="0" usemap="#_m_v_c_decoder_2_codec_2_p_b_frame_2_p_slice_8cppdep_map" alt=""/></div>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtag__macroblock__info.html">tag_macroblock_info</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#a3ef531cbe1242a15cd087b7542356808">SAVE_SIZE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtag__macroblock__info.html">tag_macroblock_info</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#a70507a1942c7456e54a889c4ed5cb75a">macroblock_info</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#af87c75a22443110432dc841e4f0bee34">require_data_decode</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblockdata.html">macroblockdata</a> *list, <a class="el" href="struct_p_b_predict_info.html">PBPredictInfo</a> *plist, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, <a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> cur_r, <a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> cur_c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#a2f76a7d2cb0721bd6dcba7ec01a808f7">save_data_pb</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblockdata.html">macroblockdata</a> *dlist, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, <a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> cur_r, <a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> cur_c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#ac8e393c07f9ebbf5e72ff11b76d94edc">median</a> (<a class="el" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a> a, <a class="el" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a> b, <a class="el" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a> c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#a00165500ab0f46d3f32bbb90b4e50387">addMacroblockdata</a> (<a class="el" href="structmacroblockdata.html">macroblockdata</a> *a, const <a class="el" href="structexmacroblockdata.html">exmacroblockdata</a> *b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#aa96fb8edf03d2055a439bb9fefd52a10">process_data_decode</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblockdata.html">macroblockdata</a> *dlist, <a class="el" href="struct_p_b_predict_info.html">PBPredictInfo</a> *plist, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#a1e3d8b08bd388b81bc3c8d4f98b90822">is_data_required_PB</a> (<a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#af623926e47e62164f9f81117fefb9211">is_data_saved_PB</a> (<a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff">macroblock_processor_PB</a> (void *param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_p_slice_8cpp.html#a08458d29753b64df9de1d40b748fdf0b">PSliceDecode</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="struct_bitstream.html">Bitstream</a> *bs)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a3ef531cbe1242a15cd087b7542356808"></a><!-- doxytag: member="PSlice.cpp::SAVE_SIZE" ref="a3ef531cbe1242a15cd087b7542356808" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAVE_SIZE&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a70507a1942c7456e54a889c4ed5cb75a"></a><!-- doxytag: member="PSlice.cpp::macroblock_info" ref="a70507a1942c7456e54a889c4ed5cb75a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtag__macroblock__info.html">tag_macroblock_info</a>  <a class="el" href="structtag__macroblock__info.html">macroblock_info</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a00165500ab0f46d3f32bbb90b4e50387"></a><!-- doxytag: member="PSlice.cpp::addMacroblockdata" ref="a00165500ab0f46d3f32bbb90b4e50387" args="(macroblockdata *a, const exmacroblockdata *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addMacroblockdata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmacroblockdata.html">macroblockdata</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structexmacroblockdata.html">exmacroblockdata</a> *&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00088"></a>00088 {
<a name="l00089"></a>00089         <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *aa = a-&gt;<a class="code" href="structmacroblockdata.html#ac3e45382bf0c21b9714fe7d8e9e1a12d">y</a>[0];
<a name="l00090"></a>00090         <span class="keyword">const</span> <a class="code" href="_types_8h.html#a259fa4834387bd68627ddf37bb3ebdb9">int16</a> *bb = b-&gt;<a class="code" href="structexmacroblockdata.html#a1a0e62951bdb79d51731b73601701cba">y</a>[0];
<a name="l00091"></a>00091         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 16; ++j)
<a name="l00092"></a>00092                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 24; ++i)
<a name="l00093"></a>00093                 {
<a name="l00094"></a>00094                         *aa = <a class="code" href="_macros_8h.html#adf6642a5f8ea4af79e646df542b2ee06">CLIP1</a>((((<span class="keywordtype">int</span>)(*aa)) + ((<span class="keywordtype">int</span>)(*bb))));
<a name="l00095"></a>00095                         ++aa; ++bb;
<a name="l00096"></a>00096                 }
<a name="l00097"></a>00097 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387_icgraph.png" border="0" usemap="#_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387_icgraph_map" alt=""></div>
<map name="_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387_icgraph_map" id="_p_slice_8cpp_a00165500ab0f46d3f32bbb90b4e50387_icgraph">
<area shape="rect" id="node3" href="_p_slice_8cpp.html#aa96fb8edf03d2055a439bb9fefd52a10" title="process_data_decode" alt="" coords="189,32,339,61"/><area shape="rect" id="node5" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="387,32,565,61"/><area shape="rect" id="node7" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="613,32,717,61"/><area shape="rect" id="node9" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="765,5,869,35"/><area shape="rect" id="node13" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="765,59,869,88"/><area shape="rect" id="node11" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="919,5,1028,35"/><area shape="rect" id="node15" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="919,59,1028,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1e3d8b08bd388b81bc3c8d4f98b90822"></a><!-- doxytag: member="PSlice.cpp::is_data_required_PB" ref="a1e3d8b08bd388b81bc3c8d4f98b90822" args="(int32_t idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> is_data_required_PB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00112"></a>00112 {
<a name="l00113"></a>00113         <span class="keywordflow">return</span> 1;
<a name="l00114"></a>00114 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af623926e47e62164f9f81117fefb9211"></a><!-- doxytag: member="PSlice.cpp::is_data_saved_PB" ref="af623926e47e62164f9f81117fefb9211" args="(int32_t idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> is_data_saved_PB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>idx</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00117"></a>00117 {
<a name="l00118"></a>00118         <span class="keywordflow">return</span> 1;
<a name="l00119"></a>00119 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a18283e001efb21359ea20ded9bc27eff"></a><!-- doxytag: member="PSlice.cpp::macroblock_processor_PB" ref="a18283e001efb21359ea20ded9bc27eff" args="(void *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int macroblock_processor_PB </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>param</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00131"></a>00131 {
<a name="l00132"></a>00132         <a class="code" href="structtag__macroblock__info.html">macroblock_info</a> *mi = (<a class="code" href="structtag__macroblock__info.html">macroblock_info</a> *)param;
<a name="l00133"></a>00133         <a class="code" href="structmacroblockdata.html">macroblockdata</a> datalist;
<a name="l00134"></a>00134         <a class="code" href="struct_p_b_predict_info.html">PBPredictInfo</a> predlist;
<a name="l00135"></a>00135         <span class="keywordtype">int</span> row = mi-&gt;<a class="code" href="structtag__macroblock__info.html#a0431b0abc33b349505f0b83fd1537473">row</a>;
<a name="l00136"></a>00136         <span class="keywordtype">int</span> MBwidth = mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a>-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> &gt;&gt; 4;
<a name="l00137"></a>00137         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBwidth; ++i)
<a name="l00138"></a>00138         {
<a name="l00139"></a>00139                 <span class="keywordflow">while</span> (mi-&gt;<a class="code" href="structtag__macroblock__info.html#affbe6dcc30999a24be78a7deb7a0e78b">allow</a>&lt;=i)
<a name="l00140"></a>00140                         Sleep(1);
<a name="l00141"></a>00141                 <span class="keywordflow">if</span> (row==1 &amp;&amp; i==16)
<a name="l00142"></a>00142                 {
<a name="l00143"></a>00143                         printf(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00144"></a>00144                 }
<a name="l00145"></a>00145                 <span class="keywordflow">if</span> (mi-&gt;<a class="code" href="structtag__macroblock__info.html#a150f68ca8a911ab2443199821f7b97e5">mblist</a>[i].<a class="code" href="structmacroblock_info.html#af09f9c522a04fe712528e6db6a696866">mbtype</a>==2)
<a name="l00146"></a>00146                 {
<a name="l00147"></a>00147                         <a class="code" href="structpredict_info.html">predictInfo</a> predlist;
<a name="l00148"></a>00148                         <a class="code" href="_i_slice_8cpp.html#a62bde0c28d855f00622a319f1be6dfd2">require_data_decode_I</a>(mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a>, &amp;datalist, &amp;predlist, row, i);
<a name="l00149"></a>00149                         <a class="code" href="_i_slice_8cpp.html#a23c43acab8cba26c6a4938028715f817">process_data_decode_I</a>(mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a>, &amp;datalist, &amp;predlist, mi-&gt;<a class="code" href="structtag__macroblock__info.html#a150f68ca8a911ab2443199821f7b97e5">mblist</a>+i);
<a name="l00150"></a>00150                         <a class="code" href="_p_slice_8cpp.html#a2f76a7d2cb0721bd6dcba7ec01a808f7">save_data_pb</a>(mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a>, &amp;datalist, mi-&gt;<a class="code" href="structtag__macroblock__info.html#a150f68ca8a911ab2443199821f7b97e5">mblist</a>+i, row, i);
<a name="l00151"></a>00151                 }
<a name="l00152"></a>00152                 <span class="keywordflow">else</span>
<a name="l00153"></a>00153                 {
<a name="l00154"></a>00154                         <a class="code" href="_p_slice_8cpp.html#af87c75a22443110432dc841e4f0bee34">require_data_decode</a>(mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a>, &amp;datalist, &amp;predlist, mi-&gt;<a class="code" href="structtag__macroblock__info.html#a150f68ca8a911ab2443199821f7b97e5">mblist</a>+i, row, i);
<a name="l00155"></a>00155                         <a class="code" href="_p_slice_8cpp.html#aa96fb8edf03d2055a439bb9fefd52a10">process_data_decode</a>(mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a>, &amp;datalist, &amp;predlist, mi-&gt;<a class="code" href="structtag__macroblock__info.html#a150f68ca8a911ab2443199821f7b97e5">mblist</a>+i);
<a name="l00156"></a>00156                         <a class="code" href="_p_slice_8cpp.html#a2f76a7d2cb0721bd6dcba7ec01a808f7">save_data_pb</a>(mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a>, &amp;datalist, mi-&gt;<a class="code" href="structtag__macroblock__info.html#a150f68ca8a911ab2443199821f7b97e5">mblist</a>+i, row, i);
<a name="l00157"></a>00157                 }
<a name="l00158"></a>00158                 mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae6d03b766139a5abf281211e48c8d49b">next</a>-&gt;<a class="code" href="structtag__macroblock__info.html#affbe6dcc30999a24be78a7deb7a0e78b">allow</a> = i - 1;
<a name="l00159"></a>00159         }
<a name="l00160"></a>00160         mi-&gt;<a class="code" href="structtag__macroblock__info.html#ae6d03b766139a5abf281211e48c8d49b">next</a>-&gt;<a class="code" href="structtag__macroblock__info.html#affbe6dcc30999a24be78a7deb7a0e78b">allow</a> = MBwidth;
<a name="l00161"></a>00161         <span class="keywordflow">return</span> 0;
<a name="l00162"></a>00162 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_cgraph.png" border="0" usemap="#_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_cgraph_map" alt=""></div>
<map name="_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_cgraph_map" id="_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_cgraph">
<area shape="rect" id="node3" href="_p_slice_8cpp.html#aa96fb8edf03d2055a439bb9fefd52a10" title="process_data_decode" alt="" coords="237,445,387,475"/><area shape="rect" id="node49" href="_i_slice_8cpp.html#a23c43acab8cba26c6a4938028715f817" title="process_data_decode_I" alt="" coords="233,525,391,555"/><area shape="rect" id="node80" href="_p_slice_8cpp.html#af87c75a22443110432dc841e4f0bee34" title="require_data_decode" alt="" coords="241,579,383,608"/><area shape="rect" id="node82" href="_i_slice_8cpp.html#a62bde0c28d855f00622a319f1be6dfd2" title="require_data_decode_I" alt="" coords="236,632,388,661"/><area shape="rect" id="node84" href="_p_slice_8cpp.html#a2f76a7d2cb0721bd6dcba7ec01a808f7" title="save_data_pb" alt="" coords="261,685,363,715"/><area shape="rect" id="node5" href="_p_slice_8cpp.html#a00165500ab0f46d3f32bbb90b4e50387" title="addMacroblockdata" alt="" coords="456,432,589,461"/><area shape="rect" id="node7" href="_p_b_macroblock_codec_8cpp.html#ad7127f8c7dabe086c8648f61be463740" title="macroblockInterDecode" alt="" coords="444,485,601,515"/><area shape="rect" id="node32" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a9bf71cd5cc7efb47cefa4dc05a66d1a0" title="macroblockPBPrediction" alt="" coords="440,164,605,193"/><area shape="rect" id="node9" href="_p_b_macroblock_codec_8cpp.html#abbc239e3b8c30f008cb5e540e168a743" title="macroblockInterDecode16x16_y" alt="" coords="655,485,860,515"/><area shape="rect" id="node21" href="_p_b_macroblock_codec_8cpp.html#a907948e514ef3d05386e93a64d576c02" title="macroblockInterDecode_uv" alt="" coords="669,592,845,621"/><area shape="rect" id="node11" href="_d_c_t_transform_8cpp.html#a923ec91bf45c73e8baaf4e1bbad9a289" title="idct4x4_c" alt="" coords="960,485,1037,515"/><area shape="rect" id="node13" href="_d_c_t_transform_8cpp.html#aab666ffcda45ced06a5b5853c52c94bf" title="idct8x8" alt="" coords="967,432,1031,461"/><area shape="rect" id="node15" href="_quantisation_8cpp.html#a5985492c5cf012e5d7051f11fa86821c" title="iquant4x4_c" alt="" coords="953,539,1044,568"/><area shape="rect" id="node17" href="_quantisation_8cpp.html#a6096528e049a8f3c2a463926db773e42" title="iquant8x8_c" alt="" coords="953,379,1044,408"/><area shape="rect" id="node19" href="_scanner_8h.html#a368d4bb8bcbc27ebecc3939c468dbcff" title="unscan_zig_4x4" alt="" coords="941,592,1056,621"/><area shape="rect" id="node23" href="_d_c_t_transform_8cpp.html#ada208d2366935100bdc2375bec45cc8f" title="idct2x2dc_c" alt="" coords="953,645,1044,675"/><area shape="rect" id="node26" href="_quantisation_8cpp.html#ad8c9813079b1dac9e7c7ab3d40a9a212" title="iquant2x2dc_c" alt="" coords="945,699,1052,728"/><area shape="rect" id="node29" href="_scanner_8h.html#aaa0324e6a8196220003838250cc45e75" title="unscan_zig_2x2" alt="" coords="941,752,1056,781"/><area shape="rect" id="node34" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#aae19b8dbe8243ab186626f8b8570ef50" title="macroblockGetPred_axb" alt="" coords="916,59,1081,88"/><area shape="rect" id="node42" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a6adf1c1a57809fc88604a894304bd924" title="macroblockGetPred_axb_Bi" alt="" coords="665,111,849,140"/><area shape="rect" id="node45" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8h.html#a7a22ccaef4a3c56a0ac3b9df8eb05e1d" title="noRefs" alt="" coords="727,164,788,193"/><area shape="rect" id="node47" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8h.html#aafd6da6f8c9a163910095d70b80462e7" title="refsEqual" alt="" coords="720,217,795,247"/><area shape="rect" id="node36" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#ae44b074ea50d2c5f47d11065eee71c3a" title="macroblockGetHalfPel" alt="" coords="1153,5,1303,35"/><area shape="rect" id="node38" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#aa4b361a63a442d1eda917f37b6a5fd1d" title="macroblockPredGetDataUV" alt="" coords="1137,59,1319,88"/><area shape="rect" id="node40" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a81e10c9842cf86af8be7c19452a9228f" title="macroblockPredGetDataY" alt="" coords="1141,112,1315,141"/><area shape="rect" id="node51" href="_i_macroblock_codec_8cpp.html#acaa2acf29de1293461dea9f2882931c5" title="macroblockIntraDecode" alt="" coords="444,539,601,568"/><area shape="rect" id="node53" href="_i_macroblock_codec_8cpp.html#a0d5a08323fa05b03ffbebb448898663e" title="macroblockIntraDecode_uv" alt="" coords="669,645,845,675"/><area shape="rect" id="node63" href="_i_macroblock_codec_8cpp.html#a3bb69edd67d7438ffa2148822898e335" title="macroblockIntraDecode_y" alt="" coords="672,379,843,408"/><area shape="rect" id="node55" href="_i_predict_8cpp.html#a0988f72eec8591d5de83982c52e2b539" title="do_8x8_chroma_prediction" alt="" coords="911,805,1087,835"/><area shape="rect" id="node65" href="_i_predict_8cpp.html#a90c2994887c21abf5825c0262aa283c5" title="do_16x16_luma_prediction" alt="" coords="911,112,1087,141"/><area shape="rect" id="node67" href="_i_predict_8cpp.html#acc4ad7a1035118020f7e66044e323e45" title="do_4x4_luma_prediction" alt="" coords="917,165,1080,195"/><area shape="rect" id="node69" href="_i_predict_8cpp.html#a9076d5f73e7c0a6665e6e69eeaae6b10" title="do_8x8_luma_prediction" alt="" coords="917,219,1080,248"/><area shape="rect" id="node72" href="_d_c_t_transform_8cpp.html#ac50d1e85c45ad67944176f8ce8219dba" title="idct4x4dc_c" alt="" coords="953,272,1044,301"/><area shape="rect" id="node76" href="_quantisation_8cpp.html#a480f9f1c650257964853863d5683ed34" title="iquant4x4dc_c" alt="" coords="945,325,1052,355"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_icgraph.png" border="0" usemap="#_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_icgraph_map" alt=""></div>
<map name="_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_icgraph_map" id="_p_slice_8cpp_a18283e001efb21359ea20ded9bc27eff_icgraph">
<area shape="rect" id="node3" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="232,32,336,61"/><area shape="rect" id="node5" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="384,5,488,35"/><area shape="rect" id="node9" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="384,59,488,88"/><area shape="rect" id="node7" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="537,5,647,35"/><area shape="rect" id="node11" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="537,59,647,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac8e393c07f9ebbf5e72ff11b76d94edc"></a><!-- doxytag: member="PSlice.cpp::median" ref="ac8e393c07f9ebbf5e72ff11b76d94edc" args="(int16_t a, int16_t b, int16_t c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a> median </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a>&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#ae615613535a2b2445773922f5d45a861">int16_t</a>&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00079"></a>00079 {
<a name="l00080"></a>00080         <span class="keywordflow">if</span> (a&gt;=b &amp;&amp; a&lt;=c)
<a name="l00081"></a>00081                 <span class="keywordflow">return</span> a;
<a name="l00082"></a>00082         <span class="keywordflow">if</span> (b&gt;=a &amp;&amp; b&lt;=c)
<a name="l00083"></a>00083                 <span class="keywordflow">return</span> b;
<a name="l00084"></a>00084         <span class="keywordflow">return</span> c;
<a name="l00085"></a>00085 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa96fb8edf03d2055a439bb9fefd52a10"></a><!-- doxytag: member="PSlice.cpp::process_data_decode" ref="aa96fb8edf03d2055a439bb9fefd52a10" args="(CodingPictInfo *cpi, macroblockdata *dlist, PBPredictInfo *plist, macroblockInfo *mlist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_data_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblockdata.html">macroblockdata</a> *&nbsp;</td>
          <td class="paramname"> <em>dlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_b_predict_info.html">PBPredictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>plist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00100"></a>00100 {
<a name="l00101"></a>00101         <a class="code" href="structexmacroblockdata.html">exmacroblockdata</a> delta;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         <a class="code" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a9bf71cd5cc7efb47cefa4dc05a66d1a0">macroblockPBPrediction</a>(cpi, plist, dlist, mlist, dlist);
<a name="l00104"></a>00104         
<a name="l00105"></a>00105         <a class="code" href="_p_b_macroblock_codec_8cpp.html#ad7127f8c7dabe086c8648f61be463740">macroblockInterDecode</a>(&amp;delta, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a> + mlist-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>, <a class="code" href="_consts4_standard_8h.html#a764e5d7924eac5d10266946aa1d1c695">QPLuma2Chroma</a>[cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a> + mlist-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>], mlist);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107         <a class="code" href="_p_slice_8cpp.html#a00165500ab0f46d3f32bbb90b4e50387">addMacroblockdata</a>(dlist, &amp;delta);
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_cgraph.png" border="0" usemap="#_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_cgraph_map" alt=""></div>
<map name="_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_cgraph_map" id="_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_cgraph">
<area shape="rect" id="node3" href="_p_slice_8cpp.html#a00165500ab0f46d3f32bbb90b4e50387" title="addMacroblockdata" alt="" coords="219,205,352,235"/><area shape="rect" id="node5" href="_p_b_macroblock_codec_8cpp.html#ad7127f8c7dabe086c8648f61be463740" title="macroblockInterDecode" alt="" coords="207,259,364,288"/><area shape="rect" id="node30" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a9bf71cd5cc7efb47cefa4dc05a66d1a0" title="macroblockPBPrediction" alt="" coords="203,365,368,395"/><area shape="rect" id="node7" href="_p_b_macroblock_codec_8cpp.html#abbc239e3b8c30f008cb5e540e168a743" title="macroblockInterDecode16x16_y" alt="" coords="417,259,623,288"/><area shape="rect" id="node19" href="_p_b_macroblock_codec_8cpp.html#a907948e514ef3d05386e93a64d576c02" title="macroblockInterDecode_uv" alt="" coords="432,165,608,195"/><area shape="rect" id="node9" href="_d_c_t_transform_8cpp.html#a923ec91bf45c73e8baaf4e1bbad9a289" title="idct4x4_c" alt="" coords="716,165,793,195"/><area shape="rect" id="node11" href="_d_c_t_transform_8cpp.html#aab666ffcda45ced06a5b5853c52c94bf" title="idct8x8" alt="" coords="723,379,787,408"/><area shape="rect" id="node13" href="_quantisation_8cpp.html#a5985492c5cf012e5d7051f11fa86821c" title="iquant4x4_c" alt="" coords="709,219,800,248"/><area shape="rect" id="node15" href="_quantisation_8cpp.html#a6096528e049a8f3c2a463926db773e42" title="iquant8x8_c" alt="" coords="709,325,800,355"/><area shape="rect" id="node17" href="_scanner_8h.html#a368d4bb8bcbc27ebecc3939c468dbcff" title="unscan_zig_4x4" alt="" coords="697,272,812,301"/><area shape="rect" id="node21" href="_d_c_t_transform_8cpp.html#ada208d2366935100bdc2375bec45cc8f" title="idct2x2dc_c" alt="" coords="709,5,800,35"/><area shape="rect" id="node24" href="_quantisation_8cpp.html#ad8c9813079b1dac9e7c7ab3d40a9a212" title="iquant2x2dc_c" alt="" coords="701,59,808,88"/><area shape="rect" id="node27" href="_scanner_8h.html#aaa0324e6a8196220003838250cc45e75" title="unscan_zig_2x2" alt="" coords="697,112,812,141"/><area shape="rect" id="node32" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#aae19b8dbe8243ab186626f8b8570ef50" title="macroblockGetPred_axb" alt="" coords="672,444,837,473"/><area shape="rect" id="node40" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a6adf1c1a57809fc88604a894304bd924" title="macroblockGetPred_axb_Bi" alt="" coords="428,469,612,499"/><area shape="rect" id="node43" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8h.html#a7a22ccaef4a3c56a0ac3b9df8eb05e1d" title="noRefs" alt="" coords="489,312,551,341"/><area shape="rect" id="node45" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8h.html#aafd6da6f8c9a163910095d70b80462e7" title="refsEqual" alt="" coords="483,365,557,395"/><area shape="rect" id="node34" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#ae44b074ea50d2c5f47d11065eee71c3a" title="macroblockGetHalfPel" alt="" coords="903,391,1052,420"/><area shape="rect" id="node36" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#aa4b361a63a442d1eda917f37b6a5fd1d" title="macroblockPredGetDataUV" alt="" coords="887,444,1068,473"/><area shape="rect" id="node38" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a81e10c9842cf86af8be7c19452a9228f" title="macroblockPredGetDataY" alt="" coords="891,497,1064,527"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_icgraph.png" border="0" usemap="#_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_icgraph_map" alt=""></div>
<map name="_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_icgraph_map" id="_p_slice_8cpp_aa96fb8edf03d2055a439bb9fefd52a10_icgraph">
<area shape="rect" id="node3" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="203,32,381,61"/><area shape="rect" id="node5" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="429,32,533,61"/><area shape="rect" id="node7" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="581,5,685,35"/><area shape="rect" id="node11" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="581,59,685,88"/><area shape="rect" id="node9" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="735,5,844,35"/><area shape="rect" id="node13" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="735,59,844,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a08458d29753b64df9de1d40b748fdf0b"></a><!-- doxytag: member="PSlice.cpp::PSliceDecode" ref="a08458d29753b64df9de1d40b748fdf0b" args="(CodingPictInfo *cpi, Bitstream *bs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PSliceDecode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_bitstream.html">Bitstream</a> *&nbsp;</td>
          <td class="paramname"> <em>bs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00165"></a>00165 {
<a name="l00166"></a>00166         <span class="keywordtype">bool</span> isParallel = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a> * <a class="code" href="_common_8h.html#a3a7c35b14731007b6847c0d57ba23d68">MB_E</a> &gt; 1.0;
<a name="l00167"></a>00167         <span class="keywordtype">int</span> MBheight = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#aa6352dc53234c55d1a0c252c5b8d6141">Size_Height</a> &gt;&gt; 4,
<a name="l00168"></a>00168                 MBwidth = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> &gt;&gt; 4;
<a name="l00169"></a>00169         <a class="code" href="structmacroblock_info.html">macroblockInfo</a> *mlist = <span class="keyword">new</span> <a class="code" href="structmacroblock_info.html">macroblockInfo</a>[MBheight * MBwidth];
<a name="l00170"></a>00170         <a class="code" href="structtag__macroblock__info.html">macroblock_info</a> *mis = <span class="keyword">new</span> <a class="code" href="structtag__macroblock__info.html">macroblock_info</a>[<span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a> + 1];
<a name="l00171"></a>00171         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= <span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a>; ++i)
<a name="l00172"></a>00172         {
<a name="l00173"></a>00173                 mis[i].<a class="code" href="structtag__macroblock__info.html#ae7a0c6b68c7cbc0ffb1a82799eb386ef">cpi</a> = cpi;
<a name="l00174"></a>00174                 mis[i].<a class="code" href="structtag__macroblock__info.html#affbe6dcc30999a24be78a7deb7a0e78b">allow</a> = MBwidth;
<a name="l00175"></a>00175                 mis[i].<a class="code" href="structtag__macroblock__info.html#ae6d03b766139a5abf281211e48c8d49b">next</a> = mis+i+1;
<a name="l00176"></a>00176         }
<a name="l00177"></a>00177         mis[<span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a>].<a class="code" href="structtag__macroblock__info.html#ae6d03b766139a5abf281211e48c8d49b">next</a> = mis;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179         <a class="code" href="structtag__cavlc__ref__list.html">cavlc_ref_list</a> ref_list;
<a name="l00180"></a>00180         <a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a> *topRef = <span class="keyword">new</span> <a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a>[MBwidth * 4 + 5];
<a name="l00181"></a>00181         memset(topRef, 0, <span class="keyword">sizeof</span>(<a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a>) * (MBwidth * 4 + 5));
<a name="l00182"></a>00182         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBwidth * 4 + 5; ++i)
<a name="l00183"></a>00183         {
<a name="l00184"></a>00184                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a4fc396cd8d03fbd50466ff12a4785529">coeff</a> = 0x40;
<a name="l00185"></a>00185                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a38397a4aa7f4f450d2bed25146783b22">coeffC</a> = 0x40;
<a name="l00186"></a>00186                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a76c8b0c75a3a13a59196c89cf919766f">imode</a> = 0x40;
<a name="l00187"></a>00187                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a890a9186d3db3787c7a451e51f4fc0bf">mv_x</a>[0] = 0x4000;
<a name="l00188"></a>00188                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#abae0c90668fedb380b2cc0773cfa351d">mv_y</a>[0] = 0x4000;
<a name="l00189"></a>00189                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a890a9186d3db3787c7a451e51f4fc0bf">mv_x</a>[1] = 0x4000;
<a name="l00190"></a>00190                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#abae0c90668fedb380b2cc0773cfa351d">mv_y</a>[1] = 0x4000;
<a name="l00191"></a>00191                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a071bb830fe08f1df5618d391ed428221">refid</a>[0] = -1;
<a name="l00192"></a>00192                 topRef[i].<a class="code" href="structtag__cavlc__ref.html#a071bb830fe08f1df5618d391ed428221">refid</a>[1] = -1;
<a name="l00193"></a>00193         }
<a name="l00194"></a>00194         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a> = <span class="keyword">new</span> <a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a>[4];
<a name="l00195"></a>00195         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#ac71d66d925cb5fbc0c15812f70aa2e78">topleft</a> = topRef[0];
<a name="l00196"></a>00196 
<a name="l00197"></a>00197         <span class="keywordtype">int</span> skip = -1;
<a name="l00198"></a>00198         <span class="keywordtype">int</span> cQp = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a>;
<a name="l00199"></a>00199         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> refMBt = <span class="keyword">sizeof</span>(<a class="code" href="structref_vector.html">refVector</a>),
<a name="l00200"></a>00200                 refStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> * 2 * refMBt;
<a name="l00201"></a>00201         <span class="keywordtype">int</span> tmp_i = 0;
<a name="l00202"></a>00202         for (<span class="keywordtype">int</span> r = 0; r &lt; MBheight; ++r)
<a name="l00203"></a>00203         {
<a name="l00204"></a>00204                 memset(ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a>) * 4);
<a name="l00205"></a>00205                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 4; ++j)
<a name="l00206"></a>00206                 {
<a name="l00207"></a>00207                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a4fc396cd8d03fbd50466ff12a4785529">coeff</a> = 0x40;
<a name="l00208"></a>00208                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a38397a4aa7f4f450d2bed25146783b22">coeffC</a> = 0x40;
<a name="l00209"></a>00209                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a76c8b0c75a3a13a59196c89cf919766f">imode</a> = 0x40;
<a name="l00210"></a>00210                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a890a9186d3db3787c7a451e51f4fc0bf">mv_x</a>[0] = 0x4000;
<a name="l00211"></a>00211                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#abae0c90668fedb380b2cc0773cfa351d">mv_y</a>[0] = 0x4000;
<a name="l00212"></a>00212                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a890a9186d3db3787c7a451e51f4fc0bf">mv_x</a>[1] = 0x4000;
<a name="l00213"></a>00213                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#abae0c90668fedb380b2cc0773cfa351d">mv_y</a>[1] = 0x4000;
<a name="l00214"></a>00214                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a071bb830fe08f1df5618d391ed428221">refid</a>[0] = -1;
<a name="l00215"></a>00215                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[j].<a class="code" href="structtag__cavlc__ref.html#a071bb830fe08f1df5618d391ed428221">refid</a>[1] = -1;
<a name="l00216"></a>00216                 }
<a name="l00217"></a>00217                 ref_list.<a class="code" href="structtag__cavlc__ref__list.html#ac71d66d925cb5fbc0c15812f70aa2e78">topleft</a> = ref_list.<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[0];
<a name="l00218"></a>00218                 ref_list.<a class="code" href="structtag__cavlc__ref__list.html#af93b34de26224281e33b951333a665c7">top</a> = topRef + 1;
<a name="l00219"></a>00219                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; MBwidth; ++c)
<a name="l00220"></a>00220                 {
<a name="l00221"></a>00221                         <a class="code" href="structmacroblock_info.html">macroblockInfo</a> *mmlist = mlist + tmp_i;
<a name="l00222"></a>00222                         <a class="code" href="structtag__cavlc__ref.html">cavlc_ref</a> newTL = ref_list.<a class="code" href="structtag__cavlc__ref__list.html#af93b34de26224281e33b951333a665c7">top</a>[3];
<a name="l00223"></a>00223                         memset(mmlist, 0, <span class="keyword">sizeof</span>(*mmlist));
<a name="l00224"></a>00224                         <span class="comment">//memset(&amp;mlist[tmp_i], 0, sizeof(mlist[tmp_i]));</span>
<a name="l00225"></a>00225                         <span class="comment">//mlist[tmp_i].x = tmp_i / MBwidth;</span>
<a name="l00226"></a>00226                         <span class="comment">//mlist[tmp_i].y = tmp_i % MBwidth;</span>
<a name="l00227"></a>00227                         mmlist-&gt;<a class="code" href="structmacroblock_info.html#ae46d0fbf2f0e11fc965a60845db47065">mbR</a> = tmp_i / MBwidth;
<a name="l00228"></a>00228                         mmlist-&gt;<a class="code" href="structmacroblock_info.html#ab6270e45676c0f84c1450cf90a84df52">mbC</a> = tmp_i % MBwidth;
<a name="l00229"></a>00229                         <span class="keywordflow">if</span> (r==1 &amp;&amp; c==16 &amp;&amp; cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a987595091bfba91b3166b04bca988697">viewId</a>==0 &amp;&amp; cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ad85dae4751165ea3cbb8f7b8c6e61dc3">timeId</a>==16)
<a name="l00230"></a>00230                         {
<a name="l00231"></a>00231                                 printf(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00232"></a>00232                         }
<a name="l00233"></a>00233                         mlist[tmp_i].<a class="code" href="structmacroblock_info.html#ad7cf6f2dc254dc14005ab5705bde6349">is_skip</a> = skip;
<a name="l00234"></a>00234                         <span class="keywordflow">if</span> (cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6bfb22b57d0d223546150c71e125fb39">PictType</a> == 0)
<a name="l00235"></a>00235                                 <a class="code" href="_p_b_c_a_v_l_c_8cpp.html#afe9c114999f137df97529d13c1e485bb">macroblock_read_cavlc_P_slice</a>(bs, mmlist, cpi, &amp;ref_list);
<a name="l00236"></a>00236                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6bfb22b57d0d223546150c71e125fb39">PictType</a> == 1)
<a name="l00237"></a>00237                         {
<a name="l00238"></a>00238                                 <span class="keywordtype">int</span> xr = r;
<a name="l00239"></a>00239                                 <span class="keywordflow">if</span> (xr &gt;= MBheight)
<a name="l00240"></a>00240                                         xr = MBheight - 1;
<a name="l00241"></a>00241                                 <a class="code" href="structref_vector.html">refVector</a> *col_refs = (<a class="code" href="structref_vector.html">refVector</a>*)(cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a1c02c2f7c7a4a9fb4ed10e422d64bd32">ref_refVec</a>[1][0] + refStride * xr + c * 32 * refMBt);
<a name="l00242"></a>00242                                 <a class="code" href="_p_b_c_a_v_l_c_8cpp.html#a9d0d19143ae03ff45bcfbf2c9980b11b">macroblock_read_cavlc_B_slice</a>(bs, col_refs, mmlist, cpi, &amp;ref_list);
<a name="l00243"></a>00243                         }
<a name="l00244"></a>00244                         <span class="keywordflow">else</span>
<a name="l00245"></a>00245                                 <a class="code" href="_debug_8h.html#a101586fab2b90a8adffe50a3550e235d">ASSERT</a>(0);
<a name="l00246"></a>00246                         skip = mmlist-&gt;<a class="code" href="structmacroblock_info.html#ad7cf6f2dc254dc14005ab5705bde6349">is_skip</a>;
<a name="l00247"></a>00247                         cQp += mmlist-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>;
<a name="l00248"></a>00248                         mmlist-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a> = cQp - cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a>;
<a name="l00249"></a>00249                         ++tmp_i;
<a name="l00250"></a>00250                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#af93b34de26224281e33b951333a665c7">top</a> += 4;
<a name="l00251"></a>00251                         ref_list.<a class="code" href="structtag__cavlc__ref__list.html#ac71d66d925cb5fbc0c15812f70aa2e78">topleft</a> = newTL;
<a name="l00252"></a>00252                 }
<a name="l00253"></a>00253         }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255         <span class="keywordtype">int</span> p = 0, p1 = p + 1, p2 = p1 + 1;
<a name="l00256"></a>00256         <span class="keywordflow">if</span> (<span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a> == 1)
<a name="l00257"></a>00257                 p2 = 0;
<a name="l00258"></a>00258         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBheight; ++i)
<a name="l00259"></a>00259         {
<a name="l00260"></a>00260                 <span class="keywordflow">while</span> (mis[p2].allow != MBwidth)
<a name="l00261"></a>00261                         Sleep(1);
<a name="l00262"></a>00262                 mis[p1].<a class="code" href="structtag__macroblock__info.html#affbe6dcc30999a24be78a7deb7a0e78b">allow</a> = 0;
<a name="l00263"></a>00263                 mis[p].<a class="code" href="structtag__macroblock__info.html#a0431b0abc33b349505f0b83fd1537473">row</a> = i;
<a name="l00264"></a>00264                 mis[p].<a class="code" href="structtag__macroblock__info.html#a150f68ca8a911ab2443199821f7b97e5">mblist</a> = mlist + i * MBwidth;
<a name="l00265"></a>00265                 <span class="keywordflow">if</span> (<span class="comment">/*ConfigureSlave::NO_PARALLEL*/</span>!isParallel)
<a name="l00266"></a>00266                         <a class="code" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff">macroblock_processor_PB</a>(mis+p);
<a name="l00267"></a>00267                 <span class="keywordflow">else</span>
<a name="l00268"></a>00268                         MVCCreateMasterThread(<a class="code" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff">macroblock_processor_PB</a>, mis+p);
<a name="l00269"></a>00269                 p = p1; p1 = p2;
<a name="l00270"></a>00270                 <span class="keywordflow">if</span> (p2==<span class="comment">/*ConfigureSlave::PARALLEL_SIZE*/</span>cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab254953ed2b4e1de64f05eadbc825646">MP</a>)
<a name="l00271"></a>00271                         p2 = 0;
<a name="l00272"></a>00272                 <span class="keywordflow">else</span>
<a name="l00273"></a>00273                         ++p2;
<a name="l00274"></a>00274         }
<a name="l00275"></a>00275         <span class="keywordflow">while</span> (mis[p].allow != MBwidth)
<a name="l00276"></a>00276                 Sleep(1);
<a name="l00277"></a>00277 
<a name="l00278"></a>00278         <span class="keywordflow">if</span> (cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a987595091bfba91b3166b04bca988697">viewId</a>==0 &amp;&amp; cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ad85dae4751165ea3cbb8f7b8c6e61dc3">timeId</a>==-16)
<a name="l00279"></a>00279         <span class="comment">//if (false)</span>
<a name="l00280"></a>00280         {
<a name="l00281"></a>00281                 printf(<span class="stringliteral">&quot;===============Before==============\n&quot;</span>);
<a name="l00282"></a>00282                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; MBheight; ++ii)
<a name="l00283"></a>00283                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj = 0; jj &lt; MBwidth; ++jj)
<a name="l00284"></a>00284                         {
<a name="l00285"></a>00285                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; ++i)
<a name="l00286"></a>00286                                 {
<a name="l00287"></a>00287                                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 16; ++j)
<a name="l00288"></a>00288                                         {
<a name="l00289"></a>00289                                                 printf(<span class="stringliteral">&quot;%4d&quot;</span>, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a62aee8cc8c9cac725d4f44a19ddc8c2b">lumaStart</a>[(ii*16+i)*cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>+jj*16+j]);
<a name="l00290"></a>00290                                         }
<a name="l00291"></a>00291                                         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00292"></a>00292                                 }
<a name="l00293"></a>00293                                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00294"></a>00294                         }
<a name="l00295"></a>00295                 printf(<span class="stringliteral">&quot;===Before===\n&quot;</span>);
<a name="l00296"></a>00296                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; MBheight; ++ii)
<a name="l00297"></a>00297                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj = 0; jj &lt; MBwidth; ++jj)
<a name="l00298"></a>00298                         {
<a name="l00299"></a>00299                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; ++i)
<a name="l00300"></a>00300                                 {
<a name="l00301"></a>00301                                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 8; ++j)
<a name="l00302"></a>00302                                         {
<a name="l00303"></a>00303                                                 printf(<span class="stringliteral">&quot;%4d&quot;</span>, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a103a3180ba57db0bd984a53f0668b70b">chromaUStart</a>[(ii*8+i)*cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>/2+jj*8+j]);
<a name="l00304"></a>00304                                         }
<a name="l00305"></a>00305                                         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00306"></a>00306                                 }
<a name="l00307"></a>00307                                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00308"></a>00308                         }
<a name="l00309"></a>00309                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBwidth * MBheight; ++i)
<a name="l00310"></a>00310                 {
<a name="l00311"></a>00311                         <span class="keywordflow">if</span> (i==240)
<a name="l00312"></a>00312                         {
<a name="l00313"></a>00313                                 printf(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00314"></a>00314                         }
<a name="l00315"></a>00315                         <a class="code" href="_loop_filter_8cpp.html#a299f516a75a0efad87a05dfbb35c9b41">FilterMB</a>(cpi, mlist, i);
<a name="l00316"></a>00316                 }
<a name="l00317"></a>00317                 printf(<span class="stringliteral">&quot;===============After==============\n&quot;</span>);
<a name="l00318"></a>00318                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; MBheight; ++ii)
<a name="l00319"></a>00319                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj = 0; jj &lt; MBwidth; ++jj)
<a name="l00320"></a>00320                         {
<a name="l00321"></a>00321                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; ++i)
<a name="l00322"></a>00322                                 {
<a name="l00323"></a>00323                                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 16; ++j)
<a name="l00324"></a>00324                                         {
<a name="l00325"></a>00325                                                 printf(<span class="stringliteral">&quot;%4d&quot;</span>, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a62aee8cc8c9cac725d4f44a19ddc8c2b">lumaStart</a>[(ii*16+i)*cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>+jj*16+j]);
<a name="l00326"></a>00326                                         }
<a name="l00327"></a>00327                                         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00328"></a>00328                                 }
<a name="l00329"></a>00329                                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00330"></a>00330                         }
<a name="l00331"></a>00331                 printf(<span class="stringliteral">&quot;===After===\n&quot;</span>);
<a name="l00332"></a>00332                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; MBheight; ++ii)
<a name="l00333"></a>00333                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj = 0; jj &lt; MBwidth; ++jj)
<a name="l00334"></a>00334                         {
<a name="l00335"></a>00335                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; ++i)
<a name="l00336"></a>00336                                 {
<a name="l00337"></a>00337                                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 8; ++j)
<a name="l00338"></a>00338                                         {
<a name="l00339"></a>00339                                                 printf(<span class="stringliteral">&quot;%4d&quot;</span>, cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a103a3180ba57db0bd984a53f0668b70b">chromaUStart</a>[(ii*8+i)*cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>/2+jj*8+j]);
<a name="l00340"></a>00340                                         }
<a name="l00341"></a>00341                                         printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00342"></a>00342                                 }
<a name="l00343"></a>00343                                 printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00344"></a>00344                         }
<a name="l00345"></a>00345                 exit(0);
<a name="l00346"></a>00346         }
<a name="l00347"></a>00347         <span class="keywordflow">else</span>
<a name="l00348"></a>00348         {
<a name="l00349"></a>00349                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MBwidth * MBheight; ++i)
<a name="l00350"></a>00350                 {
<a name="l00351"></a>00351                         <a class="code" href="_loop_filter_8cpp.html#a299f516a75a0efad87a05dfbb35c9b41">FilterMB</a>(cpi, mlist, i);
<a name="l00352"></a>00352                 }
<a name="l00353"></a>00353         }
<a name="l00354"></a>00354         <span class="keyword">delete</span> []mis;
<a name="l00355"></a>00355         <span class="keyword">delete</span> []mlist;
<a name="l00356"></a>00356 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_cgraph.png" border="0" usemap="#_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_cgraph_map" alt=""></div>
<map name="_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_cgraph_map" id="_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8cpp.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="227,219,296,248"/><area shape="rect" id="node42" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="172,608,351,637"/><area shape="rect" id="node77" href="_p_b_c_a_v_l_c_8cpp.html#a9d0d19143ae03ff45bcfbf2c9980b11b" title="macroblock_read_cavlc_B_slice" alt="" coords="159,920,364,949"/><area shape="rect" id="node117" href="_p_b_c_a_v_l_c_8cpp.html#afe9c114999f137df97529d13c1e485bb" title="macroblock_read_cavlc_P_slice" alt="" coords="159,1173,364,1203"/><area shape="rect" id="node5" href="_loop_filter_8cpp.html#a3624223f3d4fb60f1915390182e18ad0" title="ChromaHorFilter" alt="" coords="455,165,569,195"/><area shape="rect" id="node12" href="_loop_filter_8cpp.html#ae1485a034a76344a800072473e3b5b13" title="ChromaVerFilter" alt="" coords="455,325,569,355"/><area shape="rect" id="node16" href="_loop_filter_8cpp.html#afe90ea6b74a3965e2ceb0aae6d9def7a" title="GetHorFilterStrength" alt="" coords="441,112,583,141"/><area shape="rect" id="node29" href="_loop_filter_8cpp.html#a1f70a21e87e7aa4f5e42426b044bf8e6" title="GetVerFilterStrength" alt="" coords="441,59,583,88"/><area shape="rect" id="node34" href="_loop_filter_8cpp.html#a5630c9b21b9751b11fa116e9f383da5c" title="LumaHorFilter" alt="" coords="461,219,563,248"/><area shape="rect" id="node38" href="_loop_filter_8cpp.html#af5fe65e920004c9063b3b44a405ae942" title="LumaVerFilter" alt="" coords="461,272,563,301"/><area shape="rect" id="node7" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2" title="ClipMinMax" alt="" coords="941,267,1032,296"/><area shape="rect" id="node9" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135" title="Filter" alt="" coords="721,267,772,296"/><area shape="rect" id="node18" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6" title="CheckMvDataB" alt="" coords="692,112,801,141"/><area shape="rect" id="node24" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3" title="CheckMvDataP" alt="" coords="692,59,801,88"/><area shape="rect" id="node27" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9" title="isCoded" alt="" coords="712,5,781,35"/><area shape="rect" id="node20" href="_loop_filter_8h.html#aca10d193cfa918f6819799ad228ac7be" title="veryNearD" alt="" coords="947,112,1027,141"/><area shape="rect" id="node22" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051" title="veryNearS" alt="" coords="947,59,1027,88"/><area shape="rect" id="node44" href="_p_slice_8cpp.html#aa96fb8edf03d2055a439bb9fefd52a10" title="process_data_decode" alt="" coords="437,475,587,504"/><area shape="rect" id="node65" href="_i_slice_8cpp.html#a23c43acab8cba26c6a4938028715f817" title="process_data_decode_I" alt="" coords="433,528,591,557"/><area shape="rect" id="node71" href="_p_slice_8cpp.html#af87c75a22443110432dc841e4f0bee34" title="require_data_decode" alt="" coords="441,581,583,611"/><area shape="rect" id="node73" href="_i_slice_8cpp.html#a62bde0c28d855f00622a319f1be6dfd2" title="require_data_decode_I" alt="" coords="436,635,588,664"/><area shape="rect" id="node75" href="_p_slice_8cpp.html#a2f76a7d2cb0721bd6dcba7ec01a808f7" title="save_data_pb" alt="" coords="461,688,563,717"/><area shape="rect" id="node46" href="_p_slice_8cpp.html#a00165500ab0f46d3f32bbb90b4e50387" title="addMacroblockdata" alt="" coords="680,421,813,451"/><area shape="rect" id="node48" href="_p_b_macroblock_codec_8cpp.html#ad7127f8c7dabe086c8648f61be463740" title="macroblockInterDecode" alt="" coords="668,475,825,504"/><area shape="rect" id="node54" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a9bf71cd5cc7efb47cefa4dc05a66d1a0" title="macroblockPBPrediction" alt="" coords="664,555,829,584"/><area shape="rect" id="node50" href="_p_b_macroblock_codec_8cpp.html#abbc239e3b8c30f008cb5e540e168a743" title="macroblockInterDecode16x16_y" alt="" coords="884,448,1089,477"/><area shape="rect" id="node52" href="_p_b_macroblock_codec_8cpp.html#a907948e514ef3d05386e93a64d576c02" title="macroblockInterDecode_uv" alt="" coords="899,395,1075,424"/><area shape="rect" id="node56" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#aae19b8dbe8243ab186626f8b8570ef50" title="macroblockGetPred_axb" alt="" coords="1139,581,1304,611"/><area shape="rect" id="node58" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp.html#a6adf1c1a57809fc88604a894304bd924" title="macroblockGetPred_axb_Bi" alt="" coords="895,555,1079,584"/><area shape="rect" id="node61" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8h.html#a7a22ccaef4a3c56a0ac3b9df8eb05e1d" title="noRefs" alt="" coords="956,659,1017,688"/><area shape="rect" id="node63" href="_m_v_c_common_lib_2_codec_2_p_b_predict_8h.html#aafd6da6f8c9a163910095d70b80462e7" title="refsEqual" alt="" coords="949,501,1024,531"/><area shape="rect" id="node67" href="_i_macroblock_codec_8cpp.html#acaa2acf29de1293461dea9f2882931c5" title="macroblockIntraDecode" alt="" coords="668,633,825,663"/><area shape="rect" id="node69" href="_i_macroblock_codec_8cpp.html#a0d5a08323fa05b03ffbebb448898663e" title="macroblockIntraDecode_uv" alt="" coords="899,712,1075,741"/><area shape="rect" id="node79" href="_p_b_c_a_v_l_c_8cpp.html#a4a7eda3fa0f5c1be7775144cf14ff34e" title="calc_B_skip_refs" alt="" coords="452,843,572,872"/><area shape="rect" id="node81" href="vlc_pred_8h.html#aa818c1dd128c70486cd700b39945cf0b" title="copyVector" alt="" coords="703,881,791,911"/><area shape="rect" id="node83" href="vlc_pred_8h.html#aae2ee8c22c6f89b4aedfbfcce18118fe" title="copyVector2" alt="" coords="700,751,793,780"/><area shape="rect" id="node85" href="vlc_pred_8cpp.html#a8e3b2d1b28e66aabfcb678547cd94545" title="getRefXYDirectB" alt="" coords="688,823,805,852"/><area shape="rect" id="node87" href="vlc_pred_8cpp.html#a87631dc54f2e2ca4fa038211f5bf07fa" title="setRefXY" alt="" coords="709,959,784,988"/><area shape="rect" id="node92" href="vlc_pred_8cpp.html#a1948c1579087f1b413f0db7dfdb3ca2c" title="getRefXY" alt="" coords="709,1357,784,1387"/><area shape="rect" id="node95" href="_p_b_c_a_v_l_c_8cpp.html#a7f412b57c9608ade806246eef63763b8" title="macroblock_read_cavlc_PB_y" alt="" coords="415,1253,609,1283"/><area shape="rect" id="node103" href="_c_a_v_l_c_8cpp.html#ac8715360bdf3222bff81c76624638ec3" title="macroblock_read_cavlc_uv" alt="" coords="659,1096,835,1125"/><area shape="rect" id="node111" href="_i_c_a_v_l_c_8cpp.html#aacaa2d123678a0deb8a0c2a5ee6e53b1" title="T264dec_mb_read_intra_cavlc" alt="" coords="415,1200,609,1229"/><area shape="rect" id="node97" href="_c_a_v_l_c_8cpp.html#aeb5a2ec1c37d4efb405d9209adfb122b" title="block_residual_read_cavlc" alt="" coords="900,1149,1073,1179"/><area shape="rect" id="node99" href="vlc_pred_8h.html#aa95b4f7002a155287414853f2fc58279" title="get_luma_pred" alt="" coords="693,1253,800,1283"/><area shape="rect" id="node101" href="vlc_pred_8h.html#a534c4d1461b465b86fa6ed3294f7fc93" title="set_luma_pred" alt="" coords="693,1200,800,1229"/><area shape="rect" id="node106" href="vlc_pred_8h.html#a6b7594a4d633c85e42d7fcab84940eee" title="get_chroma_pred" alt="" coords="925,1096,1048,1125"/><area shape="rect" id="node108" href="vlc_pred_8h.html#a502428eb3f92a2a6d112ad25f756c233" title="set_chroma_pred" alt="" coords="925,1043,1048,1072"/><area shape="rect" id="node120" href="vlc_pred_8cpp.html#abfa7f4848a4146dd209263effc3c80d0" title="getRefXY_SKIP" alt="" coords="456,1411,568,1440"/><area shape="rect" id="node123" href="vlc_pred_8cpp.html#ab68d6bc1fd9bc79cce8d7ab25983f092" title="getRefXYP" alt="" coords="471,1357,553,1387"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_icgraph.png" border="0" usemap="#_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_icgraph_map" alt=""></div>
<map name="_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_icgraph_map" id="_p_slice_8cpp_a08458d29753b64df9de1d40b748fdf0b_icgraph">
<area shape="rect" id="node3" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="157,5,261,35"/><area shape="rect" id="node7" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="157,59,261,88"/><area shape="rect" id="node5" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="311,5,420,35"/><area shape="rect" id="node9" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="311,59,420,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af87c75a22443110432dc841e4f0bee34"></a><!-- doxytag: member="PSlice.cpp::require_data_decode" ref="af87c75a22443110432dc841e4f0bee34" args="(CodingPictInfo *cpi, macroblockdata *list, PBPredictInfo *plist, macroblockInfo *mlist, int32_t cur_r, int32_t cur_c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void require_data_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblockdata.html">macroblockdata</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_b_predict_info.html">PBPredictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>plist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cur_r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cur_c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00030"></a>00030 {
<a name="l00031"></a>00031         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> i = 0;
<a name="l00032"></a>00032         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> MB_height = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#aa6352dc53234c55d1a0c252c5b8d6141">Size_Height</a> &gt;&gt; 4;
<a name="l00033"></a>00033         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> MB_width = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> &gt;&gt; 4;
<a name="l00034"></a>00034 
<a name="l00035"></a>00035         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ls = 0; ls &lt; 2; ++ls)
<a name="l00036"></a>00036         {
<a name="l00037"></a>00037                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ri = 0; ri &lt; cpi-&gt;<a class="code" href="struct_coding_pict_info.html#ab48541faa825385baeca833ffe98b3d4">Ref_Count</a>[ls]; ++ri)
<a name="l00038"></a>00038                 {
<a name="l00039"></a>00039 
<a name="l00040"></a>00040                         plist[i].<a class="code" href="struct_p_b_predict_info.html#a1eda4a8837300bed803d81ada5dfbb30">myr</a> = cur_r;
<a name="l00041"></a>00041                         plist[i].<a class="code" href="struct_p_b_predict_info.html#ac46c76693de4dab4a105494d1220dc0a">myc</a> = cur_c;
<a name="l00042"></a>00042                         plist[i].<a class="code" href="struct_p_b_predict_info.html#a96c9413deeef7bfcd16237bfef11c8ae">stride</a> = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>;
<a name="l00043"></a>00043                         plist[i].<a class="code" href="struct_p_b_predict_info.html#a26162322380d1afd96ee0c894f6ee08e">sizew</a> = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>;
<a name="l00044"></a>00044                         plist[i].<a class="code" href="struct_p_b_predict_info.html#a22f7b2cc9619bf678980e45fc9ef7f1b">sizeh</a> = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#aa6352dc53234c55d1a0c252c5b8d6141">Size_Height</a>;
<a name="l00045"></a>00045                 
<a name="l00046"></a>00046                         plist[i].<a class="code" href="struct_p_b_predict_info.html#a7c7d2c72aa539c0e2365b4e04e18a0ca">pdata_y0</a>[ls][ri] = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a8c8c3eeff0744de167b9ea6c5a7938a0">ref_lumaStart</a>[ls][ri];
<a name="l00047"></a>00047                         plist[i].<a class="code" href="struct_p_b_predict_info.html#aaf07e44714249f4131c030df88bf8169">pdata_u0</a>[ls][ri] = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a48b49b89c36f39af860936fbf3a3c991">ref_chromaUStart</a>[ls][ri];
<a name="l00048"></a>00048                         plist[i].<a class="code" href="struct_p_b_predict_info.html#a8dc8f424bcb4274ef583207aa9827962">pdata_v0</a>[ls][ri] = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a5c703063430f731196d3acea2926d5bd">ref_chromaVStart</a>[ls][ri];
<a name="l00049"></a>00049                 }
<a name="l00050"></a>00050         }
<a name="l00051"></a>00051 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34_icgraph.png" border="0" usemap="#_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34_icgraph_map" alt=""></div>
<map name="_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34_icgraph_map" id="_p_slice_8cpp_af87c75a22443110432dc841e4f0bee34_icgraph">
<area shape="rect" id="node3" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="197,32,376,61"/><area shape="rect" id="node5" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="424,32,528,61"/><area shape="rect" id="node7" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="576,5,680,35"/><area shape="rect" id="node11" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="576,59,680,88"/><area shape="rect" id="node9" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="729,5,839,35"/><area shape="rect" id="node13" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="729,59,839,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2f76a7d2cb0721bd6dcba7ec01a808f7"></a><!-- doxytag: member="PSlice.cpp::save_data_pb" ref="a2f76a7d2cb0721bd6dcba7ec01a808f7" args="(CodingPictInfo *cpi, macroblockdata *dlist, macroblockInfo *mlist, int32_t cur_r, int32_t cur_c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_data_pb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblockdata.html">macroblockdata</a> *&nbsp;</td>
          <td class="paramname"> <em>dlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cur_r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>cur_c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054 {
<a name="l00055"></a>00055         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> j;
<a name="l00056"></a>00056         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> MB_width = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> &gt;&gt; 4,
<a name="l00057"></a>00057                 refMBt = <span class="keyword">sizeof</span>(<a class="code" href="structref_vector.html">refVector</a>),
<a name="l00058"></a>00058                 refStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> * 2 * refMBt;
<a name="l00059"></a>00059         <a class="code" href="_types_8h.html#a363e4d606232036a6b89060813c45489">uint8_t</a> *luma = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a62aee8cc8c9cac725d4f44a19ddc8c2b">lumaStart</a> + cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> * cur_r * 16 + cur_c * 16,
<a name="l00060"></a>00060                 *chromaU = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a103a3180ba57db0bd984a53f0668b70b">chromaUStart</a> + cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 2 * cur_r * 8 + cur_c * 8,
<a name="l00061"></a>00061                 *chromaV = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a7be3395b2a1e7f4b384421c2490dcfdc">chromaVStart</a> + cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 2 * cur_r * 8 + cur_c * 8,
<a name="l00062"></a>00062                 *ref = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#aa49520dd613a44185d6a41af8992d66c">refVec</a> + refStride * cur_r + cur_c * 32 * refMBt;
<a name="l00063"></a>00063         for (j = 0; j &lt; 16; ++j)
<a name="l00064"></a>00064         {
<a name="l00065"></a>00065                 PutAndWait(dlist-&gt;<a class="code" href="structmacroblockdata.html#ac3e45382bf0c21b9714fe7d8e9e1a12d">y</a>[j], luma, <span class="keyword">sizeof</span>(dlist-&gt;<a class="code" href="structmacroblockdata.html#ac3e45382bf0c21b9714fe7d8e9e1a12d">y</a>[j]));
<a name="l00066"></a>00066                 luma += cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>;
<a name="l00067"></a>00067         }
<a name="l00068"></a>00068         <span class="keywordflow">for</span> (j = 0; j &lt; 8; ++j)
<a name="l00069"></a>00069         {
<a name="l00070"></a>00070                 PutAndWait(dlist-&gt;<a class="code" href="structmacroblockdata.html#a07e17343606921d436bfddef89d0d93f">uv</a>[0][j], chromaU, <span class="keyword">sizeof</span>(dlist-&gt;<a class="code" href="structmacroblockdata.html#a07e17343606921d436bfddef89d0d93f">uv</a>[0][j]));
<a name="l00071"></a>00071                 PutAndWait(dlist-&gt;<a class="code" href="structmacroblockdata.html#a07e17343606921d436bfddef89d0d93f">uv</a>[1][j], chromaV, <span class="keyword">sizeof</span>(dlist-&gt;<a class="code" href="structmacroblockdata.html#a07e17343606921d436bfddef89d0d93f">uv</a>[1][j]));
<a name="l00072"></a>00072                 chromaU += cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 2;
<a name="l00073"></a>00073                 chromaV += cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 2;
<a name="l00074"></a>00074         }
<a name="l00075"></a>00075         PutAndWait(mlist-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>, ref, refMBt * 32);
<a name="l00076"></a>00076 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7_icgraph.png" border="0" usemap="#_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7_icgraph_map" alt=""></div>
<map name="_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7_icgraph_map" id="_p_slice_8cpp_a2f76a7d2cb0721bd6dcba7ec01a808f7_icgraph">
<area shape="rect" id="node3" href="_p_slice_8cpp.html#a18283e001efb21359ea20ded9bc27eff" title="macroblock_processor_PB" alt="" coords="155,32,333,61"/><area shape="rect" id="node5" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="381,32,485,61"/><area shape="rect" id="node7" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="533,5,637,35"/><area shape="rect" id="node11" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="533,59,637,88"/><area shape="rect" id="node9" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="687,5,796,35"/><area shape="rect" id="node13" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="687,59,796,88"/></map>
</div>
</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Jun 10 20:57:20 2010 for MVC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
