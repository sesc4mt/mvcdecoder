<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MVC: MVCDecoder/Codec/IFrame/ICAVLC.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MVCDecoder/Codec/IFrame/ICAVLC.h File Reference</h1><code>#include &quot;<a class="el" href="_common_8h_source.html">Common.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_picture_info_8h_source.html">PictureInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_bitstream_8h_source.html">Codec/Bitstream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_c_a_v_l_c_8h_source.html">Codec/CAVLC.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for ICAVLC.h:</div>
<div class="dynsection">
<div class="center"><img src="_i_c_a_v_l_c_8h__incl.png" border="0" usemap="#_m_v_c_decoder_2_codec_2_i_frame_2_i_c_a_v_l_c_8h_map" alt=""/></div>
<map name="_m_v_c_decoder_2_codec_2_i_frame_2_i_c_a_v_l_c_8h_map" id="_m_v_c_decoder_2_codec_2_i_frame_2_i_c_a_v_l_c_8h">
<area shape="rect" id="node3" href="_common_8h.html" title="Common.h" alt="" coords="75,237,160,267"/><area shape="rect" id="node14" href="_picture_info_8h.html" title="PictureInfo.h" alt="" coords="236,160,329,189"/><area shape="rect" id="node32" href="_bitstream_8h.html" title="Codec/Bitstream.h" alt="" coords="81,160,212,189"/><area shape="rect" id="node35" href="_c_a_v_l_c_8h.html" title="Codec/CAVLC.h" alt="" coords="157,83,275,112"/><area shape="rect" id="node12" href="_types_8h.html" title="Types.h" alt="" coords="292,315,359,344"/><area shape="rect" id="node20" href="_macros_8h.html" title="Macros.h" alt="" coords="259,237,333,267"/><area shape="rect" id="node24" href="_debug_8h.html" title="Debug.h" alt="" coords="459,237,528,267"/><area shape="rect" id="node39" href="vlc_pred_8h.html" title="Codec/vlcPred.h" alt="" coords="377,160,492,189"/></map>
</div>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="_i_c_a_v_l_c_8h__dep__incl.png" border="0" usemap="#_m_v_c_decoder_2_codec_2_i_frame_2_i_c_a_v_l_c_8hdep_map" alt=""/></div>
<map name="_m_v_c_decoder_2_codec_2_i_frame_2_i_c_a_v_l_c_8hdep_map" id="_m_v_c_decoder_2_codec_2_i_frame_2_i_c_a_v_l_c_8hdep">
<area shape="rect" id="node3" href="_i_slice_8cpp.html" title="MVCDecoder/Codec/IFrame/ISlice.cpp" alt="" coords="5,83,251,112"/></map>
</div>

<p><a href="_i_c_a_v_l_c_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_c_a_v_l_c_8h.html#a995f6a4907273b8d56b6543ab1a57d17">SLAVE_CODE</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_c_a_v_l_c_8h.html#a5ca95f08673d3dcfd97990a11501c6da">macroblock_read_cavlc_I_slice</a> (<a class="el" href="struct_bitstream.html">Bitstream</a> *bs, <a class="el" href="structmacroblock_info.html">pmacroblockInfo</a> info, <a class="el" href="structtag__cavlc__ref__list.html">cavlc_ref_list</a> *ref_list)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_c_a_v_l_c_8h.html#aacaa2d123678a0deb8a0c2a5ee6e53b1">T264dec_mb_read_intra_cavlc</a> (<a class="el" href="struct_bitstream.html">Bitstream</a> *bs, <a class="el" href="_types_8h.html#a363e4d606232036a6b89060813c45489">uint8_t</a> mb_part, <a class="el" href="structmacroblock_info.html">pmacroblockInfo</a> info, <a class="el" href="structtag__cavlc__ref__list.html">cavlc_ref_list</a> *ref_list)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a995f6a4907273b8d56b6543ab1a57d17"></a><!-- doxytag: member="ICAVLC.h::SLAVE_CODE" ref="a995f6a4907273b8d56b6543ab1a57d17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLAVE_CODE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5ca95f08673d3dcfd97990a11501c6da"></a><!-- doxytag: member="ICAVLC.h::macroblock_read_cavlc_I_slice" ref="a5ca95f08673d3dcfd97990a11501c6da" args="(Bitstream *bs, pmacroblockInfo info, cavlc_ref_list *ref_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macroblock_read_cavlc_I_slice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bitstream.html">Bitstream</a> *&nbsp;</td>
          <td class="paramname"> <em>bs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">pmacroblockInfo</a>&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtag__cavlc__ref__list.html">cavlc_ref_list</a> *&nbsp;</td>
          <td class="paramname"> <em>ref_list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00204"></a>00204 {
<a name="l00205"></a>00205         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> mb_part;
<a name="l00206"></a>00206 
<a name="l00207"></a>00207         mb_part = <a class="code" href="_bitstream_8h.html#acad61027e3182912d2b9d95180d45250">eg_read_ue</a>(bs);
<a name="l00208"></a>00208         <a class="code" href="_i_c_a_v_l_c_8cpp.html#aacaa2d123678a0deb8a0c2a5ee6e53b1">T264dec_mb_read_intra_cavlc</a>(bs, mb_part, info, ref_list);
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_c_a_v_l_c_8h_a5ca95f08673d3dcfd97990a11501c6da_cgraph.png" border="0" usemap="#_i_c_a_v_l_c_8h_a5ca95f08673d3dcfd97990a11501c6da_cgraph_map" alt=""></div>
<map name="_i_c_a_v_l_c_8h_a5ca95f08673d3dcfd97990a11501c6da_cgraph_map" id="_i_c_a_v_l_c_8h_a5ca95f08673d3dcfd97990a11501c6da_cgraph">
<area shape="rect" id="node3" href="_i_c_a_v_l_c_8cpp.html#aacaa2d123678a0deb8a0c2a5ee6e53b1" title="T264dec_mb_read_intra_cavlc" alt="" coords="257,657,452,687"/><area shape="rect" id="node5" href="_c_a_v_l_c_8cpp.html#aeb5a2ec1c37d4efb405d9209adfb122b" title="block_residual_read_cavlc" alt="" coords="725,592,899,621"/><area shape="rect" id="node53" href="vlc_pred_8h.html#aa95b4f7002a155287414853f2fc58279" title="get_luma_pred" alt="" coords="536,631,643,660"/><area shape="rect" id="node55" href="_c_a_v_l_c_8cpp.html#ac8715360bdf3222bff81c76624638ec3" title="macroblock_read_cavlc_uv" alt="" coords="501,684,677,713"/><area shape="rect" id="node62" href="vlc_pred_8h.html#a534c4d1461b465b86fa6ed3294f7fc93" title="set_luma_pred" alt="" coords="536,737,643,767"/><area shape="rect" id="node7" href="_c_a_v_l_c_8cpp.html#a667302ddec9d1aff7c31c331ffaec929" title="T264dec_mb_read_coff_token_t0" alt="" coords="963,5,1173,35"/><area shape="rect" id="node9" href="_c_a_v_l_c_8cpp.html#aabed3a424b724036b177a9b91ed2c5cc" title="T264dec_mb_read_coff_token_t1" alt="" coords="963,59,1173,88"/><area shape="rect" id="node11" href="_c_a_v_l_c_8cpp.html#a8cc3a1e080c7fdffce24705a568a77d4" title="T264dec_mb_read_coff_token_t2" alt="" coords="963,112,1173,141"/><area shape="rect" id="node13" href="_c_a_v_l_c_8cpp.html#a2f71e9151c1843ae4e79a969b62f1e7a" title="T264dec_mb_read_coff_token_t3" alt="" coords="963,165,1173,195"/><area shape="rect" id="node15" href="_c_a_v_l_c_8cpp.html#aa813db30dbca2b63effb00f51f5a09e8" title="T264dec_mb_read_coff_token_t4" alt="" coords="963,219,1173,248"/><area shape="rect" id="node17" href="_c_a_v_l_c_8cpp.html#a2de597d6ec034469f21e451d17251ec0" title="T264dec_mb_read_level_prefix" alt="" coords="969,272,1167,301"/><area shape="rect" id="node19" href="_c_a_v_l_c_8cpp.html#a0c9db9287496d5932a5d62c1d1c4324f" title="T264dec_mb_read_run_before" alt="" coords="971,325,1165,355"/><area shape="rect" id="node21" href="_c_a_v_l_c_8cpp.html#abd7d91649a10d2b893c2c1eab9513950" title="T264dec_mb_read_total_zero1" alt="" coords="969,379,1167,408"/><area shape="rect" id="node23" href="_c_a_v_l_c_8cpp.html#a317d53737fb2514abc97e4f178686c83" title="T264dec_mb_read_total_zero10" alt="" coords="965,432,1171,461"/><area shape="rect" id="node25" href="_c_a_v_l_c_8cpp.html#a03140b30cd941dd61f78dd0f225bd669" title="T264dec_mb_read_total_zero11" alt="" coords="965,485,1171,515"/><area shape="rect" id="node27" href="_c_a_v_l_c_8cpp.html#a01d97551c35453f8c9d9c8ebf29720fa" title="T264dec_mb_read_total_zero12" alt="" coords="965,539,1171,568"/><area shape="rect" id="node29" href="_c_a_v_l_c_8cpp.html#a841395546b65d2211a8bf3f2edfce4ae" title="T264dec_mb_read_total_zero13" alt="" coords="965,592,1171,621"/><area shape="rect" id="node31" href="_c_a_v_l_c_8cpp.html#a708fd9f1ac45b72841f4df147310d20e" title="T264dec_mb_read_total_zero14" alt="" coords="965,645,1171,675"/><area shape="rect" id="node33" href="_c_a_v_l_c_8cpp.html#acd57cb14d72d158e01f061c69d3e67f1" title="T264dec_mb_read_total_zero15" alt="" coords="965,699,1171,728"/><area shape="rect" id="node35" href="_c_a_v_l_c_8cpp.html#a555e0a8e9bc797ebe40b74eeef104d6f" title="T264dec_mb_read_total_zero2" alt="" coords="969,752,1167,781"/><area shape="rect" id="node37" href="_c_a_v_l_c_8cpp.html#a7a1d11b2eef008bff8ff0f49c7d37f0d" title="T264dec_mb_read_total_zero3" alt="" coords="969,805,1167,835"/><area shape="rect" id="node39" href="_c_a_v_l_c_8cpp.html#a344ce961a19c7d39d9324f45b80589d3" title="T264dec_mb_read_total_zero4" alt="" coords="969,859,1167,888"/><area shape="rect" id="node41" href="_c_a_v_l_c_8cpp.html#accc49a932e74a300742a3ffc4fda2df2" title="T264dec_mb_read_total_zero5" alt="" coords="969,912,1167,941"/><area shape="rect" id="node43" href="_c_a_v_l_c_8cpp.html#a08ad970c75fd24cb8a40f7406b8a5c2e" title="T264dec_mb_read_total_zero6" alt="" coords="969,965,1167,995"/><area shape="rect" id="node45" href="_c_a_v_l_c_8cpp.html#a4ae98797fed5bfe90e01c20beb0e8bb2" title="T264dec_mb_read_total_zero7" alt="" coords="969,1019,1167,1048"/><area shape="rect" id="node47" href="_c_a_v_l_c_8cpp.html#a447e87bf54c6dd411745c9dc3be6f1fe" title="T264dec_mb_read_total_zero8" alt="" coords="969,1072,1167,1101"/><area shape="rect" id="node49" href="_c_a_v_l_c_8cpp.html#a01d3c729c686c58187d2d4f483dd201c" title="T264dec_mb_read_total_zero9" alt="" coords="969,1125,1167,1155"/><area shape="rect" id="node51" href="_c_a_v_l_c_8cpp.html#a72ccdd65c817f414847b927ef762971e" title="T264dec_mb_read_total_zero_chroma" alt="" coords="947,1179,1189,1208"/><area shape="rect" id="node58" href="vlc_pred_8h.html#a6b7594a4d633c85e42d7fcab84940eee" title="get_chroma_pred" alt="" coords="751,671,873,700"/><area shape="rect" id="node60" href="vlc_pred_8h.html#a502428eb3f92a2a6d112ad25f756c233" title="set_chroma_pred" alt="" coords="751,724,873,753"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_c_a_v_l_c_8h_a5ca95f08673d3dcfd97990a11501c6da_icgraph.png" border="0" usemap="#_i_c_a_v_l_c_8h_a5ca95f08673d3dcfd97990a11501c6da_icgraph_map" alt=""></div>
<map name="_i_c_a_v_l_c_8h_a5ca95f08673d3dcfd97990a11501c6da_icgraph_map" id="_i_c_a_v_l_c_8h_a5ca95f08673d3dcfd97990a11501c6da_icgraph">
<area shape="rect" id="node3" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="256,5,355,35"/><area shape="rect" id="node5" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="403,5,501,35"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="549,5,656,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aacaa2d123678a0deb8a0c2a5ee6e53b1"></a><!-- doxytag: member="ICAVLC.h::T264dec_mb_read_intra_cavlc" ref="aacaa2d123678a0deb8a0c2a5ee6e53b1" args="(Bitstream *bs, uint8_t mb_part, pmacroblockInfo info, cavlc_ref_list *ref_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void T264dec_mb_read_intra_cavlc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bitstream.html">Bitstream</a> *&nbsp;</td>
          <td class="paramname"> <em>bs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#a363e4d606232036a6b89060813c45489">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>mb_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">pmacroblockInfo</a>&nbsp;</td>
          <td class="paramname"> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtag__cavlc__ref__list.html">cavlc_ref_list</a> *&nbsp;</td>
          <td class="paramname"> <em>ref_list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00107"></a>00107 {
<a name="l00108"></a>00108         <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> i;
<a name="l00109"></a>00109         <span class="keywordtype">int</span> th = 0;
<a name="l00110"></a>00110         <span class="keywordflow">if</span> (mb_part == <a class="code" href="_consts4_standard_8h.html#abed82baf7f470b522273a3e37c24c600af6e415e1d5e44181c2ba7131f203b694">I_4x4</a>)
<a name="l00111"></a>00111         {
<a name="l00112"></a>00112                 info-&gt;<a class="code" href="structmacroblock_info.html#a6bb816cb458ac9c8f908c3f0464cd8ee">mode_I</a> = <a class="code" href="_consts4_standard_8h.html#abed82baf7f470b522273a3e37c24c600af6e415e1d5e44181c2ba7131f203b694">I_4x4</a>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114                 memset(info-&gt;<a class="code" href="structmacroblock_info.html#a60437cc69d5df6184a6b768ff667a70f">dct_y_h</a>, 0, 16);
<a name="l00115"></a>00115                 <span class="keywordflow">for</span> (i = 0; i &lt; 16; ++i)
<a name="l00116"></a>00116                         memset(info-&gt;<a class="code" href="structmacroblock_info.html#ae8398ee14b29db905e426da03b462417">dct_y_z</a>[i], 0, 16);
<a name="l00117"></a>00117 
<a name="l00118"></a>00118                 info-&gt;<a class="code" href="structmacroblock_info.html#a0f244dcaf8b80e1f8adc3973e34e0a25">transform8x8</a> = 0;
<a name="l00119"></a>00119                 <span class="comment">//int transform8x8 = 0;</span>
<a name="l00120"></a>00120                 <span class="comment">//if (pps.transform8x8Flag)</span>
<a name="l00121"></a>00121                 {
<a name="l00122"></a>00122                         info-&gt;<a class="code" href="structmacroblock_info.html#a0f244dcaf8b80e1f8adc3973e34e0a25">transform8x8</a> = <a class="code" href="_bitstream_8h.html#a930f8a3acc36d15b74015dd4579f485c">eg_read_direct1</a>(bs);
<a name="l00123"></a>00123                 }
<a name="l00124"></a>00124                 <span class="keywordflow">if</span> (info-&gt;<a class="code" href="structmacroblock_info.html#a0f244dcaf8b80e1f8adc3973e34e0a25">transform8x8</a>)
<a name="l00125"></a>00125                 {
<a name="l00126"></a>00126                         info-&gt;<a class="code" href="structmacroblock_info.html#a6bb816cb458ac9c8f908c3f0464cd8ee">mode_I</a> = <a class="code" href="_consts4_standard_8h.html#abed82baf7f470b522273a3e37c24c600a2e701cf3bb5800c555e0fb95d980d303">I_8x8</a>;
<a name="l00127"></a>00127                         T264_mb_read_cavlc_i8x8_mode(bs, info, ref_list);
<a name="l00128"></a>00128                 }
<a name="l00129"></a>00129                 <span class="keywordflow">else</span>
<a name="l00130"></a>00130                 {
<a name="l00131"></a>00131                         T264_mb_read_cavlc_i4x4_mode(bs, info, ref_list);
<a name="l00132"></a>00132                 }
<a name="l00133"></a>00133                 <a class="code" href="_types_8h.html#a115ba3a1b24a8702355c5dbd61ce01e0">int32_t</a> cbp;
<a name="l00134"></a>00134                 info-&gt;<a class="code" href="structmacroblock_info.html#a562426f4ab2f9cd93c95cff91faaa0f6">mode_uv</a> = <a class="code" href="_bitstream_8h.html#acad61027e3182912d2b9d95180d45250">eg_read_ue</a>(bs);
<a name="l00135"></a>00135                 <a class="code" href="_macros_8h.html#abd5c9d76934db042ded6de967acc64e4">assert</a>(info-&gt;<a class="code" href="structmacroblock_info.html#a562426f4ab2f9cd93c95cff91faaa0f6">mode_uv</a> &lt;= <a class="code" href="_consts4_standard_8h.html#a99fb83031ce9923c84392b4e92f956b5a3f5d49151d1a4cfeb047b96f8956753a">Intra_8x8_DC128</a>);
<a name="l00136"></a>00136                 cbp = i4x4_eg_to_cbp[<a class="code" href="_bitstream_8h.html#acad61027e3182912d2b9d95180d45250">eg_read_ue</a>(bs)];
<a name="l00137"></a>00137                 info-&gt;<a class="code" href="structmacroblock_info.html#a39296ecdc137fb62501453716a0330ac">cbp_y</a> = cbp % 16;
<a name="l00138"></a>00138                 info-&gt;<a class="code" href="structmacroblock_info.html#ae4618a11a8f0f396fb05879125bc449a">cbp_uv</a> = cbp / 16;
<a name="l00139"></a>00139                 <span class="keywordflow">if</span> (cbp &gt; 0)
<a name="l00140"></a>00140                         info-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a> = eg_read_se(bs);
<a name="l00141"></a>00141                 <span class="keywordflow">else</span>
<a name="l00142"></a>00142                         info-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a> = 0;
<a name="l00143"></a>00143         }
<a name="l00144"></a>00144         <span class="keywordflow">else</span>
<a name="l00145"></a>00145         {
<a name="l00146"></a>00146                 <span class="keywordflow">for</span> (i = 0; i &lt; 4; ++i)
<a name="l00147"></a>00147                 {
<a name="l00148"></a>00148                         ref_list-&gt;<a class="code" href="structtag__cavlc__ref__list.html#a854c970004394513901757cc3dcb65e5">left</a>[i].<a class="code" href="structtag__cavlc__ref.html#a76c8b0c75a3a13a59196c89cf919766f">imode</a> = 0x02;
<a name="l00149"></a>00149                         ref_list-&gt;<a class="code" href="structtag__cavlc__ref__list.html#af93b34de26224281e33b951333a665c7">top</a>[i].<a class="code" href="structtag__cavlc__ref.html#a76c8b0c75a3a13a59196c89cf919766f">imode</a> = 0x02;
<a name="l00150"></a>00150                 }
<a name="l00151"></a>00151                 info-&gt;<a class="code" href="structmacroblock_info.html#a6bb816cb458ac9c8f908c3f0464cd8ee">mode_I</a> = <a class="code" href="_consts4_standard_8h.html#abed82baf7f470b522273a3e37c24c600a5fc00bf550c7dd0aa35fe3c7fe664ff6">I_16x16</a>;
<a name="l00152"></a>00152                 info-&gt;<a class="code" href="structmacroblock_info.html#a56fac1ac121007a216cd538adc034a16">mode_i16x16</a> = i16x16_eg_to_cbp[mb_part][0];
<a name="l00153"></a>00153                 info-&gt;<a class="code" href="structmacroblock_info.html#a39296ecdc137fb62501453716a0330ac">cbp_y</a> = i16x16_eg_to_cbp[mb_part][2];
<a name="l00154"></a>00154                 info-&gt;<a class="code" href="structmacroblock_info.html#ae4618a11a8f0f396fb05879125bc449a">cbp_uv</a> = i16x16_eg_to_cbp[mb_part][1];
<a name="l00155"></a>00155 
<a name="l00156"></a>00156                 info-&gt;<a class="code" href="structmacroblock_info.html#a562426f4ab2f9cd93c95cff91faaa0f6">mode_uv</a> = <a class="code" href="_bitstream_8h.html#acad61027e3182912d2b9d95180d45250">eg_read_ue</a>(bs);
<a name="l00157"></a>00157                 <span class="keywordflow">if</span> (!(info-&gt;<a class="code" href="structmacroblock_info.html#a562426f4ab2f9cd93c95cff91faaa0f6">mode_uv</a> &lt;= <a class="code" href="_consts4_standard_8h.html#a99fb83031ce9923c84392b4e92f956b5a3f5d49151d1a4cfeb047b96f8956753a">Intra_8x8_DC128</a>))
<a name="l00158"></a>00158                 {
<a name="l00159"></a>00159                         <span class="comment">//printf(&quot;\n&quot;);</span>
<a name="l00160"></a>00160                 }
<a name="l00161"></a>00161                 <a class="code" href="_macros_8h.html#abd5c9d76934db042ded6de967acc64e4">assert</a>(info-&gt;<a class="code" href="structmacroblock_info.html#a562426f4ab2f9cd93c95cff91faaa0f6">mode_uv</a> &lt;= <a class="code" href="_consts4_standard_8h.html#a99fb83031ce9923c84392b4e92f956b5a3f5d49151d1a4cfeb047b96f8956753a">Intra_8x8_DC128</a>);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="comment">//              if (info-&gt;cbp_y | info-&gt;cbp_uv)</span>
<a name="l00164"></a>00164                 {
<a name="l00165"></a>00165                         info-&gt;<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a> = eg_read_se(bs);
<a name="l00166"></a>00166                 }
<a name="l00167"></a>00167 <span class="comment">//              else</span>
<a name="l00168"></a>00168 <span class="comment">//                      info-&gt;qp_delta = 0;</span>
<a name="l00169"></a>00169 
<a name="l00170"></a>00170                 <span class="comment">// dc luma</span>
<a name="l00171"></a>00171                 <span class="keywordtype">int</span> nC = <a class="code" href="vlc_pred_8h.html#aa95b4f7002a155287414853f2fc58279">get_luma_pred</a>(ref_list, 0);
<a name="l00172"></a>00172                 <a class="code" href="_c_a_v_l_c_8cpp.html#aeb5a2ec1c37d4efb405d9209adfb122b">block_residual_read_cavlc</a>(bs, <a class="code" href="vlc_8h.html#ad2d7f1b7e491db865767a2a38443091a">BLOCK_INDEX_LUMA_DC</a>, info-&gt;<a class="code" href="structmacroblock_info.html#a60437cc69d5df6184a6b768ff667a70f">dct_y_h</a>, 16, nC);
<a name="l00173"></a>00173                 th = 1;
<a name="l00174"></a>00174         }
<a name="l00175"></a>00175         info-&gt;<a class="code" href="structmacroblock_info.html#a8c2dc78f061142480ef5b2026b8a1dff">coded44</a> = 0;
<a name="l00176"></a>00176         <span class="keywordflow">for</span>(i = 0 ; i &lt; 4 ; i ++)
<a name="l00177"></a>00177                 <span class="keywordflow">if</span> (info-&gt;<a class="code" href="structmacroblock_info.html#a39296ecdc137fb62501453716a0330ac">cbp_y</a> &amp; (1 &lt;&lt; i))
<a name="l00178"></a>00178                 {
<a name="l00179"></a>00179                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 4; ++j)
<a name="l00180"></a>00180                         {
<a name="l00181"></a>00181                                 <span class="keywordtype">int</span> idx = i/2 * 8 + i % 2 * 2 + j / 2 * 4 + j % 2;
<a name="l00182"></a>00182                                 <span class="keywordtype">int</span> nC = <a class="code" href="vlc_pred_8h.html#aa95b4f7002a155287414853f2fc58279">get_luma_pred</a>(ref_list, idx);
<a name="l00183"></a>00183                                 nC = <a class="code" href="_c_a_v_l_c_8cpp.html#aeb5a2ec1c37d4efb405d9209adfb122b">block_residual_read_cavlc</a>(bs, i/2 * 8 + i % 2 * 2 + j / 2 * 4 + j % 2, info-&gt;<a class="code" href="structmacroblock_info.html#ae8398ee14b29db905e426da03b462417">dct_y_z</a>[i/2 * 8 + i % 2 * 2 + j / 2 * 4 + j % 2]+th, 16-th, nC);
<a name="l00184"></a>00184                                 <a class="code" href="vlc_pred_8h.html#a534c4d1461b465b86fa6ed3294f7fc93">set_luma_pred</a>(ref_list, idx, nC);
<a name="l00185"></a>00185                                 <span class="keywordflow">if</span> (nC || info-&gt;<a class="code" href="structmacroblock_info.html#a0f244dcaf8b80e1f8adc3973e34e0a25">transform8x8</a>)
<a name="l00186"></a>00186                                 {
<a name="l00187"></a>00187                                         info-&gt;<a class="code" href="structmacroblock_info.html#a8c2dc78f061142480ef5b2026b8a1dff">coded44</a> |= (1&lt;&lt;(idx));
<a name="l00188"></a>00188                                 }
<a name="l00189"></a>00189                         }
<a name="l00190"></a>00190                 }
<a name="l00191"></a>00191                 <span class="keywordflow">else</span>
<a name="l00192"></a>00192                 {
<a name="l00193"></a>00193                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 4; ++j)
<a name="l00194"></a>00194                         {
<a name="l00195"></a>00195                                 <span class="keywordtype">int</span> idx = i/2 * 8 + i % 2 * 2 + j / 2 * 4 + j % 2;
<a name="l00196"></a>00196                                 memset(info-&gt;<a class="code" href="structmacroblock_info.html#ae8398ee14b29db905e426da03b462417">dct_y_z</a>[idx], 0, 16);
<a name="l00197"></a>00197                                 <a class="code" href="vlc_pred_8h.html#a534c4d1461b465b86fa6ed3294f7fc93">set_luma_pred</a>(ref_list, idx, 0);
<a name="l00198"></a>00198                         }
<a name="l00199"></a>00199                 }
<a name="l00200"></a>00200         <a class="code" href="_c_a_v_l_c_8cpp.html#ac8715360bdf3222bff81c76624638ec3">macroblock_read_cavlc_uv</a>(bs, info, ref_list);
<a name="l00201"></a>00201 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_c_a_v_l_c_8h_aacaa2d123678a0deb8a0c2a5ee6e53b1_cgraph.png" border="0" usemap="#_i_c_a_v_l_c_8h_aacaa2d123678a0deb8a0c2a5ee6e53b1_cgraph_map" alt=""></div>
<map name="_i_c_a_v_l_c_8h_aacaa2d123678a0deb8a0c2a5ee6e53b1_cgraph_map" id="_i_c_a_v_l_c_8h_aacaa2d123678a0deb8a0c2a5ee6e53b1_cgraph">
<area shape="rect" id="node3" href="_c_a_v_l_c_8cpp.html#aeb5a2ec1c37d4efb405d9209adfb122b" title="block_residual_read_cavlc" alt="" coords="475,592,648,621"/><area shape="rect" id="node51" href="vlc_pred_8h.html#aa95b4f7002a155287414853f2fc58279" title="get_luma_pred" alt="" coords="285,631,392,660"/><area shape="rect" id="node53" href="_c_a_v_l_c_8cpp.html#ac8715360bdf3222bff81c76624638ec3" title="macroblock_read_cavlc_uv" alt="" coords="251,684,427,713"/><area shape="rect" id="node60" href="vlc_pred_8h.html#a534c4d1461b465b86fa6ed3294f7fc93" title="set_luma_pred" alt="" coords="285,737,392,767"/><area shape="rect" id="node5" href="_c_a_v_l_c_8cpp.html#a667302ddec9d1aff7c31c331ffaec929" title="T264dec_mb_read_coff_token_t0" alt="" coords="712,5,923,35"/><area shape="rect" id="node7" href="_c_a_v_l_c_8cpp.html#aabed3a424b724036b177a9b91ed2c5cc" title="T264dec_mb_read_coff_token_t1" alt="" coords="712,59,923,88"/><area shape="rect" id="node9" href="_c_a_v_l_c_8cpp.html#a8cc3a1e080c7fdffce24705a568a77d4" title="T264dec_mb_read_coff_token_t2" alt="" coords="712,112,923,141"/><area shape="rect" id="node11" href="_c_a_v_l_c_8cpp.html#a2f71e9151c1843ae4e79a969b62f1e7a" title="T264dec_mb_read_coff_token_t3" alt="" coords="712,165,923,195"/><area shape="rect" id="node13" href="_c_a_v_l_c_8cpp.html#aa813db30dbca2b63effb00f51f5a09e8" title="T264dec_mb_read_coff_token_t4" alt="" coords="712,219,923,248"/><area shape="rect" id="node15" href="_c_a_v_l_c_8cpp.html#a2de597d6ec034469f21e451d17251ec0" title="T264dec_mb_read_level_prefix" alt="" coords="719,272,916,301"/><area shape="rect" id="node17" href="_c_a_v_l_c_8cpp.html#a0c9db9287496d5932a5d62c1d1c4324f" title="T264dec_mb_read_run_before" alt="" coords="720,325,915,355"/><area shape="rect" id="node19" href="_c_a_v_l_c_8cpp.html#abd7d91649a10d2b893c2c1eab9513950" title="T264dec_mb_read_total_zero1" alt="" coords="719,379,916,408"/><area shape="rect" id="node21" href="_c_a_v_l_c_8cpp.html#a317d53737fb2514abc97e4f178686c83" title="T264dec_mb_read_total_zero10" alt="" coords="715,432,920,461"/><area shape="rect" id="node23" href="_c_a_v_l_c_8cpp.html#a03140b30cd941dd61f78dd0f225bd669" title="T264dec_mb_read_total_zero11" alt="" coords="715,485,920,515"/><area shape="rect" id="node25" href="_c_a_v_l_c_8cpp.html#a01d97551c35453f8c9d9c8ebf29720fa" title="T264dec_mb_read_total_zero12" alt="" coords="715,539,920,568"/><area shape="rect" id="node27" href="_c_a_v_l_c_8cpp.html#a841395546b65d2211a8bf3f2edfce4ae" title="T264dec_mb_read_total_zero13" alt="" coords="715,592,920,621"/><area shape="rect" id="node29" href="_c_a_v_l_c_8cpp.html#a708fd9f1ac45b72841f4df147310d20e" title="T264dec_mb_read_total_zero14" alt="" coords="715,645,920,675"/><area shape="rect" id="node31" href="_c_a_v_l_c_8cpp.html#acd57cb14d72d158e01f061c69d3e67f1" title="T264dec_mb_read_total_zero15" alt="" coords="715,699,920,728"/><area shape="rect" id="node33" href="_c_a_v_l_c_8cpp.html#a555e0a8e9bc797ebe40b74eeef104d6f" title="T264dec_mb_read_total_zero2" alt="" coords="719,752,916,781"/><area shape="rect" id="node35" href="_c_a_v_l_c_8cpp.html#a7a1d11b2eef008bff8ff0f49c7d37f0d" title="T264dec_mb_read_total_zero3" alt="" coords="719,805,916,835"/><area shape="rect" id="node37" href="_c_a_v_l_c_8cpp.html#a344ce961a19c7d39d9324f45b80589d3" title="T264dec_mb_read_total_zero4" alt="" coords="719,859,916,888"/><area shape="rect" id="node39" href="_c_a_v_l_c_8cpp.html#accc49a932e74a300742a3ffc4fda2df2" title="T264dec_mb_read_total_zero5" alt="" coords="719,912,916,941"/><area shape="rect" id="node41" href="_c_a_v_l_c_8cpp.html#a08ad970c75fd24cb8a40f7406b8a5c2e" title="T264dec_mb_read_total_zero6" alt="" coords="719,965,916,995"/><area shape="rect" id="node43" href="_c_a_v_l_c_8cpp.html#a4ae98797fed5bfe90e01c20beb0e8bb2" title="T264dec_mb_read_total_zero7" alt="" coords="719,1019,916,1048"/><area shape="rect" id="node45" href="_c_a_v_l_c_8cpp.html#a447e87bf54c6dd411745c9dc3be6f1fe" title="T264dec_mb_read_total_zero8" alt="" coords="719,1072,916,1101"/><area shape="rect" id="node47" href="_c_a_v_l_c_8cpp.html#a01d3c729c686c58187d2d4f483dd201c" title="T264dec_mb_read_total_zero9" alt="" coords="719,1125,916,1155"/><area shape="rect" id="node49" href="_c_a_v_l_c_8cpp.html#a72ccdd65c817f414847b927ef762971e" title="T264dec_mb_read_total_zero_chroma" alt="" coords="696,1179,939,1208"/><area shape="rect" id="node56" href="vlc_pred_8h.html#a6b7594a4d633c85e42d7fcab84940eee" title="get_chroma_pred" alt="" coords="500,671,623,700"/><area shape="rect" id="node58" href="vlc_pred_8h.html#a502428eb3f92a2a6d112ad25f756c233" title="set_chroma_pred" alt="" coords="500,724,623,753"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_i_c_a_v_l_c_8h_aacaa2d123678a0deb8a0c2a5ee6e53b1_icgraph.png" border="0" usemap="#_i_c_a_v_l_c_8h_aacaa2d123678a0deb8a0c2a5ee6e53b1_icgraph_map" alt=""></div>
<map name="_i_c_a_v_l_c_8h_aacaa2d123678a0deb8a0c2a5ee6e53b1_icgraph_map" id="_i_c_a_v_l_c_8h_aacaa2d123678a0deb8a0c2a5ee6e53b1_icgraph">
<area shape="rect" id="node3" href="_p_b_c_a_v_l_c_8h.html#a9d0d19143ae03ff45bcfbf2c9980b11b" title="macroblock_read_cavlc_B_slice" alt="" coords="252,32,457,61"/><area shape="rect" id="node15" href="_i_c_a_v_l_c_8h.html#a5ca95f08673d3dcfd97990a11501c6da" title="macroblock_read_cavlc_I_slice" alt="" coords="255,139,455,168"/><area shape="rect" id="node23" href="_p_b_c_a_v_l_c_8h.html#afe9c114999f137df97529d13c1e485bb" title="macroblock_read_cavlc_P_slice" alt="" coords="252,85,457,115"/><area shape="rect" id="node5" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="507,59,611,88"/><area shape="rect" id="node7" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="659,5,763,35"/><area shape="rect" id="node11" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="659,59,763,88"/><area shape="rect" id="node9" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="812,5,921,35"/><area shape="rect" id="node13" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="812,59,921,88"/><area shape="rect" id="node17" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="509,139,608,168"/><area shape="rect" id="node19" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="661,139,760,168"/><area shape="rect" id="node21" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="813,139,920,168"/></map>
</div>
</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Jun 10 20:56:32 2010 for MVC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
