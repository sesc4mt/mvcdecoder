<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MVC: MVCCommonLib/Codec/LoopFilter.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MVCCommonLib/Codec/LoopFilter.cpp File Reference</h1><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="_loop_filter_8cpp.html">LoopFilter.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="_macros_8h_source.html">Macros.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="_picture_info_8h_source.html">PictureInfo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_consts4_standard_8h_source.html">Codec/Consts4Standard.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for LoopFilter.cpp:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp__incl.png" border="0" usemap="#_m_v_c_common_lib_2_codec_2_loop_filter_8cpp_map" alt=""/></div>
<map name="_m_v_c_common_lib_2_codec_2_loop_filter_8cpp_map" id="_m_v_c_common_lib_2_codec_2_loop_filter_8cpp">
<area shape="rect" id="node6" href="_macros_8h.html" title="Macros.h" alt="" coords="213,160,287,190"/><area shape="rect" id="node12" href="_picture_info_8h.html" title="PictureInfo.h" alt="" coords="281,83,374,112"/><area shape="rect" id="node28" href="_consts4_standard_8h.html" title="Codec/Consts4Standard.h" alt="" coords="33,83,206,112"/><area shape="rect" id="node10" href="_types_8h.html" title="Types.h" alt="" coords="207,238,274,267"/><area shape="rect" id="node20" href="_debug_8h.html" title="Debug.h" alt="" coords="442,160,511,190"/><area shape="rect" id="node30" href="_common_8h.html" title="Common.h" alt="" coords="79,160,165,190"/></map>
</div>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp__dep__incl.png" border="0" usemap="#_m_v_c_common_lib_2_codec_2_loop_filter_8cppdep_map" alt=""/></div>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a> [2][4][4]</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a> (<a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *pixels, int stride, int idxA, int idxB, <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs, bool isLuma)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#af5fe65e920004c9063b3b44a405ae942">LumaVerFilter</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, int mbIdx, <a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a> m_aaaucBs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a5630c9b21b9751b11fa116e9f383da5c">LumaHorFilter</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, int mbIdx, <a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a> m_aaaucBs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a3624223f3d4fb60f1915390182e18ad0">ChromaHorFilter</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, int mbIdx, <a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a> m_aaaucBs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#ae1485a034a76344a800072473e3b5b13">ChromaVerFilter</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, int mbIdx, <a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a> m_aaaucBs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3">CheckMvDataP</a> (<a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mb1, int idx1, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mb2, int idx2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6">CheckMvDataB</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mb1, int idx1, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mb2, int idx2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a1f70a21e87e7aa4f5e42426b044bf8e6">GetVerFilterStrength</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, int mbIdx, int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#afe90ea6b74a3965e2ceb0aae6d9def7a">GetHorFilterStrength</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, int mbIdx, int idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a299f516a75a0efad87a05dfbb35c9b41">FilterMB</a> (<a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *cpi, <a class="el" href="structmacroblock_info.html">macroblockInfo</a> *mlist, int mbIdx)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a48fda0ebf0454230810412a2ca7e629c">filterAlpha</a> [52]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a18041dafd5660465b36ec13cd36d0542">filterBeta</a> [52]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_loop_filter_8cpp.html#a62b40fd851524e9ffb29a38e40851d8a">filterClip</a> [52][5]</td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a3a8dcf2d543e7d8ed94120a67a50bc22"></a><!-- doxytag: member="LoopFilter.cpp::TYPE_AAAUCBS" ref="a3a8dcf2d543e7d8ed94120a67a50bc22" args="[2][4][4]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a>[2][4][4]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa991252342a85def9bd5e8d24c5c21b6"></a><!-- doxytag: member="LoopFilter.cpp::CheckMvDataB" ref="aa991252342a85def9bd5e8d24c5c21b6" args="(CodingPictInfo *cpi, macroblockInfo *mb1, int idx1, macroblockInfo *mb2, int idx2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CheckMvDataB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mb1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mb2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00376"></a>00376 {
<a name="l00377"></a>00377         <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#aca10d193cfa918f6819799ad228ac7be">veryNearD</a>(cpi, mb1-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx1][0], mb2-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx2][1]) &amp;&amp;
<a name="l00378"></a>00378                 <a class="code" href="_loop_filter_8h.html#aca10d193cfa918f6819799ad228ac7be">veryNearD</a>(cpi, mb2-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx2][0], mb1-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx1][1]))
<a name="l00379"></a>00379                 <span class="keywordflow">return</span> 0;
<a name="l00380"></a>00380         <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051">veryNearS</a>(mb1-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx1][0], mb2-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx2][0]) &amp;&amp;
<a name="l00381"></a>00381                 <a class="code" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051">veryNearS</a>(mb1-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx1][1], mb2-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx2][1]))
<a name="l00382"></a>00382                 <span class="keywordflow">return</span> 0;
<a name="l00383"></a>00383         <span class="keywordflow">return</span> 1;
<a name="l00384"></a>00384         <span class="comment">/*</span>
<a name="l00385"></a>00385 <span class="comment">        if (mb1-&gt;refs[0][idx1][0].refno != mb2-&gt;refs[0][idx2][0].refno)</span>
<a name="l00386"></a>00386 <span class="comment">                return 1;</span>
<a name="l00387"></a>00387 <span class="comment">        if (mb1-&gt;refs[0][idx1][0].refno != -1)</span>
<a name="l00388"></a>00388 <span class="comment">        {</span>
<a name="l00389"></a>00389 <span class="comment">                if (abs(mb1-&gt;refs[0][idx1][0].x - mb2-&gt;refs[0][idx2][0].x) &gt;= 4)</span>
<a name="l00390"></a>00390 <span class="comment">                        return 1;</span>
<a name="l00391"></a>00391 <span class="comment">                if (abs(mb1-&gt;refs[0][idx1][0].y - mb2-&gt;refs[0][idx2][0].y) &gt;= 4)</span>
<a name="l00392"></a>00392 <span class="comment">                        return 1;</span>
<a name="l00393"></a>00393 <span class="comment">        }</span>
<a name="l00394"></a>00394 <span class="comment">        if (mb1-&gt;refs[0][idx1][1].refno != mb2-&gt;refs[0][idx2][1].refno)</span>
<a name="l00395"></a>00395 <span class="comment">                return 1;</span>
<a name="l00396"></a>00396 <span class="comment">        if (mb1-&gt;refs[0][idx1][1].refno != -1)</span>
<a name="l00397"></a>00397 <span class="comment">        {</span>
<a name="l00398"></a>00398 <span class="comment">                if (abs(mb1-&gt;refs[0][idx1][1].x - mb2-&gt;refs[0][idx2][1].x) &gt;= 4)</span>
<a name="l00399"></a>00399 <span class="comment">                        return 1;</span>
<a name="l00400"></a>00400 <span class="comment">                if (abs(mb1-&gt;refs[0][idx1][1].y - mb2-&gt;refs[0][idx2][1].y) &gt;= 4)</span>
<a name="l00401"></a>00401 <span class="comment">                        return 1;</span>
<a name="l00402"></a>00402 <span class="comment">        }</span>
<a name="l00403"></a>00403 <span class="comment">        return 0;</span>
<a name="l00404"></a>00404 <span class="comment">        */</span>
<a name="l00405"></a>00405 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_aa991252342a85def9bd5e8d24c5c21b6_cgraph.png" border="0" usemap="#_loop_filter_8cpp_aa991252342a85def9bd5e8d24c5c21b6_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_aa991252342a85def9bd5e8d24c5c21b6_cgraph_map" id="_loop_filter_8cpp_aa991252342a85def9bd5e8d24c5c21b6_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#aca10d193cfa918f6819799ad228ac7be" title="veryNearD" alt="" coords="167,5,247,35"/><area shape="rect" id="node5" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051" title="veryNearS" alt="" coords="167,59,247,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_aa991252342a85def9bd5e8d24c5c21b6_icgraph.png" border="0" usemap="#_loop_filter_8cpp_aa991252342a85def9bd5e8d24c5c21b6_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_aa991252342a85def9bd5e8d24c5c21b6_icgraph_map" id="_loop_filter_8cpp_aa991252342a85def9bd5e8d24c5c21b6_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8cpp.html#afe90ea6b74a3965e2ceb0aae6d9def7a" title="GetHorFilterStrength" alt="" coords="165,5,307,35"/><area shape="rect" id="node23" href="_loop_filter_8cpp.html#a1f70a21e87e7aa4f5e42426b044bf8e6" title="GetVerFilterStrength" alt="" coords="165,59,307,88"/><area shape="rect" id="node5" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="356,32,425,61"/><area shape="rect" id="node7" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="477,5,576,35"/><area shape="rect" id="node13" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="475,59,579,88"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="629,5,728,35"/><area shape="rect" id="node11" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="781,5,888,35"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="627,59,731,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="627,112,731,141"/><area shape="rect" id="node17" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="780,59,889,88"/><area shape="rect" id="node21" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="780,112,889,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a87514b58c1759f4305d01937c42435b3"></a><!-- doxytag: member="LoopFilter.cpp::CheckMvDataP" ref="a87514b58c1759f4305d01937c42435b3" args="(macroblockInfo *mb1, int idx1, macroblockInfo *mb2, int idx2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CheckMvDataP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mb1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mb2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00358"></a>00358 {
<a name="l00359"></a>00359         <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051">veryNearS</a>(mb1-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx1][0], mb2-&gt;<a class="code" href="structmacroblock_info.html#a8501600ad3ab8d7865c28c8398e900f9">refs</a>[0][idx2][0]))
<a name="l00360"></a>00360                 <span class="keywordflow">return</span> 0;
<a name="l00361"></a>00361         <span class="keywordflow">return</span> 1;
<a name="l00362"></a>00362         <span class="comment">/*</span>
<a name="l00363"></a>00363 <span class="comment">        if (mb1-&gt;refs[0][idx1][0].refno != mb2-&gt;refs[0][idx2][0].refno)</span>
<a name="l00364"></a>00364 <span class="comment">                return 1;</span>
<a name="l00365"></a>00365 <span class="comment">        if (abs(mb1-&gt;refs[0][idx1][0].x - mb2-&gt;refs[0][idx2][0].x) &gt;= 4)</span>
<a name="l00366"></a>00366 <span class="comment">                return 1;</span>
<a name="l00367"></a>00367 <span class="comment">        if (abs(mb1-&gt;refs[0][idx1][0].y - mb2-&gt;refs[0][idx2][0].y) &gt;= 4)</span>
<a name="l00368"></a>00368 <span class="comment">                return 1;</span>
<a name="l00369"></a>00369 <span class="comment">        return 0;</span>
<a name="l00370"></a>00370 <span class="comment">        */</span>
<a name="l00371"></a>00371 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a87514b58c1759f4305d01937c42435b3_cgraph.png" border="0" usemap="#_loop_filter_8cpp_a87514b58c1759f4305d01937c42435b3_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a87514b58c1759f4305d01937c42435b3_cgraph_map" id="_loop_filter_8cpp_a87514b58c1759f4305d01937c42435b3_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051" title="veryNearS" alt="" coords="167,5,247,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a87514b58c1759f4305d01937c42435b3_icgraph.png" border="0" usemap="#_loop_filter_8cpp_a87514b58c1759f4305d01937c42435b3_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a87514b58c1759f4305d01937c42435b3_icgraph_map" id="_loop_filter_8cpp_a87514b58c1759f4305d01937c42435b3_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8cpp.html#afe90ea6b74a3965e2ceb0aae6d9def7a" title="GetHorFilterStrength" alt="" coords="165,5,307,35"/><area shape="rect" id="node23" href="_loop_filter_8cpp.html#a1f70a21e87e7aa4f5e42426b044bf8e6" title="GetVerFilterStrength" alt="" coords="165,59,307,88"/><area shape="rect" id="node5" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="356,32,425,61"/><area shape="rect" id="node7" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="477,5,576,35"/><area shape="rect" id="node13" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="475,59,579,88"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="629,5,728,35"/><area shape="rect" id="node11" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="781,5,888,35"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="627,59,731,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="627,112,731,141"/><area shape="rect" id="node17" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="780,59,889,88"/><area shape="rect" id="node21" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="780,112,889,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3624223f3d4fb60f1915390182e18ad0"></a><!-- doxytag: member="LoopFilter.cpp::ChromaHorFilter" ref="a3624223f3d4fb60f1915390182e18ad0" args="(CodingPictInfo *cpi, macroblockInfo *mlist, int mbIdx, TYPE_AAAUCBS m_aaaucBs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChromaHorFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mbIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a>&nbsp;</td>
          <td class="paramname"> <em>m_aaaucBs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00245"></a>00245 {
<a name="l00246"></a>00246         <span class="keywordtype">int</span> mbW = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 16;
<a name="l00247"></a>00247         <span class="keywordtype">int</span> mbX = mbIdx % mbW,
<a name="l00248"></a>00248                 mbY = mbIdx / mbW;
<a name="l00249"></a>00249         <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*  puint8Cb = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a103a3180ba57db0bd984a53f0668b70b">chromaUStart</a> + mbY * 4 * cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> + mbX * 8;
<a name="l00250"></a>00250         <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*  puint8Cr = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a7be3395b2a1e7f4b384421c2490dcfdc">chromaVStart</a> + mbY * 4 * cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> + mbX * 8;
<a name="l00251"></a>00251         <span class="keywordtype">int</span>   iCurrQp = <a class="code" href="_consts4_standard_8h.html#a764e5d7924eac5d10266946aa1d1c695">QPLuma2Chroma</a>[cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a> + mlist[mbIdx].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>];
<a name="l00252"></a>00252 <span class="comment">//      int   iCurrQp = rcMbDataAccess.getSH().getChromaQp( rcMbDataAccess.getMbDataCurr().getQpLF() );</span>
<a name="l00253"></a>00253         <span class="keywordtype">int</span>   iStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 2;
<a name="l00254"></a>00254 
<a name="l00255"></a>00255         <span class="comment">//===== filtering of upper macroblock edge =====</span>
<a name="l00256"></a>00256         {
<a name="l00257"></a>00257                 <span class="comment">//-----  any other combination than curr = FRM, above = FLD  -----</span>
<a name="l00258"></a>00258                 <span class="keywordtype">int</span> iAboveQp  = (mbY?<a class="code" href="_consts4_standard_8h.html#a764e5d7924eac5d10266946aa1d1c695">QPLuma2Chroma</a>[(cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a>+mlist[mbIdx-mbW].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>)]:0); <span class="comment">//rcMbDataAccess.getSH().getChromaQp( rcMbDataAccess.getMbDataAbove().getQpLF() );</span>
<a name="l00259"></a>00259                 <span class="keywordtype">int</span> iQp       = ( iAboveQp + iCurrQp + 1) &gt;&gt; 1;
<a name="l00260"></a>00260                 <span class="keywordtype">int</span> iIndexA   = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceAlphaC0Offset()*/</span>0 + iQp, 0, 51);
<a name="l00261"></a>00261                 <span class="keywordtype">int</span> iIndexB   = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceBetaOffset()*/</span>0    + iQp, 0, 51);
<a name="l00262"></a>00262 
<a name="l00263"></a>00263                 <span class="keywordflow">for</span>( <span class="keywordtype">int</span> xBlk = 0; xBlk &lt; 4; xBlk++)
<a name="l00264"></a>00264                 {
<a name="l00265"></a>00265                         <span class="keyword">const</span> <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs = m_aaaucBs[1][xBlk][0];
<a name="l00266"></a>00266                         <span class="keywordflow">if</span>( 0 != ucBs )
<a name="l00267"></a>00267                         {
<a name="l00268"></a>00268                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cb,   iStride, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00269"></a>00269                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cb+1, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00270"></a>00270                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cr,   iStride, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00271"></a>00271                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cr+1, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00272"></a>00272                         }
<a name="l00273"></a>00273                         puint8Cb += 2;
<a name="l00274"></a>00274                         puint8Cr += 2;
<a name="l00275"></a>00275                 }
<a name="l00276"></a>00276                 puint8Cb -= 8;
<a name="l00277"></a>00277                 puint8Cr -= 8;
<a name="l00278"></a>00278         }
<a name="l00279"></a>00279 
<a name="l00280"></a>00280         puint8Cb += 4*iStride;
<a name="l00281"></a>00281         puint8Cr += 4*iStride;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283         <span class="comment">// now we filter the remaining edge</span>
<a name="l00284"></a>00284         <span class="keywordtype">int</span> iIndexA = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceAlphaC0Offset()*/</span>0 + iCurrQp, 0, 51);
<a name="l00285"></a>00285         <span class="keywordtype">int</span> iIndexB = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceBetaOffset()*/</span>0    + iCurrQp, 0, 51);
<a name="l00286"></a>00286 
<a name="l00287"></a>00287         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> xBlk = 0; xBlk &lt; 4; xBlk++)
<a name="l00288"></a>00288         {
<a name="l00289"></a>00289                 <span class="keyword">const</span> <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs = m_aaaucBs[1][xBlk][2];
<a name="l00290"></a>00290                 <span class="keywordflow">if</span>( 0 != ucBs )
<a name="l00291"></a>00291                 {
<a name="l00292"></a>00292                         <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cb,   iStride, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00293"></a>00293                         <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cb+1, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00294"></a>00294                         <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cr,   iStride, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00295"></a>00295                         <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cr+1, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00296"></a>00296                 }
<a name="l00297"></a>00297                 puint8Cb += 2;
<a name="l00298"></a>00298                 puint8Cr += 2;
<a name="l00299"></a>00299         }
<a name="l00300"></a>00300 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a3624223f3d4fb60f1915390182e18ad0_cgraph.png" border="0" usemap="#_loop_filter_8cpp_a3624223f3d4fb60f1915390182e18ad0_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a3624223f3d4fb60f1915390182e18ad0_cgraph_map" id="_loop_filter_8cpp_a3624223f3d4fb60f1915390182e18ad0_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2" title="ClipMinMax" alt="" coords="269,5,360,35"/><area shape="rect" id="node5" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135" title="Filter" alt="" coords="171,31,221,60"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a3624223f3d4fb60f1915390182e18ad0_icgraph.png" border="0" usemap="#_loop_filter_8cpp_a3624223f3d4fb60f1915390182e18ad0_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a3624223f3d4fb60f1915390182e18ad0_icgraph_map" id="_loop_filter_8cpp_a3624223f3d4fb60f1915390182e18ad0_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="172,32,241,61"/><area shape="rect" id="node5" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="293,5,392,35"/><area shape="rect" id="node11" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="291,59,395,88"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="445,5,544,35"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="597,5,704,35"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="443,59,547,88"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="443,112,547,141"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="596,59,705,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="596,112,705,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae1485a034a76344a800072473e3b5b13"></a><!-- doxytag: member="LoopFilter.cpp::ChromaVerFilter" ref="ae1485a034a76344a800072473e3b5b13" args="(CodingPictInfo *cpi, macroblockInfo *mlist, int mbIdx, TYPE_AAAUCBS m_aaaucBs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChromaVerFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mbIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a>&nbsp;</td>
          <td class="paramname"> <em>m_aaaucBs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00303"></a>00303 {
<a name="l00304"></a>00304         <span class="keywordtype">int</span> mbW = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 16;
<a name="l00305"></a>00305         <span class="keywordtype">int</span> mbX = mbIdx % mbW,
<a name="l00306"></a>00306                 mbY = mbIdx / mbW;
<a name="l00307"></a>00307         <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*  puint8Cb = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a103a3180ba57db0bd984a53f0668b70b">chromaUStart</a> + mbY * 4 * cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> + mbX * 8;
<a name="l00308"></a>00308         <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*  puint8Cr = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a7be3395b2a1e7f4b384421c2490dcfdc">chromaVStart</a> + mbY * 4 * cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> + mbX * 8;
<a name="l00309"></a>00309         <span class="keywordtype">int</span>   iCurrQp = <a class="code" href="_consts4_standard_8h.html#a764e5d7924eac5d10266946aa1d1c695">QPLuma2Chroma</a>[cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a> + mlist[mbIdx].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>];
<a name="l00310"></a>00310 <span class="comment">//      int   iCurrQp = rcMbDataAccess.getSH().getChromaQp( rcMbDataAccess.getMbDataCurr().getQpLF() );</span>
<a name="l00311"></a>00311         <span class="keywordtype">int</span>   iStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 2;
<a name="l00312"></a>00312 
<a name="l00313"></a>00313         <span class="comment">//===== filtering of left macroblock edge =====</span>
<a name="l00314"></a>00314         {
<a name="l00315"></a>00315                 <span class="comment">//-----  curr == FRM &amp;&amp; left == FRM  or  curr == FLD &amp;&amp; left == FLD  -----</span>
<a name="l00316"></a>00316                 <span class="keywordtype">int</span> iLeftQp = (mbX?<a class="code" href="_consts4_standard_8h.html#a764e5d7924eac5d10266946aa1d1c695">QPLuma2Chroma</a>[(cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a>+mlist[mbIdx-1].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>)]:0); <span class="comment">//rcMbDataAccess.getSH().getChromaQp( rcMbDataAccess.getMbDataLeft().getQpLF() );</span>
<a name="l00317"></a>00317                 <span class="keywordtype">int</span> iQp     = ( iLeftQp + iCurrQp + 1) &gt;&gt; 1;
<a name="l00318"></a>00318                 <span class="keywordtype">int</span> iIndexA = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceAlphaC0Offset()*/</span>0 + iQp, 0, 51);
<a name="l00319"></a>00319                 <span class="keywordtype">int</span> iIndexB = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceBetaOffset()*/</span>0    + iQp, 0, 51);
<a name="l00320"></a>00320 
<a name="l00321"></a>00321                 <span class="keywordflow">for</span>( <span class="keywordtype">int</span> yBlk = 0; yBlk &lt; 4; yBlk++)
<a name="l00322"></a>00322                 {
<a name="l00323"></a>00323                         <span class="keyword">const</span> <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs = m_aaaucBs[0][0][yBlk];
<a name="l00324"></a>00324                         <span class="keywordflow">if</span>( 0 != ucBs )
<a name="l00325"></a>00325                         {
<a name="l00326"></a>00326                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cb,         1, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00327"></a>00327                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cb+iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00328"></a>00328                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cr,         1, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00329"></a>00329                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cr+iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00330"></a>00330                         }
<a name="l00331"></a>00331                         puint8Cb += 2*iStride;
<a name="l00332"></a>00332                         puint8Cr += 2*iStride;
<a name="l00333"></a>00333                 }
<a name="l00334"></a>00334         }
<a name="l00335"></a>00335 
<a name="l00336"></a>00336         puint8Cb -= 8*iStride-4;
<a name="l00337"></a>00337         puint8Cr -= 8*iStride-4;
<a name="l00338"></a>00338 
<a name="l00339"></a>00339         <span class="keywordtype">int</span> iIndexA = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceAlphaC0Offset()*/</span>0 + iCurrQp, 0, 51);
<a name="l00340"></a>00340         <span class="keywordtype">int</span> iIndexB = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceBetaOffset()*/</span>0    + iCurrQp, 0, 51);
<a name="l00341"></a>00341         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> yBlk = 0; yBlk &lt; 4; yBlk++)
<a name="l00342"></a>00342         {
<a name="l00343"></a>00343                 <span class="keyword">const</span> <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs = m_aaaucBs[0][2][yBlk];
<a name="l00344"></a>00344                 <span class="keywordflow">if</span>( 0 != ucBs )
<a name="l00345"></a>00345                 {
<a name="l00346"></a>00346                         <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cb,         1, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00347"></a>00347                         <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cb+iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00348"></a>00348                         <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cr,         1, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00349"></a>00349                         <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Cr+iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">false</span> );
<a name="l00350"></a>00350                 }
<a name="l00351"></a>00351                 puint8Cb += 2*iStride;
<a name="l00352"></a>00352                 puint8Cr += 2*iStride;
<a name="l00353"></a>00353         }
<a name="l00354"></a>00354 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_ae1485a034a76344a800072473e3b5b13_cgraph.png" border="0" usemap="#_loop_filter_8cpp_ae1485a034a76344a800072473e3b5b13_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_ae1485a034a76344a800072473e3b5b13_cgraph_map" id="_loop_filter_8cpp_ae1485a034a76344a800072473e3b5b13_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2" title="ClipMinMax" alt="" coords="269,5,360,35"/><area shape="rect" id="node5" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135" title="Filter" alt="" coords="171,31,221,60"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_ae1485a034a76344a800072473e3b5b13_icgraph.png" border="0" usemap="#_loop_filter_8cpp_ae1485a034a76344a800072473e3b5b13_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_ae1485a034a76344a800072473e3b5b13_icgraph_map" id="_loop_filter_8cpp_ae1485a034a76344a800072473e3b5b13_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="172,32,241,61"/><area shape="rect" id="node5" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="293,5,392,35"/><area shape="rect" id="node11" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="291,59,395,88"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="445,5,544,35"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="597,5,704,35"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="443,59,547,88"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="443,112,547,141"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="596,59,705,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="596,112,705,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a21a1a4f0c10e5c0a84a6db78988c4135"></a><!-- doxytag: member="LoopFilter.cpp::Filter" ref="a21a1a4f0c10e5c0a84a6db78988c4135" args="(uint8 *pixels, int stride, int idxA, int idxB, uint8 ucBs, bool isLuma)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *&nbsp;</td>
          <td class="paramname"> <em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idxA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idxB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&nbsp;</td>
          <td class="paramname"> <em>ucBs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isLuma</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00043"></a>00043 {
<a name="l00044"></a>00044         <span class="keyword">const</span> <span class="keywordtype">int</span> iAlpha = <a class="code" href="_loop_filter_8cpp.html#a48fda0ebf0454230810412a2ca7e629c">filterAlpha</a>[ idxA ];
<a name="l00045"></a>00045 
<a name="l00046"></a>00046         <span class="keywordtype">int</span> P0 = pixels[-stride];
<a name="l00047"></a>00047         <span class="keywordtype">int</span> Q0 = pixels[      0];
<a name="l00048"></a>00048 
<a name="l00049"></a>00049         <span class="keywordtype">int</span> iDelta = Q0 - P0;
<a name="l00050"></a>00050         <span class="keywordtype">int</span> iAbsDelta  = abs(iDelta);
<a name="l00051"></a>00051 
<a name="l00052"></a>00052         <a class="code" href="_macros_8h.html#a38ca970467dac1b0c184a713a66ff63a">AOF_DBG</a>( ucBs );
<a name="l00053"></a>00053 
<a name="l00054"></a>00054         <span class="keywordflow">if</span> (!(iAbsDelta&lt;iAlpha))
<a name="l00055"></a>00055                 return ;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057         <span class="keyword">const</span> <span class="keywordtype">int</span> iBeta = <a class="code" href="_loop_filter_8cpp.html#a18041dafd5660465b36ec13cd36d0542">filterBeta</a>[ idxB ];
<a name="l00058"></a>00058 
<a name="l00059"></a>00059         <span class="keywordtype">int</span> P1  = pixels[-2*stride];
<a name="l00060"></a>00060         <span class="keywordtype">int</span> Q1  = pixels[   stride];
<a name="l00061"></a>00061 
<a name="l00062"></a>00062         <span class="keywordflow">if</span> (!((abs(P0 - P1) &lt; iBeta) &amp;&amp; (abs(Q0 - Q1) &lt; iBeta)))
<a name="l00063"></a>00063                 return ;
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         <span class="keywordflow">if</span>( ucBs &lt; 4 )
<a name="l00066"></a>00066         {
<a name="l00067"></a>00067                 <span class="keywordtype">int</span> C0 = <a class="code" href="_loop_filter_8cpp.html#a62b40fd851524e9ffb29a38e40851d8a">filterClip</a>[ idxA ][ucBs];
<a name="l00068"></a>00068 
<a name="l00069"></a>00069                 <span class="keywordflow">if</span>( isLuma )
<a name="l00070"></a>00070                 {
<a name="l00071"></a>00071                         <span class="keywordtype">int</span> P2 = pixels[-3*stride] ;
<a name="l00072"></a>00072                         <span class="keywordtype">int</span> Q2 = pixels[ 2*stride] ;
<a name="l00073"></a>00073                         <span class="keywordtype">int</span> aq = (( abs( Q2 - Q0 ) &lt; iBeta ) ? 1 : 0 );
<a name="l00074"></a>00074                         <span class="keywordtype">int</span> ap = (( abs( P2 - P0 ) &lt; iBeta ) ? 1 : 0 );
<a name="l00075"></a>00075 
<a name="l00076"></a>00076                         <span class="keywordflow">if</span>( ap )
<a name="l00077"></a>00077                         {
<a name="l00078"></a>00078                                 pixels[-2*stride] = P1 + <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>((P2 + ((P0 + Q0 + 1)&gt;&gt;1) - (P1&lt;&lt;1)) &gt;&gt; 1, -C0, C0 );
<a name="l00079"></a>00079                         }
<a name="l00080"></a>00080 
<a name="l00081"></a>00081                         <span class="keywordflow">if</span>( aq  )
<a name="l00082"></a>00082                         {
<a name="l00083"></a>00083                                 pixels[   stride] = Q1 + <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>((Q2 + ((P0 + Q0 + 1)&gt;&gt;1) - (Q1&lt;&lt;1)) &gt;&gt; 1, -C0, C0 );
<a name="l00084"></a>00084                         }
<a name="l00085"></a>00085 
<a name="l00086"></a>00086                         C0 += ap + aq -1;
<a name="l00087"></a>00087                 }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089                 C0++;
<a name="l00090"></a>00090                 <span class="keywordtype">int</span> iDiff      = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>(((iDelta &lt;&lt; 2) + (P1 - Q1) + 4) &gt;&gt; 3, -C0, C0 ) ;
<a name="l00091"></a>00091                 pixels[-stride] = <a class="code" href="_macros_8h.html#adf6642a5f8ea4af79e646df542b2ee06">CLIP1</a>( P0 + iDiff );
<a name="l00092"></a>00092                 pixels[      0] = <a class="code" href="_macros_8h.html#adf6642a5f8ea4af79e646df542b2ee06">CLIP1</a>( Q0 - iDiff );
<a name="l00093"></a>00093                 <span class="keywordflow">return</span>;
<a name="l00094"></a>00094         }
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 
<a name="l00097"></a>00097         <span class="keywordflow">if</span>( ! isLuma )
<a name="l00098"></a>00098         {
<a name="l00099"></a>00099                 pixels[        0] = ((Q1 &lt;&lt; 1) + Q0 + P1 + 2) &gt;&gt; 2;
<a name="l00100"></a>00100                 pixels[  -stride] = ((P1 &lt;&lt; 1) + P0 + Q1 + 2) &gt;&gt; 2;
<a name="l00101"></a>00101         }
<a name="l00102"></a>00102         <span class="keywordflow">else</span>
<a name="l00103"></a>00103         {
<a name="l00104"></a>00104                 <span class="keywordtype">int</span> P2 = pixels[-3*stride] ;
<a name="l00105"></a>00105                 <span class="keywordtype">int</span> Q2 = pixels[ 2*stride] ;
<a name="l00106"></a>00106                 <span class="keywordtype">bool</span> bEnable  = (iAbsDelta &lt; ((iAlpha &gt;&gt; 2) + 2));
<a name="l00107"></a>00107                 <span class="keywordtype">bool</span> aq       = bEnable &amp; ( abs( Q2 - Q0 ) &lt; iBeta );
<a name="l00108"></a>00108                 <span class="keywordtype">bool</span> ap       = bEnable &amp; ( abs( P2 - P0 ) &lt; iBeta );
<a name="l00109"></a>00109                 <span class="keywordtype">int</span> PQ0 = P0 + Q0;
<a name="l00110"></a>00110 
<a name="l00111"></a>00111                 <span class="keywordflow">if</span>( aq )
<a name="l00112"></a>00112                 {
<a name="l00113"></a>00113                         pixels[        0] = (P1 + ((Q1 + PQ0) &lt;&lt; 1) +  Q2 + 4) &gt;&gt; 3;
<a name="l00114"></a>00114                         pixels[   stride] = (PQ0 +Q1 + Q2 + 2) &gt;&gt; 2;
<a name="l00115"></a>00115                         pixels[ 2*stride] = (((pixels[ 3*stride] + Q2) &lt;&lt;1) + Q2 + Q1 + PQ0 + 4) &gt;&gt; 3;
<a name="l00116"></a>00116                 }
<a name="l00117"></a>00117                 <span class="keywordflow">else</span>
<a name="l00118"></a>00118                 {
<a name="l00119"></a>00119                         pixels[        0] = ((Q1 &lt;&lt; 1) + Q0 + P1 + 2) &gt;&gt; 2;
<a name="l00120"></a>00120                 }
<a name="l00121"></a>00121 
<a name="l00122"></a>00122                 <span class="keywordflow">if</span>( ap )
<a name="l00123"></a>00123                 {
<a name="l00124"></a>00124                         pixels[  -stride] = (Q1 + ((P1 + PQ0) &lt;&lt; 1) +  P2 + 4) &gt;&gt; 3;
<a name="l00125"></a>00125                         pixels[-2*stride] = (PQ0 +P1 + P2 + 2) &gt;&gt; 2;
<a name="l00126"></a>00126                         pixels[-3*stride] = (((pixels[-4*stride] + P2) &lt;&lt;1) + pixels[-3*stride] + P1 + PQ0 + 4) &gt;&gt; 3;
<a name="l00127"></a>00127                 }
<a name="l00128"></a>00128                 <span class="keywordflow">else</span>
<a name="l00129"></a>00129                 {
<a name="l00130"></a>00130                         pixels[  -stride] = ((P1 &lt;&lt; 1) + P0 + Q1 + 2) &gt;&gt; 2;
<a name="l00131"></a>00131                 }
<a name="l00132"></a>00132         }
<a name="l00133"></a>00133 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a21a1a4f0c10e5c0a84a6db78988c4135_cgraph.png" border="0" usemap="#_loop_filter_8cpp_a21a1a4f0c10e5c0a84a6db78988c4135_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a21a1a4f0c10e5c0a84a6db78988c4135_cgraph_map" id="_loop_filter_8cpp_a21a1a4f0c10e5c0a84a6db78988c4135_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2" title="ClipMinMax" alt="" coords="104,5,195,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a21a1a4f0c10e5c0a84a6db78988c4135_icgraph.png" border="0" usemap="#_loop_filter_8cpp_a21a1a4f0c10e5c0a84a6db78988c4135_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a21a1a4f0c10e5c0a84a6db78988c4135_icgraph_map" id="_loop_filter_8cpp_a21a1a4f0c10e5c0a84a6db78988c4135_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8cpp.html#a3624223f3d4fb60f1915390182e18ad0" title="ChromaHorFilter" alt="" coords="105,5,220,35"/><area shape="rect" id="node23" href="_loop_filter_8cpp.html#ae1485a034a76344a800072473e3b5b13" title="ChromaVerFilter" alt="" coords="105,59,220,88"/><area shape="rect" id="node26" href="_loop_filter_8cpp.html#a5630c9b21b9751b11fa116e9f383da5c" title="LumaHorFilter" alt="" coords="112,112,213,141"/><area shape="rect" id="node29" href="_loop_filter_8cpp.html#af5fe65e920004c9063b3b44a405ae942" title="LumaVerFilter" alt="" coords="112,165,213,195"/><area shape="rect" id="node5" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="271,85,340,115"/><area shape="rect" id="node7" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="392,59,491,88"/><area shape="rect" id="node13" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="389,112,493,141"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="544,59,643,88"/><area shape="rect" id="node11" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="696,59,803,88"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="541,112,645,141"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="541,165,645,195"/><area shape="rect" id="node17" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="695,112,804,141"/><area shape="rect" id="node21" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="695,165,804,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a299f516a75a0efad87a05dfbb35c9b41"></a><!-- doxytag: member="LoopFilter.cpp::FilterMB" ref="a299f516a75a0efad87a05dfbb35c9b41" args="(CodingPictInfo *cpi, macroblockInfo *mlist, int mbIdx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FilterMB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mbIdx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00491"></a>00491 {
<a name="l00492"></a>00492         <span class="comment">/*</span>
<a name="l00493"></a>00493 <span class="comment">        if (disableLoopFilter)</span>
<a name="l00494"></a>00494 <span class="comment">                return ;</span>
<a name="l00495"></a>00495 <span class="comment">        if ( (m_eLFMode &amp; LFM_NO_INTER_FILTER) &amp;&amp; ! rcMbDataAccess.getMbData().isintra())</span>
<a name="l00496"></a>00496 <span class="comment">                return ;</span>
<a name="l00497"></a>00497 <span class="comment">                */</span>
<a name="l00498"></a>00498 
<a name="l00499"></a>00499         <a class="code" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a> m_aaaucBs;
<a name="l00500"></a>00500         <span class="comment">//uint8 m_aaaucBs[2][4][4];</span>
<a name="l00501"></a>00501 
<a name="l00502"></a>00502         <a class="code" href="_types_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> b8x8 = (0!=(mlist[mbIdx].<a class="code" href="structmacroblock_info.html#a0f244dcaf8b80e1f8adc3973e34e0a25">transform8x8</a>));<span class="comment">//rcMbDataAccess.getMbData().isTransformSize8x8();</span>
<a name="l00503"></a>00503 
<a name="l00504"></a>00504         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idx = 0; idx &lt; 16; ++idx)
<a name="l00505"></a>00505         {
<a name="l00506"></a>00506                 <span class="keywordflow">if</span>( !b8x8 || ( ( (idx&amp;3) &amp; 1 ) == 0 ) )
<a name="l00507"></a>00507                 {
<a name="l00508"></a>00508                         m_aaaucBs[0][(idx&amp;3)][(idx&gt;&gt;2)]  = <a class="code" href="_loop_filter_8cpp.html#a1f70a21e87e7aa4f5e42426b044bf8e6">GetVerFilterStrength</a>( cpi, mlist, mbIdx, idx);
<a name="l00509"></a>00509                 }
<a name="l00510"></a>00510                 <span class="keywordflow">else</span>
<a name="l00511"></a>00511                 {
<a name="l00512"></a>00512                         m_aaaucBs[0][(idx&amp;3)][(idx&gt;&gt;2)]  = 0;
<a name="l00513"></a>00513                 }
<a name="l00514"></a>00514                 <span class="keywordflow">if</span>( !b8x8 || ( ( (idx&gt;&gt;2) &amp; 1 ) == 0 ) )
<a name="l00515"></a>00515                 {
<a name="l00516"></a>00516                         m_aaaucBs[1][(idx&amp;3)][(idx&gt;&gt;2)]  = <a class="code" href="_loop_filter_8cpp.html#afe90ea6b74a3965e2ceb0aae6d9def7a">GetHorFilterStrength</a>( cpi, mlist, mbIdx, idx);
<a name="l00517"></a>00517                 }
<a name="l00518"></a>00518                 <span class="keywordflow">else</span>
<a name="l00519"></a>00519                 {
<a name="l00520"></a>00520                         m_aaaucBs[1][(idx&amp;3)][(idx&gt;&gt;2)]  = 0;
<a name="l00521"></a>00521                 }
<a name="l00522"></a>00522         }
<a name="l00523"></a>00523 
<a name="l00524"></a>00524         <a class="code" href="_loop_filter_8cpp.html#af5fe65e920004c9063b3b44a405ae942">LumaVerFilter</a>(   cpi, mlist, mbIdx, m_aaaucBs);
<a name="l00525"></a>00525         <a class="code" href="_loop_filter_8cpp.html#a5630c9b21b9751b11fa116e9f383da5c">LumaHorFilter</a>(   cpi, mlist, mbIdx, m_aaaucBs);
<a name="l00526"></a>00526         <a class="code" href="_loop_filter_8cpp.html#ae1485a034a76344a800072473e3b5b13">ChromaVerFilter</a>( cpi, mlist, mbIdx, m_aaaucBs);
<a name="l00527"></a>00527         <a class="code" href="_loop_filter_8cpp.html#a3624223f3d4fb60f1915390182e18ad0">ChromaHorFilter</a>( cpi, mlist, mbIdx, m_aaaucBs);
<a name="l00528"></a>00528 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41_cgraph.png" border="0" usemap="#_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41_cgraph_map" id="_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8cpp.html#a3624223f3d4fb60f1915390182e18ad0" title="ChromaHorFilter" alt="" coords="139,112,253,141"/><area shape="rect" id="node10" href="_loop_filter_8cpp.html#ae1485a034a76344a800072473e3b5b13" title="ChromaVerFilter" alt="" coords="139,165,253,195"/><area shape="rect" id="node14" href="_loop_filter_8cpp.html#afe90ea6b74a3965e2ceb0aae6d9def7a" title="GetHorFilterStrength" alt="" coords="125,219,267,248"/><area shape="rect" id="node27" href="_loop_filter_8cpp.html#a1f70a21e87e7aa4f5e42426b044bf8e6" title="GetVerFilterStrength" alt="" coords="125,272,267,301"/><area shape="rect" id="node32" href="_loop_filter_8cpp.html#a5630c9b21b9751b11fa116e9f383da5c" title="LumaHorFilter" alt="" coords="145,5,247,35"/><area shape="rect" id="node36" href="_loop_filter_8cpp.html#af5fe65e920004c9063b3b44a405ae942" title="LumaVerFilter" alt="" coords="145,59,247,88"/><area shape="rect" id="node5" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2" title="ClipMinMax" alt="" coords="475,63,565,92"/><area shape="rect" id="node7" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135" title="Filter" alt="" coords="345,63,396,92"/><area shape="rect" id="node16" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6" title="CheckMvDataB" alt="" coords="316,217,425,247"/><area shape="rect" id="node22" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3" title="CheckMvDataP" alt="" coords="316,271,425,300"/><area shape="rect" id="node25" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9" title="isCoded" alt="" coords="336,324,405,353"/><area shape="rect" id="node18" href="_loop_filter_8h.html#aca10d193cfa918f6819799ad228ac7be" title="veryNearD" alt="" coords="480,217,560,247"/><area shape="rect" id="node20" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051" title="veryNearS" alt="" coords="480,271,560,300"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41_icgraph.png" border="0" usemap="#_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41_icgraph_map" id="_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41_icgraph">
<area shape="rect" id="node3" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="128,5,227,35"/><area shape="rect" id="node9" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="125,59,229,88"/><area shape="rect" id="node5" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="280,5,379,35"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="432,5,539,35"/><area shape="rect" id="node11" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="277,59,381,88"/><area shape="rect" id="node15" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="277,112,381,141"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="431,59,540,88"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="431,112,540,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe90ea6b74a3965e2ceb0aae6d9def7a"></a><!-- doxytag: member="LoopFilter.cpp::GetHorFilterStrength" ref="afe90ea6b74a3965e2ceb0aae6d9def7a" args="(CodingPictInfo *cpi, macroblockInfo *mlist, int mbIdx, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetHorFilterStrength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mbIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00452"></a>00452 {
<a name="l00453"></a>00453         <span class="keywordtype">int</span> mbW = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 16;
<a name="l00454"></a>00454         <span class="keywordtype">int</span> mbX = mbIdx % mbW,
<a name="l00455"></a>00455                 mbY = mbIdx / mbW;
<a name="l00456"></a>00456         <a class="code" href="structmacroblock_info.html">macroblockInfo</a> *mcur = mlist + mbIdx;
<a name="l00457"></a>00457         <a class="code" href="structmacroblock_info.html">macroblockInfo</a> *mabove = mlist + mbIdx - mbW;
<a name="l00458"></a>00458         <span class="keywordflow">if</span>( idx&gt;&gt;2 )
<a name="l00459"></a>00459         {
<a name="l00460"></a>00460                 <span class="comment">// internal edge</span>
<a name="l00461"></a>00461                 <a class="code" href="_macros_8h.html#aa2df507bf8fdb7ebbb8d50b312d7b78d">ROTRS</a>( mlist[mbIdx].mbtype==2, 3 );
<a name="l00462"></a>00462 
<a name="l00463"></a>00463                 <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9">isCoded</a>(mcur, idx))
<a name="l00464"></a>00464                         <span class="keywordflow">return</span> 2;
<a name="l00465"></a>00465                 <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9">isCoded</a>(mcur, idx-4))
<a name="l00466"></a>00466                         <span class="keywordflow">return</span> 2;
<a name="l00467"></a>00467                 <span class="keywordflow">if</span>( mcur-&gt;<a class="code" href="structmacroblock_info.html#af09f9c522a04fe712528e6db6a696866">mbtype</a>==0 )
<a name="l00468"></a>00468                         <span class="keywordflow">return</span> <a class="code" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3">CheckMvDataP</a>( mcur, idx, mcur, idx - 4);
<a name="l00469"></a>00469                 <span class="keywordflow">return</span> <a class="code" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6">CheckMvDataB</a>  ( cpi, mcur, idx, mcur, idx - 4);
<a name="l00470"></a>00470         }
<a name="l00471"></a>00471 
<a name="l00472"></a>00472         <a class="code" href="_macros_8h.html#aa2df507bf8fdb7ebbb8d50b312d7b78d">ROTRS</a>( ! mlist[mbIdx].mbR,                    0 );
<a name="l00473"></a>00473 
<a name="l00474"></a>00474 
<a name="l00475"></a>00475         <a class="code" href="_macros_8h.html#aa2df507bf8fdb7ebbb8d50b312d7b78d">ROTRS</a>( mlist[mbIdx].mbtype==2, 4 );
<a name="l00476"></a>00476         <a class="code" href="_macros_8h.html#aa2df507bf8fdb7ebbb8d50b312d7b78d">ROTRS</a>( mlist[mbIdx-mbW].mbtype==2, 4 );
<a name="l00477"></a>00477 
<a name="l00478"></a>00478         <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9">isCoded</a>(mcur, idx))
<a name="l00479"></a>00479                 <span class="keywordflow">return</span> 2;
<a name="l00480"></a>00480         <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9">isCoded</a>(mabove, idx+12))
<a name="l00481"></a>00481                 <span class="keywordflow">return</span> 2;
<a name="l00482"></a>00482         <span class="keywordflow">if</span>( mcur-&gt;<a class="code" href="structmacroblock_info.html#af09f9c522a04fe712528e6db6a696866">mbtype</a>==0 &amp;&amp; mabove-&gt;<a class="code" href="structmacroblock_info.html#af09f9c522a04fe712528e6db6a696866">mbtype</a>==0)
<a name="l00483"></a>00483         {
<a name="l00484"></a>00484                 <span class="keywordflow">return</span> <a class="code" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3">CheckMvDataP</a>( mcur, idx, mabove, idx + 12);
<a name="l00485"></a>00485         }
<a name="l00486"></a>00486         <span class="keywordflow">return</span> <a class="code" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6">CheckMvDataB</a>  ( cpi, mcur, idx, mabove, idx + 12);
<a name="l00487"></a>00487 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_afe90ea6b74a3965e2ceb0aae6d9def7a_cgraph.png" border="0" usemap="#_loop_filter_8cpp_afe90ea6b74a3965e2ceb0aae6d9def7a_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_afe90ea6b74a3965e2ceb0aae6d9def7a_cgraph_map" id="_loop_filter_8cpp_afe90ea6b74a3965e2ceb0aae6d9def7a_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6" title="CheckMvDataB" alt="" coords="196,5,305,35"/><area shape="rect" id="node9" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3" title="CheckMvDataP" alt="" coords="196,59,305,88"/><area shape="rect" id="node12" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9" title="isCoded" alt="" coords="216,112,285,141"/><area shape="rect" id="node5" href="_loop_filter_8h.html#aca10d193cfa918f6819799ad228ac7be" title="veryNearD" alt="" coords="356,5,436,35"/><area shape="rect" id="node7" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051" title="veryNearS" alt="" coords="356,59,436,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_afe90ea6b74a3965e2ceb0aae6d9def7a_icgraph.png" border="0" usemap="#_loop_filter_8cpp_afe90ea6b74a3965e2ceb0aae6d9def7a_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_afe90ea6b74a3965e2ceb0aae6d9def7a_icgraph_map" id="_loop_filter_8cpp_afe90ea6b74a3965e2ceb0aae6d9def7a_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="196,32,265,61"/><area shape="rect" id="node5" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="317,5,416,35"/><area shape="rect" id="node11" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="315,59,419,88"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="469,5,568,35"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="621,5,728,35"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="467,59,571,88"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="467,112,571,141"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="620,59,729,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="620,112,729,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f70a21e87e7aa4f5e42426b044bf8e6"></a><!-- doxytag: member="LoopFilter.cpp::GetVerFilterStrength" ref="a1f70a21e87e7aa4f5e42426b044bf8e6" args="(CodingPictInfo *cpi, macroblockInfo *mlist, int mbIdx, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetVerFilterStrength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mbIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00409"></a>00409 {
<a name="l00410"></a>00410         <span class="keywordtype">int</span> mbW = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 16;
<a name="l00411"></a>00411         <span class="keywordtype">int</span> mbX = mbIdx % mbW,
<a name="l00412"></a>00412                 mbY = mbIdx / mbW;
<a name="l00413"></a>00413         <a class="code" href="structmacroblock_info.html">macroblockInfo</a> *mcur = mlist + mbIdx;
<a name="l00414"></a>00414         <a class="code" href="structmacroblock_info.html">macroblockInfo</a> *mleft = mlist + mbIdx - 1;
<a name="l00415"></a>00415         <span class="keywordflow">if</span>( idx&amp;3 )
<a name="l00416"></a>00416         {
<a name="l00417"></a>00417                 <span class="comment">// this is a edge inside of a macroblock</span>
<a name="l00418"></a>00418                 <a class="code" href="_macros_8h.html#aa2df507bf8fdb7ebbb8d50b312d7b78d">ROTRS</a>( mlist[mbIdx].mbtype==2, 3 );
<a name="l00419"></a>00419 
<a name="l00420"></a>00420                 <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9">isCoded</a>(mcur, idx))
<a name="l00421"></a>00421                         <span class="keywordflow">return</span> 2;
<a name="l00422"></a>00422                 <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9">isCoded</a>(mcur, idx-1))
<a name="l00423"></a>00423                         <span class="keywordflow">return</span> 2;
<a name="l00424"></a>00424                 <span class="keywordflow">if</span>( mcur-&gt;<a class="code" href="structmacroblock_info.html#af09f9c522a04fe712528e6db6a696866">mbtype</a>==0 )
<a name="l00425"></a>00425                 {
<a name="l00426"></a>00426                         <span class="keywordflow">return</span> <a class="code" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3">CheckMvDataP</a>( mcur, idx, mcur, idx - 1);
<a name="l00427"></a>00427                 }
<a name="l00428"></a>00428                 <span class="keywordflow">return</span> <a class="code" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6">CheckMvDataB</a>  ( cpi, mcur, idx, mcur, idx - 1);
<a name="l00429"></a>00429         }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431         <a class="code" href="_macros_8h.html#aa2df507bf8fdb7ebbb8d50b312d7b78d">ROTRS</a>( ! mlist[mbIdx].mbC, 0 );
<a name="l00432"></a>00432 
<a name="l00433"></a>00433         <a class="code" href="_macros_8h.html#aa2df507bf8fdb7ebbb8d50b312d7b78d">ROTRS</a>( mlist[mbIdx].mbtype==2, 4 );
<a name="l00434"></a>00434         <a class="code" href="_macros_8h.html#aa2df507bf8fdb7ebbb8d50b312d7b78d">ROTRS</a>( mlist[mbIdx-1].mbtype==2, 4 );
<a name="l00435"></a>00435 
<a name="l00436"></a>00436         <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9">isCoded</a>(mcur, idx))
<a name="l00437"></a>00437                 <span class="keywordflow">return</span> 2;
<a name="l00438"></a>00438         <span class="keywordflow">if</span> (<a class="code" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9">isCoded</a>(mleft, idx+3))
<a name="l00439"></a>00439                 <span class="keywordflow">return</span> 2;
<a name="l00440"></a>00440 
<a name="l00441"></a>00441         <span class="keywordflow">if</span>( mcur-&gt;<a class="code" href="structmacroblock_info.html#af09f9c522a04fe712528e6db6a696866">mbtype</a>==0 &amp;&amp; mleft-&gt;<a class="code" href="structmacroblock_info.html#af09f9c522a04fe712528e6db6a696866">mbtype</a>==0)
<a name="l00442"></a>00442         {
<a name="l00443"></a>00443                 <span class="keywordflow">return</span> <a class="code" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3">CheckMvDataP</a>( mcur, idx, mleft, idx + 3);
<a name="l00444"></a>00444         }
<a name="l00445"></a>00445         <span class="keywordflow">return</span> <a class="code" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6">CheckMvDataB</a>  ( cpi, mcur, idx, mleft, idx + 3);
<a name="l00446"></a>00446 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a1f70a21e87e7aa4f5e42426b044bf8e6_cgraph.png" border="0" usemap="#_loop_filter_8cpp_a1f70a21e87e7aa4f5e42426b044bf8e6_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a1f70a21e87e7aa4f5e42426b044bf8e6_cgraph_map" id="_loop_filter_8cpp_a1f70a21e87e7aa4f5e42426b044bf8e6_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8cpp.html#aa991252342a85def9bd5e8d24c5c21b6" title="CheckMvDataB" alt="" coords="196,5,305,35"/><area shape="rect" id="node9" href="_loop_filter_8cpp.html#a87514b58c1759f4305d01937c42435b3" title="CheckMvDataP" alt="" coords="196,59,305,88"/><area shape="rect" id="node12" href="_loop_filter_8h.html#a302f34b646ffc2b3458b19aab8ff72e9" title="isCoded" alt="" coords="216,112,285,141"/><area shape="rect" id="node5" href="_loop_filter_8h.html#aca10d193cfa918f6819799ad228ac7be" title="veryNearD" alt="" coords="356,5,436,35"/><area shape="rect" id="node7" href="_loop_filter_8h.html#ac685805284bd256ab2f9ba72afb31051" title="veryNearS" alt="" coords="356,59,436,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a1f70a21e87e7aa4f5e42426b044bf8e6_icgraph.png" border="0" usemap="#_loop_filter_8cpp_a1f70a21e87e7aa4f5e42426b044bf8e6_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a1f70a21e87e7aa4f5e42426b044bf8e6_icgraph_map" id="_loop_filter_8cpp_a1f70a21e87e7aa4f5e42426b044bf8e6_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="196,32,265,61"/><area shape="rect" id="node5" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="317,5,416,35"/><area shape="rect" id="node11" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="315,59,419,88"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="469,5,568,35"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="621,5,728,35"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="467,59,571,88"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="467,112,571,141"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="620,59,729,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="620,112,729,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5630c9b21b9751b11fa116e9f383da5c"></a><!-- doxytag: member="LoopFilter.cpp::LumaHorFilter" ref="a5630c9b21b9751b11fa116e9f383da5c" args="(CodingPictInfo *cpi, macroblockInfo *mlist, int mbIdx, TYPE_AAAUCBS m_aaaucBs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LumaHorFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mbIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a>&nbsp;</td>
          <td class="paramname"> <em>m_aaaucBs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00190"></a>00190 {
<a name="l00191"></a>00191         <span class="keywordtype">int</span> mbW = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 16;
<a name="l00192"></a>00192         <span class="keywordtype">int</span> mbX = mbIdx % mbW,
<a name="l00193"></a>00193                 mbY = mbIdx / mbW;
<a name="l00194"></a>00194         <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*  puint8Lum = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a62aee8cc8c9cac725d4f44a19ddc8c2b">lumaStart</a> + mbY * 16 * cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> + mbX * 16;
<a name="l00195"></a>00195         <span class="keywordtype">int</span>   iCurrQp = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a> + mlist[mbIdx].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>;
<a name="l00196"></a>00196 <span class="comment">//      int   iCurrQp = rcMbDataAccess.getMbDataCurr().getQpLF();</span>
<a name="l00197"></a>00197         <span class="keywordtype">int</span>   iStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <span class="comment">//===== filtering of upper macroblock edge =====</span>
<a name="l00200"></a>00200         {
<a name="l00201"></a>00201                 <span class="comment">//-----  any other combination than curr = FRM, above = FLD  -----</span>
<a name="l00202"></a>00202                 <span class="keywordtype">int</span> iAboveQp  = (mbY?(cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a>+mlist[mbIdx-mbW].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>):0); <span class="comment">//rcMbDataAccess.getMbDataAbove().getQpLF();</span>
<a name="l00203"></a>00203                 <span class="keywordtype">int</span> iQp       = ( iAboveQp + iCurrQp + 1) &gt;&gt; 1;
<a name="l00204"></a>00204                 <span class="keywordtype">int</span> iIndexA   = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceAlphaC0Offset()*/</span>0 + iQp, 0, 51);
<a name="l00205"></a>00205                 <span class="keywordtype">int</span> iIndexB   = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceBetaOffset()*/</span>0    + iQp, 0, 51);
<a name="l00206"></a>00206 
<a name="l00207"></a>00207                 <span class="keywordflow">for</span>( <span class="keywordtype">int</span> xBlk = 0; xBlk &lt; 4; xBlk++)
<a name="l00208"></a>00208                 {
<a name="l00209"></a>00209                         <span class="keyword">const</span> <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs = m_aaaucBs[1][xBlk][0];
<a name="l00210"></a>00210                         <span class="keywordflow">if</span>( 0 != ucBs )
<a name="l00211"></a>00211                         {
<a name="l00212"></a>00212                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum,   iStride, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00213"></a>00213                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+1, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00214"></a>00214                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+2, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00215"></a>00215                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+3, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00216"></a>00216                         }
<a name="l00217"></a>00217                         puint8Lum += 4;
<a name="l00218"></a>00218                 }
<a name="l00219"></a>00219                 puint8Lum -= 16;
<a name="l00220"></a>00220         }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222         puint8Lum += 4*iStride;
<a name="l00223"></a>00223         <span class="keywordtype">int</span> iIndexA = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceAlphaC0Offset()*/</span>0 + iCurrQp, 0, 51);
<a name="l00224"></a>00224         <span class="keywordtype">int</span> iIndexB = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceBetaOffset()*/</span>0    + iCurrQp, 0, 51);
<a name="l00225"></a>00225 
<a name="l00226"></a>00226         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> yBlk = 1; yBlk &lt; 4; yBlk++)
<a name="l00227"></a>00227         {
<a name="l00228"></a>00228                 <span class="keywordflow">for</span>( <span class="keywordtype">int</span> xBlk = 0; xBlk &lt; 4; xBlk++)
<a name="l00229"></a>00229                 {
<a name="l00230"></a>00230                         <span class="keyword">const</span> <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs = m_aaaucBs[1][xBlk][yBlk];
<a name="l00231"></a>00231                         <span class="keywordflow">if</span>( 0 != ucBs )
<a name="l00232"></a>00232                         {
<a name="l00233"></a>00233                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum,   iStride, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00234"></a>00234                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+1, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00235"></a>00235                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+2, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00236"></a>00236                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+3, iStride, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00237"></a>00237                         }
<a name="l00238"></a>00238                         puint8Lum += 4;
<a name="l00239"></a>00239                 }
<a name="l00240"></a>00240                 puint8Lum += 4*iStride - 16;
<a name="l00241"></a>00241         }
<a name="l00242"></a>00242 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a5630c9b21b9751b11fa116e9f383da5c_cgraph.png" border="0" usemap="#_loop_filter_8cpp_a5630c9b21b9751b11fa116e9f383da5c_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a5630c9b21b9751b11fa116e9f383da5c_cgraph_map" id="_loop_filter_8cpp_a5630c9b21b9751b11fa116e9f383da5c_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2" title="ClipMinMax" alt="" coords="256,5,347,35"/><area shape="rect" id="node5" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135" title="Filter" alt="" coords="157,31,208,60"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_a5630c9b21b9751b11fa116e9f383da5c_icgraph.png" border="0" usemap="#_loop_filter_8cpp_a5630c9b21b9751b11fa116e9f383da5c_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_a5630c9b21b9751b11fa116e9f383da5c_icgraph_map" id="_loop_filter_8cpp_a5630c9b21b9751b11fa116e9f383da5c_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="159,32,228,61"/><area shape="rect" id="node5" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="280,5,379,35"/><area shape="rect" id="node11" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="277,59,381,88"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="432,5,531,35"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="584,5,691,35"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="429,59,533,88"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="429,112,533,141"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="583,59,692,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="583,112,692,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af5fe65e920004c9063b3b44a405ae942"></a><!-- doxytag: member="LoopFilter.cpp::LumaVerFilter" ref="af5fe65e920004c9063b3b44a405ae942" args="(CodingPictInfo *cpi, macroblockInfo *mlist, int mbIdx, TYPE_AAAUCBS m_aaaucBs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LumaVerFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coding_pict_info.html">CodingPictInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>cpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmacroblock_info.html">macroblockInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>mlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mbIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_loop_filter_8cpp.html#a3a8dcf2d543e7d8ed94120a67a50bc22">TYPE_AAAUCBS</a>&nbsp;</td>
          <td class="paramname"> <em>m_aaaucBs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {
<a name="l00137"></a>00137         <span class="keywordtype">int</span> mbW = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> / 16;
<a name="l00138"></a>00138         <span class="keywordtype">int</span> mbX = mbIdx % mbW,
<a name="l00139"></a>00139                 mbY = mbIdx / mbW;
<a name="l00140"></a>00140         <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>*  puint8Lum = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a62aee8cc8c9cac725d4f44a19ddc8c2b">lumaStart</a> + mbY * 16 * cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a> + mbX * 16;
<a name="l00141"></a>00141         <span class="keywordtype">int</span>   iStride = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#afeeb373571d44e64d473524e6127f3f7">Size_Width</a>;
<a name="l00142"></a>00142         <span class="keywordtype">int</span>   iCurrQp = cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a> + mlist[mbIdx].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>;
<a name="l00143"></a>00143 <span class="comment">//      int   iCurrQp = rcMbDataAccess.getMbDataCurr().getQpLF();</span>
<a name="l00144"></a>00144 
<a name="l00145"></a>00145         <span class="comment">//===== filtering of left macroblock edge =====</span>
<a name="l00146"></a>00146         {
<a name="l00147"></a>00147                 <span class="keywordtype">int</span> iLeftQp = (mbX?(cpi-&gt;<a class="code" href="struct_coding_pict_info.html#a6e808cdf552c3a18da4b75f4d0c35c28">baseQP</a>+mlist[mbIdx-1].<a class="code" href="structmacroblock_info.html#a732ef45ea0429985a3833fc7a93bf9fd">qp_delta</a>):0); <span class="comment">//rcMbDataAccess.getMbDataLeft().getQpLF();</span>
<a name="l00148"></a>00148                 <span class="keywordtype">int</span> iQp     = ( iLeftQp + iCurrQp + 1) &gt;&gt; 1;
<a name="l00149"></a>00149                 <span class="keywordtype">int</span> iIndexA = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceAlphaC0Offset()*/</span>0 + iQp, 0, 51);
<a name="l00150"></a>00150                 <span class="keywordtype">int</span> iIndexB = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceBetaOffset()*/</span>0    + iQp, 0, 51);
<a name="l00151"></a>00151 
<a name="l00152"></a>00152                 <span class="keywordflow">for</span>( <span class="keywordtype">int</span> yBlk = 0; yBlk &lt; 4; yBlk++)
<a name="l00153"></a>00153                 {
<a name="l00154"></a>00154                         <span class="keyword">const</span> <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs = m_aaaucBs[0][0][yBlk];
<a name="l00155"></a>00155                         <span class="keywordflow">if</span>( 0 != ucBs )
<a name="l00156"></a>00156                         {
<a name="l00157"></a>00157                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum,           1, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00158"></a>00158                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+  iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00159"></a>00159                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+2*iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00160"></a>00160                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+3*iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00161"></a>00161                         }
<a name="l00162"></a>00162                         puint8Lum += 4*iStride;
<a name="l00163"></a>00163                 }
<a name="l00164"></a>00164                 puint8Lum -= 16*iStride-4;
<a name="l00165"></a>00165         }
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 
<a name="l00168"></a>00168         <span class="keywordtype">int</span> iIndexA = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceAlphaC0Offset()*/</span>0 + iCurrQp, 0, 51);
<a name="l00169"></a>00169         <span class="keywordtype">int</span> iIndexB = <a class="code" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2">ClipMinMax</a>( <span class="comment">/*rcDFP.getSliceBetaOffset()*/</span>0    + iCurrQp, 0, 51);
<a name="l00170"></a>00170 
<a name="l00171"></a>00171         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> xBlk = 1; xBlk &lt; 4; xBlk++)
<a name="l00172"></a>00172         {
<a name="l00173"></a>00173                 <span class="keywordflow">for</span>( <span class="keywordtype">int</span> yBlk = 0; yBlk &lt; 4; yBlk++)
<a name="l00174"></a>00174                 {
<a name="l00175"></a>00175                         <span class="keyword">const</span> <a class="code" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> ucBs = m_aaaucBs[0][xBlk][yBlk];
<a name="l00176"></a>00176                         <span class="keywordflow">if</span>( 0 != ucBs )
<a name="l00177"></a>00177                         {
<a name="l00178"></a>00178                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum,           1, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00179"></a>00179                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+  iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00180"></a>00180                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+2*iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00181"></a>00181                                 <a class="code" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135">Filter</a>( puint8Lum+3*iStride, 1, iIndexA, iIndexB, ucBs, <span class="keyword">true</span> );
<a name="l00182"></a>00182                         }
<a name="l00183"></a>00183                         puint8Lum += 4*iStride;
<a name="l00184"></a>00184                 }
<a name="l00185"></a>00185                 puint8Lum -= 16*iStride-4;
<a name="l00186"></a>00186         }
<a name="l00187"></a>00187 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_af5fe65e920004c9063b3b44a405ae942_cgraph.png" border="0" usemap="#_loop_filter_8cpp_af5fe65e920004c9063b3b44a405ae942_cgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_af5fe65e920004c9063b3b44a405ae942_cgraph_map" id="_loop_filter_8cpp_af5fe65e920004c9063b3b44a405ae942_cgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#ada62cf07541be858b5512ad9662632d2" title="ClipMinMax" alt="" coords="256,5,347,35"/><area shape="rect" id="node5" href="_loop_filter_8cpp.html#a21a1a4f0c10e5c0a84a6db78988c4135" title="Filter" alt="" coords="157,31,208,60"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="_loop_filter_8cpp_af5fe65e920004c9063b3b44a405ae942_icgraph.png" border="0" usemap="#_loop_filter_8cpp_af5fe65e920004c9063b3b44a405ae942_icgraph_map" alt=""></div>
<map name="_loop_filter_8cpp_af5fe65e920004c9063b3b44a405ae942_icgraph_map" id="_loop_filter_8cpp_af5fe65e920004c9063b3b44a405ae942_icgraph">
<area shape="rect" id="node3" href="_loop_filter_8h.html#a299f516a75a0efad87a05dfbb35c9b41" title="FilterMB" alt="" coords="159,32,228,61"/><area shape="rect" id="node5" href="_i_slice_8h.html#a3d8b6dcdaff59baf9c7b27ae426f0a5a" title="ISliceDecode" alt="" coords="280,5,379,35"/><area shape="rect" id="node11" href="_p_slice_8h.html#a08458d29753b64df9de1d40b748fdf0b" title="PSliceDecode" alt="" coords="277,59,381,88"/><area shape="rect" id="node7" href="decodeframe__i_8cpp.html#ad773df895663c88740670e8e13891c1f" title="DoProcessDI" alt="" coords="432,5,531,35"/><area shape="rect" id="node9" href="decodeframe__i_8cpp.html#ab7628a5173510caf4fce82bfba6b4a40" title="decodeframe_i" alt="" coords="584,5,691,35"/><area shape="rect" id="node13" href="decodeframe__b_8cpp.html#a01538ccadc6514406416e19a6ebae001" title="DoProcessDB" alt="" coords="429,59,533,88"/><area shape="rect" id="node17" href="decodeframe__p_8cpp.html#a49c748890470e9cac9c8f01ad19d562c" title="DoProcessDP" alt="" coords="429,112,533,141"/><area shape="rect" id="node15" href="decodeframe__b_8cpp.html#a501cfeae2c764e7998e9c9f2240748bd" title="decodeframe_b" alt="" coords="583,59,692,88"/><area shape="rect" id="node19" href="decodeframe__p_8cpp.html#a7f615124f132ce807e3850fff0997a9a" title="decodeframe_p" alt="" coords="583,112,692,141"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a48fda0ebf0454230810412a2ca7e629c"></a><!-- doxytag: member="LoopFilter.cpp::filterAlpha" ref="a48fda0ebf0454230810412a2ca7e629c" args="[52]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="_loop_filter_8cpp.html#a48fda0ebf0454230810412a2ca7e629c">filterAlpha</a>[52]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
        0,  0,  0,  0,  0,  0,  4,  4,  5,  6,
        7,  8,  9,  10, 12, 13, 15, 17, 20, 22,
        25, 28, 32, 36, 40, 45, 50, 56, 63, 71,
        80, 90, 101,113,127,144,162,182,203,226,
        255,255
}
</pre></div>
</div>
</div>
<a class="anchor" id="a18041dafd5660465b36ec13cd36d0542"></a><!-- doxytag: member="LoopFilter.cpp::filterBeta" ref="a18041dafd5660465b36ec13cd36d0542" args="[52]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="_loop_filter_8cpp.html#a18041dafd5660465b36ec13cd36d0542">filterBeta</a>[52]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
        0,  0,  0,  0,  0,  0,  2,  2,  2,  3,
        3,  3,  3,  4,  4,  4,  6,  6,  7,  7,
        8,  8,  9,  9, 10, 10, 11, 11, 12, 12,
        13, 13, 14, 14, 15, 15, 16, 16, 17, 17,
        18, 18
}
</pre></div>
</div>
</div>
<a class="anchor" id="a62b40fd851524e9ffb29a38e40851d8a"></a><!-- doxytag: member="LoopFilter.cpp::filterClip" ref="a62b40fd851524e9ffb29a38e40851d8a" args="[52][5]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="_types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="_loop_filter_8cpp.html#a62b40fd851524e9ffb29a38e40851d8a">filterClip</a>[52][5]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
        {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0},
        {0, 0, 0, 0, 0}, {0, 0, 0, 1, 1}, {0, 0, 0, 1, 1}, {0, 0, 0, 1, 1},
        {0, 0, 0, 1, 1}, {0, 0, 1, 1, 1}, {0, 0, 1, 1, 1}, {0, 1, 1, 1, 1},
        {0, 1, 1, 1, 1}, {0, 1, 1, 1, 1}, {0, 1, 1, 1, 1}, {0, 1, 1, 2, 2},
        {0, 1, 1, 2, 2}, {0, 1, 1, 2, 2}, {0, 1, 1, 2, 2}, {0, 1, 2, 3, 3},
        {0, 1, 2, 3, 3}, {0, 2, 2, 3, 3}, {0, 2, 2, 4, 4}, {0, 2, 3, 4, 4},
        {0, 2, 3, 4, 4}, {0, 3, 3, 5, 5}, {0, 3, 4, 6, 6}, {0, 3, 4, 6, 6},
        {0, 4, 5, 7, 7}, {0, 4, 5, 8, 8}, {0, 4, 6, 9, 9}, {0, 5, 7,10,10},
        {0, 6, 8,11,11}, {0, 6, 8,13,13}, {0, 7,10,14,14}, {0, 8,11,16,16},
        {0, 9,12,18,18}, {0,10,13,20,20}, {0,11,15,23,23}, {0,13,17,25,25}
}
</pre></div>
</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Jun 10 20:54:50 2010 for MVC by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
