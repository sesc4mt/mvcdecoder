\hypertarget{_loop_filter_8h_source}{
\section{MVCCommonLib/Codec/LoopFilter.h}
}


\begin{footnotesize}\begin{alltt}
00001 \textcolor{preprocessor}{#ifndef \_LOOP\_FILTER\_H\_WEIDONG\_}
00002 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define \_LOOP\_FILTER\_H\_WEIDONG\_}
00003 \textcolor{preprocessor}{}
00004 \textcolor{preprocessor}{#include <\hyperlink{_macros_8h}{Macros.h}>}
00005 \textcolor{preprocessor}{#include "\hyperlink{_picture_info_8h}{PictureInfo.h}"}
00006 \textcolor{preprocessor}{#include "\hyperlink{_consts4_standard_8h}{Codec/Consts4Standard.h}"}
00007 
00008 \textcolor{keywordtype}{void} \hyperlink{_loop_filter_8cpp_a299f516a75a0efad87a05dfbb35c9b41}{FilterMB}(\hyperlink{struct_coding_pict_info}{CodingPictInfo} *cpi, \hyperlink{structmacroblock_info}{macroblockInfo} *mlist, \textcolor{keywordtype}{int} mbIdx);
00009 
\hypertarget{_loop_filter_8h_source_l00010}{}\hyperlink{_loop_filter_8h_ada62cf07541be858b5512ad9662632d2}{00010} \_\_inline \textcolor{keywordtype}{int} \hyperlink{_loop_filter_8h_ada62cf07541be858b5512ad9662632d2}{ClipMinMax}(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} mi, \textcolor{keywordtype}{int} ma)
00011 \{
00012         \textcolor{comment}{//if (x < mi)}
00013         \textcolor{comment}{//      x = mi;}
00014         \textcolor{comment}{//if (x > ma)}
00015         \textcolor{comment}{//      x = ma;}
00016         \textcolor{comment}{//return x;}
00017         \textcolor{keywordflow}{if}(x>ma)
00018                 \textcolor{keywordflow}{return} ma;
00019         \textcolor{keywordflow}{if}(x<mi)
00020                 \textcolor{keywordflow}{return} mi;
00021         \textcolor{keywordflow}{return} x;
00022 \}
00023 
\hypertarget{_loop_filter_8h_source_l00024}{}\hyperlink{_loop_filter_8h_a302f34b646ffc2b3458b19aab8ff72e9}{00024} \_\_inline \textcolor{keywordtype}{bool} \hyperlink{_loop_filter_8h_a302f34b646ffc2b3458b19aab8ff72e9}{isCoded}(\hyperlink{structmacroblock_info}{macroblockInfo} *mlist, \textcolor{keywordtype}{int} idx)
00025 \{
00026         \textcolor{keywordflow}{return} ((mlist->\hyperlink{structmacroblock_info_a8c2dc78f061142480ef5b2026b8a1dff}{coded44} & (1<<idx)) != 0);
00027 \}
00028 
\hypertarget{_loop_filter_8h_source_l00029}{}\hyperlink{_loop_filter_8h_ac685805284bd256ab2f9ba72afb31051}{00029} \_\_inline \textcolor{keywordtype}{bool} \hyperlink{_loop_filter_8h_ac685805284bd256ab2f9ba72afb31051}{veryNearS}(\hyperlink{structref_vector}{refVector} &r1, \hyperlink{structref_vector}{refVector} &r2)
00030 \{
00031         \textcolor{keywordflow}{if} (r1.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}!=r2.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno})
00032                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00033         \textcolor{keywordflow}{if} (r1.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}==-1 && r2.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}==-1)
00034                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00035         \textcolor{keywordflow}{if} (abs(r1.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y}-r2.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y})> 3)
00036                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00037         \textcolor{keywordflow}{if} (abs(r1.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x}-r2.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x})> 3)
00038                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00039         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00040 \}
00041 
\hypertarget{_loop_filter_8h_source_l00042}{}\hyperlink{_loop_filter_8h_aca10d193cfa918f6819799ad228ac7be}{00042} \_\_inline \textcolor{keywordtype}{bool} \hyperlink{_loop_filter_8h_aca10d193cfa918f6819799ad228ac7be}{veryNearD}(\hyperlink{struct_coding_pict_info}{CodingPictInfo} *cpi, \hyperlink{structref_vector}{refVector} &r1, \hyperlink{structref_vector}{refVector} &r2)
00043 \{
00044         \textcolor{keywordflow}{if} (r1.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}==-1 && r2.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}==-1)
00045                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00046         \textcolor{keywordflow}{if} (cpi->\hyperlink{struct_coding_pict_info_a8c8c3eeff0744de167b9ea6c5a7938a0}{ref_lumaStart}[0][r1.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}]!=cpi->\hyperlink{struct_coding_pict_info_a8c8c3eeff0744de167b9ea6c5a7938a0}{ref_lumaStart}[1][r2.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}])
00047                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00048         \textcolor{keywordflow}{if} (abs(r1.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y}-r2.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y})> 3)
00049                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00050         \textcolor{keywordflow}{if} (abs(r1.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x}-r2.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x})> 3)
00051                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00052         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00053 \}
00054 
00055 \textcolor{preprocessor}{#endif //\_LOOP\_FILTER\_H\_WEIDONG\_}
00056 \textcolor{preprocessor}{}
\end{alltt}\end{footnotesize}
