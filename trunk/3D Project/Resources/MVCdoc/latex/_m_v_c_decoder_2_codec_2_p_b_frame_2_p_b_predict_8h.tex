\hypertarget{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h}{
\section{MVCDecoder/Codec/PBFrame/PBPredict.h File Reference}
\label{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h}\index{MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}}
}
{\ttfamily \#include \char`\"{}Common.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}PictureInfo.h\char`\"{}}\par
Include dependency graph for PBPredict.h:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=132pt]{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a995f6a4907273b8d56b6543ab1a57d17}{SLAVE\_\-CODE}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a1ebf436cd932cc02e36d3e20c24f7a73}{getSAD} (\hyperlink{structmacroblockdata}{macroblockdata} $\ast$data, \hyperlink{structmacroblockdata}{macroblockdata} $\ast$pred)
\item 
void \hyperlink{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a9c58c454b324f51dd72a2dde41c3a25d}{macroblockPBPredictionGetBest} (\hyperlink{struct_coding_pict_info}{CodingPictInfo} $\ast$cpi, \hyperlink{struct_p_b_predict_info}{PBPredictInfo} $\ast$pif, \hyperlink{structmacroblockdata}{macroblockdata} $\ast$dif, \hyperlink{structmacroblock_info}{macroblockInfo} $\ast$mif, \hyperlink{structmacroblockdata}{macroblockdata} $\ast$pred)
\item 
void \hyperlink{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a9bf71cd5cc7efb47cefa4dc05a66d1a0}{macroblockPBPrediction} (\hyperlink{struct_coding_pict_info}{CodingPictInfo} $\ast$cpi, \hyperlink{struct_p_b_predict_info}{PBPredictInfo} $\ast$pif, \hyperlink{structmacroblockdata}{macroblockdata} $\ast$dif, \hyperlink{structmacroblock_info}{macroblockInfo} $\ast$mif, \hyperlink{structmacroblockdata}{macroblockdata} $\ast$pred)
\item 
void \hyperlink{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_ab77dc06916e76b6e4dd24da969b5f4b4}{printSads} ()
\end{DoxyCompactItemize}


\subsection{Define Documentation}
\hypertarget{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a995f6a4907273b8d56b6543ab1a57d17}{
\index{MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}!SLAVE\_\-CODE@{SLAVE\_\-CODE}}
\index{SLAVE\_\-CODE@{SLAVE\_\-CODE}!MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}}
\subsubsection[{SLAVE\_\-CODE}]{\setlength{\rightskip}{0pt plus 5cm}\#define SLAVE\_\-CODE}}
\label{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a995f6a4907273b8d56b6543ab1a57d17}


\subsection{Function Documentation}
\hypertarget{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a1ebf436cd932cc02e36d3e20c24f7a73}{
\index{MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}!getSAD@{getSAD}}
\index{getSAD@{getSAD}!MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}}
\subsubsection[{getSAD}]{\setlength{\rightskip}{0pt plus 5cm}int getSAD ({\bf macroblockdata} $\ast$ {\em data}, \/  {\bf macroblockdata} $\ast$ {\em pred})}}
\label{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a1ebf436cd932cc02e36d3e20c24f7a73}




\begin{footnotesize}\begin{alltt}
00399 \{
00400         \textcolor{keywordtype}{int} sad = 0;
00401         \textcolor{comment}{//int i, j;}
00402         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 16; ++i)
00403                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 16; ++j)
00404                         sad += labs((\textcolor{keywordtype}{int})data->\hyperlink{structmacroblockdata_ac3e45382bf0c21b9714fe7d8e9e1a12d}{y}[i][j] - (\textcolor{keywordtype}{int})pred->\hyperlink{structmacroblockdata_ac3e45382bf0c21b9714fe7d8e9e1a12d}{y}[i][j]);
00405         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 8; ++i)
00406                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; ++j)
00407                         sad += labs((\textcolor{keywordtype}{int})data->\hyperlink{structmacroblockdata_a07e17343606921d436bfddef89d0d93f}{uv}[0][i][j] - (\textcolor{keywordtype}{int})pred->\hyperlink{structmacroblockdata_a07e17343606921d436bfddef89d0d93f}{uv}[0][i][
      j]);
00408         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 8; ++i)
00409                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; ++j)
00410                         sad += labs((\textcolor{keywordtype}{int})data->\hyperlink{structmacroblockdata_a07e17343606921d436bfddef89d0d93f}{uv}[1][i][j] - (\textcolor{keywordtype}{int})pred->\hyperlink{structmacroblockdata_a07e17343606921d436bfddef89d0d93f}{uv}[1][i][
      j]);
00411         \textcolor{keywordflow}{return} sad;
00412 \}
\end{alltt}\end{footnotesize}


\hypertarget{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a9bf71cd5cc7efb47cefa4dc05a66d1a0}{
\index{MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}!macroblockPBPrediction@{macroblockPBPrediction}}
\index{macroblockPBPrediction@{macroblockPBPrediction}!MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}}
\subsubsection[{macroblockPBPrediction}]{\setlength{\rightskip}{0pt plus 5cm}void macroblockPBPrediction ({\bf CodingPictInfo} $\ast$ {\em cpi}, \/  {\bf PBPredictInfo} $\ast$ {\em pif}, \/  {\bf macroblockdata} $\ast$ {\em dif}, \/  {\bf macroblockInfo} $\ast$ {\em mif}, \/  {\bf macroblockdata} $\ast$ {\em pred})}}
\label{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a9bf71cd5cc7efb47cefa4dc05a66d1a0}




\begin{footnotesize}\begin{alltt}
00487 \{
00488         \textcolor{keywordtype}{bool} ok[4][4] = \{0\};
00489         \textcolor{comment}{//macroblockGetHalfPel(pif, cpi);}
00490         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; ++i)
00491                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 4; ++j)
00492                 \{
00493                         \textcolor{keywordtype}{int} x = i, y = j;
00494                         \textcolor{keywordflow}{if} (ok[i][j])
00495                                 \textcolor{keywordflow}{continue};
00496                         \textcolor{keywordflow}{while} ((x || y) && \hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8h_a7a22ccaef4a3c56a0ac3b9df8eb05e1d}{noRefs}(mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y]))
00497                         \{
00498                                 printf(\textcolor{stringliteral}{"REF Error!!!\(\backslash\)n"});
00499                                 x = x & (x - 1);
00500                                 y = y & (y - 1);
00501                         \}
00502                         \textcolor{keywordtype}{int} wd = 1, ht = 1;
00503                         \textcolor{keywordflow}{while} (x+ht < 4 && (\hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8h_a7a22ccaef4a3c56a0ac3b9df8eb05e1d}{noRefs}(mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x+ht][y]) || 
      \hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8h_aafd6da6f8c9a163910095d70b80462e7}{refsEqual}(mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x+ht][y], mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y])))
00504                         \{
00505                                 ++ht;
00506                         \}
00507                         \textcolor{keywordflow}{while} (y+wd < 4)
00508                         \{
00509                                 \textcolor{keywordtype}{bool} sm = \textcolor{keyword}{true};
00510                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < ht; ++k)
00511                                         \textcolor{keywordflow}{if} (!\hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8h_a7a22ccaef4a3c56a0ac3b9df8eb05e1d}{noRefs}(mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x+k][y]) || !
      \hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8h_aafd6da6f8c9a163910095d70b80462e7}{refsEqual}(mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x+k][y],mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x+k][y+wd]))
00512                                         \{
00513                                                 sm = \textcolor{keyword}{false};
00514                                                 \textcolor{keywordflow}{break};
00515                                         \}
00516                                 \textcolor{keywordflow}{if} (!sm)
00517                                         \textcolor{keywordflow}{break};
00518                                 ++wd;
00519                         \}
00520                         \textcolor{keywordflow}{if} ((mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0) && (mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1]
      .\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0))
00521                         \{
00522                                 printf(\textcolor{stringliteral}{"REF Error!!!\(\backslash\)n"});
00523                                 \hyperlink{structref_vector}{refVector} ref;
00524                                 ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00525                                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = 0;
00526                                 ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = 0;
00527                                 \hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp_aae19b8dbe8243ab186626f8b8570ef50}{macroblockGetPred_axb}(0, ref, pif, pred, 4*ht, 4*
      wd, i*4, j*4);
00528                         \}
00529                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0)
00530                         \{
00531                                 \hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp_aae19b8dbe8243ab186626f8b8570ef50}{macroblockGetPred_axb}(1, mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1], pif,
       pred, 4*ht, 4*wd, i*4, j*4);
00532                         \}
00533                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0)
00534                         \{
00535                                 \hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp_aae19b8dbe8243ab186626f8b8570ef50}{macroblockGetPred_axb}(0, mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0], pif,
       pred, 4*ht, 4*wd, i*4, j*4);
00536                         \}
00537                         \textcolor{keywordflow}{else}
00538                         \{
00539                                 \hyperlink{_m_v_c_common_lib_2_codec_2_p_b_predict_8cpp_a6adf1c1a57809fc88604a894304bd924}{macroblockGetPred_axb_Bi}(mif->\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][0], mif-
      >\hyperlink{structmacroblock_info_a8501600ad3ab8d7865c28c8398e900f9}{refs}[x][y][1], pif, pred, 4*ht, 4*wd, i*4, j*4);
00540                         \}
00541                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < ht; ++k)
00542                                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < wd; ++l)
00543                                 \{
00544                                         ok[x+k][y+l] = \textcolor{keyword}{true};
00545                                 \}
00546                 \}
00547 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a9bf71cd5cc7efb47cefa4dc05a66d1a0_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=417pt]{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a9bf71cd5cc7efb47cefa4dc05a66d1a0_icgraph}
\end{center}
\end{figure}


\hypertarget{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a9c58c454b324f51dd72a2dde41c3a25d}{
\index{MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}!macroblockPBPredictionGetBest@{macroblockPBPredictionGetBest}}
\index{macroblockPBPredictionGetBest@{macroblockPBPredictionGetBest}!MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}}
\subsubsection[{macroblockPBPredictionGetBest}]{\setlength{\rightskip}{0pt plus 5cm}void macroblockPBPredictionGetBest ({\bf CodingPictInfo} $\ast$ {\em cpi}, \/  {\bf PBPredictInfo} $\ast$ {\em pif}, \/  {\bf macroblockdata} $\ast$ {\em dif}, \/  {\bf macroblockInfo} $\ast$ {\em mif}, \/  {\bf macroblockdata} $\ast$ {\em pred})}}
\label{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_a9c58c454b324f51dd72a2dde41c3a25d}
\hypertarget{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_ab77dc06916e76b6e4dd24da969b5f4b4}{
\index{MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}!printSads@{printSads}}
\index{printSads@{printSads}!MVCDecoder/Codec/PBFrame/PBPredict.h@{MVCDecoder/Codec/PBFrame/PBPredict.h}}
\subsubsection[{printSads}]{\setlength{\rightskip}{0pt plus 5cm}void printSads ()}}
\label{_m_v_c_decoder_2_codec_2_p_b_frame_2_p_b_predict_8h_ab77dc06916e76b6e4dd24da969b5f4b4}
