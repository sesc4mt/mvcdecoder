\hypertarget{vlc_pred_8h}{
\section{MVCCommonLib/Codec/vlcPred.h File Reference}
\label{vlc_pred_8h}\index{MVCCommonLib/Codec/vlcPred.h@{MVCCommonLib/Codec/vlcPred.h}}
}
{\ttfamily \#include \char`\"{}Types.h\char`\"{}}\par
Include dependency graph for vlcPred.h:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=104pt]{vlc_pred_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{vlc_pred_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structtag__cavlc__ref}{tag\_\-cavlc\_\-ref}
\item 
struct \hyperlink{structtag__cavlc__ref__list}{tag\_\-cavlc\_\-ref\_\-list}
\end{DoxyCompactItemize}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{vlc_pred_8h_a995f6a4907273b8d56b6543ab1a57d17}{SLAVE\_\-CODE}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structtag__cavlc__ref}{tag\_\-cavlc\_\-ref} \hyperlink{vlc_pred_8h_aa443cdb643f951239ab2d8d020a51419}{cavlc\_\-ref}
\item 
typedef struct \hyperlink{structtag__cavlc__ref__list}{tag\_\-cavlc\_\-ref\_\-list} \hyperlink{vlc_pred_8h_aef484ac7a5249b70051354db70fd2331}{cavlc\_\-ref\_\-list}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\_\-\_\-inline int \hyperlink{vlc_pred_8h_aa95b4f7002a155287414853f2fc58279}{get\_\-luma\_\-pred} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int idx)
\item 
\_\-\_\-inline void \hyperlink{vlc_pred_8h_a534c4d1461b465b86fa6ed3294f7fc93}{set\_\-luma\_\-pred} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int idx, int value)
\item 
\_\-\_\-inline int \hyperlink{vlc_pred_8h_a935aabaab002233cc24a9fafbb471893}{get\_\-mode\_\-pred} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int idx)
\item 
\_\-\_\-inline void \hyperlink{vlc_pred_8h_adbc92a1e88185df25667d24d445187a5}{set\_\-mode\_\-pred} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int idx, int value)
\item 
\_\-\_\-inline int \hyperlink{vlc_pred_8h_a6b7594a4d633c85e42d7fcab84940eee}{get\_\-chroma\_\-pred} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int index)
\item 
\_\-\_\-inline void \hyperlink{vlc_pred_8h_a502428eb3f92a2a6d112ad25f756c233}{set\_\-chroma\_\-pred} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int index, int value)
\item 
\_\-\_\-inline void \hyperlink{vlc_pred_8h_aaadafe85e9b6ba1dcdf88a7bc3167218}{swap} (int \&a, int \&b)
\item 
void \hyperlink{vlc_pred_8h_ab68d6bc1fd9bc79cce8d7ab25983f092}{getRefXYP} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int r, int c1, int c2, \hyperlink{structref_vector}{refVector} \&ref, bool allowAboveRight, int type, int prefered)
\item 
void \hyperlink{vlc_pred_8h_aad57329039464fd91ef77e222c9d8890}{getRefXY} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int listId, int r, int c1, int c2, \hyperlink{structref_vector}{refVector} \&ref, bool allowAboveRight, int type=0, int prefered=-\/1)
\item 
void \hyperlink{vlc_pred_8h_a02dab9112419ae319a7abbe063c8f40a}{getRefXY\_\-SKIP} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int indexId, int r, int c1, int c2, \hyperlink{structref_vector}{refVector} \&ref, bool allowAboveRight, int type=0)
\item 
void \hyperlink{vlc_pred_8h_a4222a40d553e245422dc095af407aefe}{getRefXYB} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int r, int c1, int c2, \hyperlink{structref_vector}{refVector} $\ast$ref, bool allowAboveRight, int type=0, int prefered0=-\/1, int prefered1=-\/1)
\item 
void \hyperlink{vlc_pred_8h_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int r, int c, \hyperlink{structref_vector}{refVector} \&ref)
\item 
void \hyperlink{vlc_pred_8h_a67188506ef8e9d56877d891049189578}{setRefXY} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, int indexId, int r, int c, \hyperlink{structref_vector}{refVector} \&ref)
\item 
\_\-\_\-inline void \hyperlink{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{copyVector} (\hyperlink{structref_vector}{refVector} \&vec, \hyperlink{structtag__cavlc__ref}{cavlc\_\-ref} \&ref)
\item 
\_\-\_\-inline void \hyperlink{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe}{copyVector2} (\hyperlink{structref_vector}{refVector} \&vec, \hyperlink{structtag__cavlc__ref}{cavlc\_\-ref} \&ref)
\item 
void \hyperlink{vlc_pred_8h_a8e3b2d1b28e66aabfcb678547cd94545}{getRefXYDirectB} (\hyperlink{structtag__cavlc__ref__list}{cavlc\_\-ref\_\-list} $\ast$ref\_\-list, \hyperlink{structref_vector}{refVector} $\ast$col\_\-refs, \hyperlink{structmacroblock_info}{pmacroblockInfo} info, int r, int c1, int c2, \hyperlink{structref_vector}{refVector} $\ast$ref)
\end{DoxyCompactItemize}


\subsection{Define Documentation}
\hypertarget{vlc_pred_8h_a995f6a4907273b8d56b6543ab1a57d17}{
\index{vlcPred.h@{vlcPred.h}!SLAVE\_\-CODE@{SLAVE\_\-CODE}}
\index{SLAVE\_\-CODE@{SLAVE\_\-CODE}!vlcPred.h@{vlcPred.h}}
\subsubsection[{SLAVE\_\-CODE}]{\setlength{\rightskip}{0pt plus 5cm}\#define SLAVE\_\-CODE}}
\label{vlc_pred_8h_a995f6a4907273b8d56b6543ab1a57d17}


\subsection{Typedef Documentation}
\hypertarget{vlc_pred_8h_aa443cdb643f951239ab2d8d020a51419}{
\index{vlcPred.h@{vlcPred.h}!cavlc\_\-ref@{cavlc\_\-ref}}
\index{cavlc\_\-ref@{cavlc\_\-ref}!vlcPred.h@{vlcPred.h}}
\subsubsection[{cavlc\_\-ref}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf tag\_\-cavlc\_\-ref}  {\bf cavlc\_\-ref}}}
\label{vlc_pred_8h_aa443cdb643f951239ab2d8d020a51419}
\hypertarget{vlc_pred_8h_aef484ac7a5249b70051354db70fd2331}{
\index{vlcPred.h@{vlcPred.h}!cavlc\_\-ref\_\-list@{cavlc\_\-ref\_\-list}}
\index{cavlc\_\-ref\_\-list@{cavlc\_\-ref\_\-list}!vlcPred.h@{vlcPred.h}}
\subsubsection[{cavlc\_\-ref\_\-list}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf tag\_\-cavlc\_\-ref\_\-list}  {\bf cavlc\_\-ref\_\-list}}}
\label{vlc_pred_8h_aef484ac7a5249b70051354db70fd2331}


\subsection{Function Documentation}
\hypertarget{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}{
\index{vlcPred.h@{vlcPred.h}!copyVector@{copyVector}}
\index{copyVector@{copyVector}!vlcPred.h@{vlcPred.h}}
\subsubsection[{copyVector}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline void copyVector ({\bf refVector} \& {\em vec}, \/  {\bf cavlc\_\-ref} \& {\em ref})}}
\label{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b}




\begin{footnotesize}\begin{alltt}
00089 \{
00090         vec.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = ref.\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[0];
00091         vec.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = ref.\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[0];
00092         vec.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = ref.\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[0];
00093 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=389pt]{vlc_pred_8h_aa818c1dd128c70486cd700b39945cf0b_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe}{
\index{vlcPred.h@{vlcPred.h}!copyVector2@{copyVector2}}
\index{copyVector2@{copyVector2}!vlcPred.h@{vlcPred.h}}
\subsubsection[{copyVector2}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline void copyVector2 ({\bf refVector} \& {\em vec}, \/  {\bf cavlc\_\-ref} \& {\em ref})}}
\label{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe}




\begin{footnotesize}\begin{alltt}
00096 \{
00097         vec.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = ref.\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[1];
00098         vec.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = ref.\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[1];
00099         vec.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = ref.\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[1];
00100 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=392pt]{vlc_pred_8h_aae2ee8c22c6f89b4aedfbfcce18118fe_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_a6b7594a4d633c85e42d7fcab84940eee}{
\index{vlcPred.h@{vlcPred.h}!get\_\-chroma\_\-pred@{get\_\-chroma\_\-pred}}
\index{get\_\-chroma\_\-pred@{get\_\-chroma\_\-pred}!vlcPred.h@{vlcPred.h}}
\subsubsection[{get\_\-chroma\_\-pred}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline int get\_\-chroma\_\-pred ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em index})}}
\label{vlc_pred_8h_a6b7594a4d633c85e42d7fcab84940eee}




\begin{footnotesize}\begin{alltt}
00059 \{
00060         \textcolor{keywordtype}{int} row = index >> 1, col = ((index & 4) >> 1) | (index & 1), nA = ref\_li
      st->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[row].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC}, nB = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[col].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC}, nC = nA+nB;
00061         if (nC & 0xC0)
00062                 nC = nC & 0x3F;
00063         \textcolor{keywordflow}{else}
00064                 nC = (nC + 1) >> 1;
00065         \textcolor{keywordflow}{return} nC & 0x3F;
00066 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{vlc_pred_8h_a6b7594a4d633c85e42d7fcab84940eee_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_aa95b4f7002a155287414853f2fc58279}{
\index{vlcPred.h@{vlcPred.h}!get\_\-luma\_\-pred@{get\_\-luma\_\-pred}}
\index{get\_\-luma\_\-pred@{get\_\-luma\_\-pred}!vlcPred.h@{vlcPred.h}}
\subsubsection[{get\_\-luma\_\-pred}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline int get\_\-luma\_\-pred ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em idx})}}
\label{vlc_pred_8h_aa95b4f7002a155287414853f2fc58279}




\begin{footnotesize}\begin{alltt}
00027 \{
00028         \textcolor{keywordtype}{int} row = idx / 4, col = idx & 3, nA = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[row].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff}, nB = re
      f\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[col].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff}, nC = nA+nB;
00029         \textcolor{keywordflow}{if} (nC & 0xC0)
00030                 nC = nC & 0x3F;
00031         \textcolor{keywordflow}{else}
00032                 nC = (nC + 1) >> 1;
00033         \textcolor{keywordflow}{return} nC & 0x3F;
00034 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{vlc_pred_8h_aa95b4f7002a155287414853f2fc58279_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_a935aabaab002233cc24a9fafbb471893}{
\index{vlcPred.h@{vlcPred.h}!get\_\-mode\_\-pred@{get\_\-mode\_\-pred}}
\index{get\_\-mode\_\-pred@{get\_\-mode\_\-pred}!vlcPred.h@{vlcPred.h}}
\subsubsection[{get\_\-mode\_\-pred}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline int get\_\-mode\_\-pred ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em idx})}}
\label{vlc_pred_8h_a935aabaab002233cc24a9fafbb471893}




\begin{footnotesize}\begin{alltt}
00043 \{
00044         \textcolor{keywordtype}{int} row = idx / 4, col = idx & 3, nA = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[row].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode}, nB = re
      f\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[col].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode};
00045         \textcolor{keywordflow}{if} ((nA&0xC0)||(nB&0xC0))
00046                 nA = nB = 2;
00047         \textcolor{keywordflow}{if} (nB < nA)
00048                 nA = nB;
00049         \textcolor{keywordflow}{return} nA;
00050 \}
\end{alltt}\end{footnotesize}


\hypertarget{vlc_pred_8h_aad57329039464fd91ef77e222c9d8890}{
\index{vlcPred.h@{vlcPred.h}!getRefXY@{getRefXY}}
\index{getRefXY@{getRefXY}!vlcPred.h@{vlcPred.h}}
\subsubsection[{getRefXY}]{\setlength{\rightskip}{0pt plus 5cm}void getRefXY ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em listId}, \/  int {\em r}, \/  int {\em c1}, \/  int {\em c2}, \/  {\bf refVector} \& {\em ref}, \/  bool {\em allowAboveRight}, \/  int {\em type} = {\ttfamily 0}, \/  int {\em prefered} = {\ttfamily -\/1})}}
\label{vlc_pred_8h_aad57329039464fd91ef77e222c9d8890}




\begin{footnotesize}\begin{alltt}
00078 \{
00079         \textcolor{keywordtype}{int} x1 = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId],
00080                 x2 = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c1].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId],
00081                 x3 = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c2].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId];
00082         \textcolor{keywordtype}{int} y1 = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId],
00083                 y2 = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c1].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId],
00084                 y3 = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c2].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId];
00085         \textcolor{keywordtype}{int} n1 = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId],
00086                 n2 = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c1].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId],
00087                 n3 = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c2].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId];
00088         \textcolor{keywordflow}{if} (!allowAboveRight || x3 == 0x4000)
00089         \{
00090                 x3 = ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00091                 y3 = ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00092                 n3 = ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00093         \}
00094         \textcolor{keywordtype}{bool} o1 = (x1!=0x2000) && (x1!=0x4000),
00095                 o2 = (x2!=0x2000) && (x2!=0x4000),
00096                 o3 = (x3!=0x2000) && (x3!=0x4000);
00097         \textcolor{keywordflow}{if} (prefered>=0)
00098         \{
00099                 ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = prefered;
00100         \}
00101         \textcolor{keywordflow}{else}
00102         \{
00103                 ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = -1;
00104                 \textcolor{keywordflow}{if} (o1 && (\hyperlink{_types_8h_a363e4d606232036a6b89060813c45489}{uint8_t})ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId] < (\hyperlink{_types_8h_a363e4d606232036a6b89060813c45489}{uint8_t})ref
      .\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno})
00105                         ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId];
00106                 \textcolor{keywordflow}{if} (o2 && (\hyperlink{_types_8h_a363e4d606232036a6b89060813c45489}{uint8_t})ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c1].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId] < (\hyperlink{_types_8h_a363e4d606232036a6b89060813c45489}{uint8_t})ref
      .\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno})
00107                         ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c1].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId];
00108                 \textcolor{keywordflow}{if} (o3 && (\hyperlink{_types_8h_a363e4d606232036a6b89060813c45489}{uint8_t})n3 < (\hyperlink{_types_8h_a363e4d606232036a6b89060813c45489}{uint8_t})ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno})
00109                         ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = n3;
00110         \}
00111         \textcolor{keywordflow}{if} (ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0)
00112         \{
00113                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = 0x2000;
00114                 ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = 0x2000;
00115         \}
00116         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o1 && (type==1 && n1==ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} \textcolor{comment}{/*|| !o2 && !o3*/} || n1==ref.
      \hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}&&n2!=ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}&&n3!=ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}))
00117         \{
00118                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = x1;
00119                 ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = y1;
00120         \}
00121         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o2 && (type==2 && n2==ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} \textcolor{comment}{/*|| !o1 && !o3*/} || n2==ref.
      \hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}&&n1!=ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}&&n3!=ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}))
00122         \{
00123                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = x2;
00124                 ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = y2;
00125         \}
00126         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o3 && (type==3 && n3==ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} \textcolor{comment}{/*|| !o1 && !o2*/} || n3==ref.
      \hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}&&n2!=ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}&&n1!=ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno}))
00127         \{
00128                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = x3;
00129                 ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = y3;
00130         \}
00131         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x2==0x4000 && x3==0x4000)
00132         \{
00133                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = (x1&0x0FFF)-(x1&0x1000);
00134                 ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = (y1&0x0FFF)-(y1&0x1000);
00135         \}
00136         \textcolor{keywordflow}{else}
00137         \{
00138                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = \hyperlink{vlc_pred_8cpp_a6f45a44e2899810a4eac9ae0f637ecaa}{MEDIAN}((x1&0x0FFF)-(x1&0x1000), (x2&0x0FFF)-(x2&0x1000), 
      (x3&0x0FFF)-(x3&0x1000));
00139                 ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = \hyperlink{vlc_pred_8cpp_a6f45a44e2899810a4eac9ae0f637ecaa}{MEDIAN}((y1&0x0FFF)-(y1&0x1000), (y2&0x0FFF)-(y2&0x1000), 
      (y3&0x0FFF)-(y3&0x1000));
00140         \}
00141 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=380pt]{vlc_pred_8h_aad57329039464fd91ef77e222c9d8890_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_a02dab9112419ae319a7abbe063c8f40a}{
\index{vlcPred.h@{vlcPred.h}!getRefXY\_\-SKIP@{getRefXY\_\-SKIP}}
\index{getRefXY\_\-SKIP@{getRefXY\_\-SKIP}!vlcPred.h@{vlcPred.h}}
\subsubsection[{getRefXY\_\-SKIP}]{\setlength{\rightskip}{0pt plus 5cm}void getRefXY\_\-SKIP ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em indexId}, \/  int {\em r}, \/  int {\em c1}, \/  int {\em c2}, \/  {\bf refVector} \& {\em ref}, \/  bool {\em allowAboveRight}, \/  int {\em type} = {\ttfamily 0})}}
\label{vlc_pred_8h_a02dab9112419ae319a7abbe063c8f40a}




\begin{footnotesize}\begin{alltt}
00144 \{
00145         \textcolor{keywordtype}{int} x1 = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId],
00146                 x2 = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c1].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId];
00147         \textcolor{keywordtype}{int} y1 = ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId],
00148                 y2 = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c1].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId];
00149         \textcolor{keywordflow}{if} ((x1==0x4000) || (x2==0x4000) || 
00150                 x1==0 && y1==0 && ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId]==0 ||
00151                 x2==0 && y2==0 && ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c1].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId]==0)
00152         \{
00153                 ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00154                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = 0;
00155                 ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = 0;
00156                 return ;
00157         \}
00158         \hyperlink{vlc_pred_8cpp_a1948c1579087f1b413f0db7dfdb3ca2c}{getRefXY}(ref\_list, listId, r, c1, c2, ref, allowAboveRight, type);
00159 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=110pt]{vlc_pred_8h_a02dab9112419ae319a7abbe063c8f40a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{vlc_pred_8h_a02dab9112419ae319a7abbe063c8f40a_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_a4222a40d553e245422dc095af407aefe}{
\index{vlcPred.h@{vlcPred.h}!getRefXYB@{getRefXYB}}
\index{getRefXYB@{getRefXYB}!vlcPred.h@{vlcPred.h}}
\subsubsection[{getRefXYB}]{\setlength{\rightskip}{0pt plus 5cm}void getRefXYB ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em r}, \/  int {\em c1}, \/  int {\em c2}, \/  {\bf refVector} $\ast$ {\em ref}, \/  bool {\em allowAboveRight}, \/  int {\em type} = {\ttfamily 0}, \/  int {\em prefered0} = {\ttfamily -\/1}, \/  int {\em prefered1} = {\ttfamily -\/1})}}
\label{vlc_pred_8h_a4222a40d553e245422dc095af407aefe}




\begin{footnotesize}\begin{alltt}
00072 \{
00073         \hyperlink{vlc_pred_8cpp_a1948c1579087f1b413f0db7dfdb3ca2c}{getRefXY}(ref\_list, 0, r, c1, c2, ref[0], allowAboveRight, type, prefered0
      );
00074         \hyperlink{vlc_pred_8cpp_a1948c1579087f1b413f0db7dfdb3ca2c}{getRefXY}(ref\_list, 1, r, c1, c2, ref[1], allowAboveRight, type, prefered1
      );
00075 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=100pt]{vlc_pred_8h_a4222a40d553e245422dc095af407aefe_cgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_a8e3b2d1b28e66aabfcb678547cd94545}{
\index{vlcPred.h@{vlcPred.h}!getRefXYDirectB@{getRefXYDirectB}}
\index{getRefXYDirectB@{getRefXYDirectB}!vlcPred.h@{vlcPred.h}}
\subsubsection[{getRefXYDirectB}]{\setlength{\rightskip}{0pt plus 5cm}void getRefXYDirectB ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  {\bf refVector} $\ast$ {\em col\_\-refs}, \/  {\bf pmacroblockInfo} {\em info}, \/  int {\em r}, \/  int {\em c1}, \/  int {\em c2}, \/  {\bf refVector} $\ast$ {\em ref})}}
\label{vlc_pred_8h_a8e3b2d1b28e66aabfcb678547cd94545}




\begin{footnotesize}\begin{alltt}
00202 \{
00203 
00204         \hyperlink{_types_8h_a76a8b016e5ad61faf9062cc387df5016}{Bool}          bDirectZeroPred   = \textcolor{keyword}{false};
00205         \hyperlink{_types_8h_a76a8b016e5ad61faf9062cc387df5016}{Bool}          bAllColNonZero    = \textcolor{keyword}{false};
00206         \hyperlink{_types_8h_a76a8b016e5ad61faf9062cc387df5016}{Bool}          bColZeroFlagBlk0  = \textcolor{keyword}{false};
00207         \hyperlink{_types_8h_a76a8b016e5ad61faf9062cc387df5016}{Bool}          bColZeroFlagBlk1  = \textcolor{keyword}{false};
00208         \hyperlink{_types_8h_a76a8b016e5ad61faf9062cc387df5016}{Bool}          bColZeroFlagBlk2  = \textcolor{keyword}{false};
00209         \hyperlink{_types_8h_a76a8b016e5ad61faf9062cc387df5016}{Bool}          bColZeroFlagBlk3  = \textcolor{keyword}{false};
00210 
00211         \textcolor{comment}{//===== get reference indices and spatially predicted motion vectors ====
      =}
00212         \textcolor{keywordtype}{int} ascRefIdx[2];
00213         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i)
00214         \{
00215                 \textcolor{keywordtype}{int} listId = i;
00216                 \textcolor{keywordtype}{int} x1 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[0].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId],
00217                         x2 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[0].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId],
00218                         x3 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[4].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId];
00219                 \textcolor{keywordtype}{int} y1 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[0].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId],
00220                         y2 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[0].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId],
00221                         y3 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[4].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId];
00222                 \textcolor{keywordtype}{int} n1 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ae9fad3ab9c8086e7dd826492ee027b7d}{lefts}[0].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId],
00223                         n2 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[0].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId],
00224                         n3 = ref\_list->\hyperlink{structtag__cavlc__ref__list_ab4d9282dda63bfa7f48cff76db26de04}{tops}[4].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId];
00225                 \textcolor{keywordflow}{if} (x3 == 0x4000)
00226                 \{
00227                         x3 = ref[listId].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00228                         y3 = ref[listId].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00229                         n3 = ref[listId].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00230                 \}
00231                 ref[listId].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = -1;
00232                 ref[listId].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = 0x2000;
00233                 ref[listId].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = 0x2000;
00234                 ascRefIdx[listId] = n1;
00235                 \textcolor{keywordflow}{if} (n2>=0 && ((n2<ascRefIdx[listId]) || ascRefIdx[listId]<0))
00236                         ascRefIdx[listId] = n2;
00237                 \textcolor{keywordflow}{if} (n3>=0 && ((n3<ascRefIdx[listId]) || ascRefIdx[listId]<0))
00238                         ascRefIdx[listId] = n3;
00239                 \textcolor{keywordflow}{if}( ascRefIdx[listId] >= 0 )
00240                 \{
00241                         \textcolor{keywordflow}{if} (n1==ascRefIdx[listId] && n2!=ascRefIdx[listId] && n3!
      =ascRefIdx[listId] ||
00242                                 x2==0x4000 && x3==0x4000)
00243                         \{
00244                                 ref[listId].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = n1;
00245                                 ref[listId].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = x1;
00246                                 ref[listId].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = y1;
00247                         \}
00248                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n2==ascRefIdx[listId] && n1!=ascRefIdx[listId] &
      & n3!=ascRefIdx[listId] ||
00249                                 x1==0x4000 && x3==0x4000)
00250                         \{
00251                                 ref[listId].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = n2;
00252                                 ref[listId].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = x2;
00253                                 ref[listId].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = y2;
00254                         \}
00255                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n3==ascRefIdx[listId] && n1!=ascRefIdx[listId] &
      & n2!=ascRefIdx[listId] ||
00256                                 x1==0x4000 && x2==0x4000)
00257                         \{
00258                                 ref[listId].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = n3;
00259                                 ref[listId].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = x3;
00260                                 ref[listId].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = y3;
00261                         \}
00262                         \textcolor{keywordflow}{else}
00263                         \{
00264                                 ref[listId].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = ascRefIdx[listId];
00265                                 ref[listId].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = \hyperlink{vlc_pred_8cpp_a6f45a44e2899810a4eac9ae0f637ecaa}{MEDIAN}((x1&0x0FFF)-(x1&0x1000), (
      x2&0x0FFF)-(x2&0x1000), (x3&0x0FFF)-(x3&0x1000));
00266                                 ref[listId].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = \hyperlink{vlc_pred_8cpp_a6f45a44e2899810a4eac9ae0f637ecaa}{MEDIAN}((y1&0x0FFF)-(y1&0x1000), (
      y2&0x0FFF)-(y2&0x1000), (y3&0x0FFF)-(y3&0x1000));
00267                         \}
00268                 \}
00269         \}
00270 
00271         \textcolor{keywordflow}{if}( ascRefIdx[0] < 0 && ascRefIdx[1] < 0 )
00272         \{
00273                 ascRefIdx[0] = 0;
00274                 ascRefIdx[1] = 0;
00275                 ref[0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00276                 ref[1].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00277                 bDirectZeroPred   = \textcolor{keyword}{true};
00278                 bAllColNonZero    = \textcolor{keyword}{true};
00279         \}
00280 
00281         \textcolor{comment}{//===== check co-located =====}
00282         \textcolor{keywordflow}{if}( ! bAllColNonZero )
00283         \{
00284                 \textcolor{keywordtype}{int}   scRefIdxCol;
00285                 \hyperlink{structref_vector}{refVector}      acMvCol[4];
00286 
00287                 \textcolor{keywordflow}{if}( ! bAllColNonZero )
00288                 \{
00289                         \textcolor{comment}{//if( b8x8 )}
00290                         \{
00291                                 \textcolor{comment}{//SParIdx4x4 eSubMbPartIdx = ( eParIdx <= PART\_8x
      8\_1 ? ( eParIdx == PART\_8x8\_0 ? SPART\_4x4\_0 : SPART\_4x4\_1 )}
00292                                 \textcolor{comment}{//      : ( eParIdx == PART\_8x8\_2 ? SPART\_4x4\_2 :
       SPART\_4x4\_3 ) );}
00293 
00294                                 \textcolor{comment}{//xGetColocatedMvRefIdx( acMvCol[0], scRefIdxCol,
       B4x4Idx( eParIdx + eSubMbPartIdx ) );}
00295                                 \textcolor{comment}{// todo:}
00296                                 \textcolor{keywordtype}{int} px = r, py = c1;
00297                                 \textcolor{keywordflow}{if} (px) ++px;
00298                                 \textcolor{keywordflow}{if} (py) ++py;
00299                                 acMvCol[0] = col\_refs[px*8 + py*2];
00300                                 \textcolor{keywordflow}{if} (acMvCol[0].refno<0)
00301                                 \{
00302                                         acMvCol[0] = col\_refs[px*8 + py*2 + 1];
00303                                 \}
00304                                 scRefIdxCol = acMvCol[0].\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00305                         \}
00306                         \textcolor{comment}{//else}
00307                         \textcolor{comment}{//\{}
00308                                 \textcolor{comment}{//===== THIS SHALL NEVER BE CALLED FOR INTERLACED
       SEQUENCES =====}
00309                         \textcolor{comment}{//      xGetColocatedMvsRefIdxNonInterlaced( acMvCol, scR
      efIdxCol, eParIdx );}
00310                         \textcolor{comment}{//\}}
00311 
00312                         bAllColNonZero = ( scRefIdxCol != 0 );
00313                 \}
00314 
00315                 \textcolor{keywordflow}{if}( ! bAllColNonZero )
00316                 \{
00317                         bColZeroFlagBlk0   = ( abs(acMvCol[0].x) <= 1 && abs(acMv
      Col[0].y) <= 1 );
00318 
00319                         \textcolor{comment}{//if( ! b8x8 )}
00320                         \textcolor{comment}{//\{}
00321                         \textcolor{comment}{//      bColZeroFlagBlk1 = ( acMvCol[1].getAbsHor() <= 1 
      && acMvCol[1].getAbsVer() <= 1 );}
00322                         \textcolor{comment}{//      bColZeroFlagBlk2 = ( acMvCol[2].getAbsHor() <= 1 
      && acMvCol[2].getAbsVer() <= 1 );}
00323                         \textcolor{comment}{//      bColZeroFlagBlk3 = ( acMvCol[3].getAbsHor() <= 1 
      && acMvCol[3].getAbsVer() <= 1 );}
00324                         \textcolor{comment}{//\}}
00325                 \}
00326         \}
00327 
00328         \textcolor{comment}{//===== set motion vectors and reference frames =====}
00329         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i)
00330         \{
00331                 \textcolor{keywordtype}{int} listId = i;
00332                 \textcolor{keywordtype}{int}         scRefIdx          = ascRefIdx[ listId ];
00333 
00334                 \hyperlink{_types_8h_a76a8b016e5ad61faf9062cc387df5016}{Bool}          bZeroMv;
00335 
00336 
00337 
00338                 \textcolor{comment}{//----- set motion vectors -----}
00339                 \textcolor{comment}{//if( /*b8x8 ||*/ bAllColNonZero || scRefIdx < 0 )}
00340                 \{
00341                         bZeroMv         = ( bDirectZeroPred || scRefIdx < 0 || ( 
      scRefIdx == 0 && bColZeroFlagBlk0 ) );
00342                         \textcolor{keywordflow}{if} (bZeroMv)
00343                         \{
00344                                 ref[listId].\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = 0;
00345                                 ref[listId].\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = 0;
00346                         \}
00347                         \textcolor{comment}{//const Mv& rcMv  = ( bZeroMv ? Mv::ZeroMv() : acMvPred [
       listId ] );}
00348                         \textcolor{comment}{//rcMbMotionDataLX.setAllMv( rcMv, eParIdx );}
00349                 \}
00350                 \textcolor{comment}{/*}
00351 \textcolor{comment}{                else}
00352 \textcolor{comment}{                \{}
00353 \textcolor{comment}{                        bZeroMv         = ( scRefIdx == 1 && bColZeroFlagBlk0 );}
00354 \textcolor{comment}{                        const Mv& rcMv0 = ( bZeroMv ? Mv::ZeroMv() : acMvPred [ e
      ListIdx ] );}
00355 \textcolor{comment}{                        rcMbMotionDataLX.setAllMv( rcMv0, eParIdx, SPART\_4x4\_0 );
      }
00356 \textcolor{comment}{}
00357 \textcolor{comment}{                        bZeroMv         = ( scRefIdx == 1 && bColZeroFlagBlk1 );}
00358 \textcolor{comment}{                        const Mv& rcMv1 = ( bZeroMv ? Mv::ZeroMv() : acMvPred [ e
      ListIdx ] );}
00359 \textcolor{comment}{                        rcMbMotionDataLX.setAllMv( rcMv1, eParIdx, SPART\_4x4\_1 );
      }
00360 \textcolor{comment}{}
00361 \textcolor{comment}{                        bZeroMv         = ( scRefIdx == 1 && bColZeroFlagBlk2 );}
00362 \textcolor{comment}{                        const Mv& rcMv2 = ( bZeroMv ? Mv::ZeroMv() : acMvPred [ e
      ListIdx ] );}
00363 \textcolor{comment}{                        rcMbMotionDataLX.setAllMv( rcMv2, eParIdx, SPART\_4x4\_2 );
      }
00364 \textcolor{comment}{}
00365 \textcolor{comment}{                        bZeroMv         = ( scRefIdx == 1 && bColZeroFlagBlk3 );}
00366 \textcolor{comment}{                        const Mv& rcMv3 = ( bZeroMv ? Mv::ZeroMv() : acMvPred [ e
      ListIdx ] );}
00367 \textcolor{comment}{                        rcMbMotionDataLX.setAllMv( rcMv3, eParIdx, SPART\_4x4\_3 );
      }
00368 \textcolor{comment}{                \}}
00369 \textcolor{comment}{                */}
00370 
00371 
00372                 \textcolor{comment}{//----- set reference indices and reference pictures -----}
00373                 \textcolor{comment}{/*}
00374 \textcolor{comment}{                rcMbMotionDataLX.setRefIdx ( scRefIdx,  eParIdx );}
00375 \textcolor{comment}{}
00376 \textcolor{comment}{                if( m\_rcSliceHeader.getRefPicList( getMbPicType(), eListIdx ).siz
      e() )}
00377 \textcolor{comment}{                \{}
00378 \textcolor{comment}{                        const Frame* pcFrame = ( scRefIdx < 1 ? 0 : m\_rcSliceHead
      er.getRefPic ( scRefIdx, getMbPicType(), eListIdx ).getFrame() );}
00379 \textcolor{comment}{                        rcMbMotionDataLX.setRefPic ( pcFrame,   eParIdx );}
00380 \textcolor{comment}{                \}}
00381 \textcolor{comment}{                */}
00382         \}
00383 
00384 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=401pt]{vlc_pred_8h_a8e3b2d1b28e66aabfcb678547cd94545_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_ab68d6bc1fd9bc79cce8d7ab25983f092}{
\index{vlcPred.h@{vlcPred.h}!getRefXYP@{getRefXYP}}
\index{getRefXYP@{getRefXYP}!vlcPred.h@{vlcPred.h}}
\subsubsection[{getRefXYP}]{\setlength{\rightskip}{0pt plus 5cm}void getRefXYP ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em r}, \/  int {\em c1}, \/  int {\em c2}, \/  {\bf refVector} \& {\em ref}, \/  bool {\em allowAboveRight}, \/  int {\em type}, \/  int {\em prefered})}}
\label{vlc_pred_8h_ab68d6bc1fd9bc79cce8d7ab25983f092}




\begin{footnotesize}\begin{alltt}
00063 \{
00064         \hyperlink{vlc_pred_8cpp_a1948c1579087f1b413f0db7dfdb3ca2c}{getRefXY}(ref\_list, 0, r, c1, c2, ref, allowAboveRight, type, prefered);
00065         \textcolor{keywordflow}{if} (ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} < 0)
00066         \{
00067                 ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x} = ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y} = ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} = 0;
00068         \}
00069 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=100pt]{vlc_pred_8h_ab68d6bc1fd9bc79cce8d7ab25983f092_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{vlc_pred_8h_ab68d6bc1fd9bc79cce8d7ab25983f092_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_a502428eb3f92a2a6d112ad25f756c233}{
\index{vlcPred.h@{vlcPred.h}!set\_\-chroma\_\-pred@{set\_\-chroma\_\-pred}}
\index{set\_\-chroma\_\-pred@{set\_\-chroma\_\-pred}!vlcPred.h@{vlcPred.h}}
\subsubsection[{set\_\-chroma\_\-pred}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline void set\_\-chroma\_\-pred ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em index}, \/  int {\em value})}}
\label{vlc_pred_8h_a502428eb3f92a2a6d112ad25f756c233}




\begin{footnotesize}\begin{alltt}
00069 \{
00070         \textcolor{keywordtype}{int} row = index >> 1, col = ((index & 4) >> 1) | (index & 1);
00071         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[row].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC} = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[col].\hyperlink{structtag__cavlc__ref_a38397a4aa7f4f450d2bed25146783b22}{coeffC} = value;
00072 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{vlc_pred_8h_a502428eb3f92a2a6d112ad25f756c233_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_a534c4d1461b465b86fa6ed3294f7fc93}{
\index{vlcPred.h@{vlcPred.h}!set\_\-luma\_\-pred@{set\_\-luma\_\-pred}}
\index{set\_\-luma\_\-pred@{set\_\-luma\_\-pred}!vlcPred.h@{vlcPred.h}}
\subsubsection[{set\_\-luma\_\-pred}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline void set\_\-luma\_\-pred ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em idx}, \/  int {\em value})}}
\label{vlc_pred_8h_a534c4d1461b465b86fa6ed3294f7fc93}




\begin{footnotesize}\begin{alltt}
00037 \{
00038         \textcolor{keywordtype}{int} row = idx / 4, col = idx & 3;
00039         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[row].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff} = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[col].\hyperlink{structtag__cavlc__ref_a4fc396cd8d03fbd50466ff12a4785529}{coeff} = value;
00040 \}
\end{alltt}\end{footnotesize}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=420pt]{vlc_pred_8h_a534c4d1461b465b86fa6ed3294f7fc93_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_adbc92a1e88185df25667d24d445187a5}{
\index{vlcPred.h@{vlcPred.h}!set\_\-mode\_\-pred@{set\_\-mode\_\-pred}}
\index{set\_\-mode\_\-pred@{set\_\-mode\_\-pred}!vlcPred.h@{vlcPred.h}}
\subsubsection[{set\_\-mode\_\-pred}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline void set\_\-mode\_\-pred ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em idx}, \/  int {\em value})}}
\label{vlc_pred_8h_adbc92a1e88185df25667d24d445187a5}




\begin{footnotesize}\begin{alltt}
00053 \{
00054         \textcolor{keywordtype}{int} row = idx / 4, col = idx & 3;
00055         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[row].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[col].\hyperlink{structtag__cavlc__ref_a76c8b0c75a3a13a59196c89cf919766f}{imode} = value;
00056 \}
\end{alltt}\end{footnotesize}


\hypertarget{vlc_pred_8h_a67188506ef8e9d56877d891049189578}{
\index{vlcPred.h@{vlcPred.h}!setRefXY@{setRefXY}}
\index{setRefXY@{setRefXY}!vlcPred.h@{vlcPred.h}}
\subsubsection[{setRefXY}]{\setlength{\rightskip}{0pt plus 5cm}void setRefXY ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em indexId}, \/  int {\em r}, \/  int {\em c}, \/  {\bf refVector} \& {\em ref})}}
\label{vlc_pred_8h_a67188506ef8e9d56877d891049189578}




\begin{footnotesize}\begin{alltt}
00167 \{
00168         \textcolor{comment}{//const int refno = ref.refno;}
00169         ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId] = ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00170         ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c].\hyperlink{structtag__cavlc__ref_a071bb830fe08f1df5618d391ed428221}{refid}[listId] = ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno};
00171         \textcolor{keywordflow}{if} (ref.\hyperlink{structref_vector_a87a1d38b9e235b983b82abd3a0eb47ab}{refno} == -1)
00172         \{
00173                 ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId] = 0x2000;
00174                 ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId] = 0x2000;
00175                 ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId] = 0x2000;
00176                 ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId] = 0x2000;
00177         \}
00178         \textcolor{keywordflow}{else}
00179         \{
00180                 ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId] = ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00181                 ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c].\hyperlink{structtag__cavlc__ref_a890a9186d3db3787c7a451e51f4fc0bf}{mv_x}[listId] = ref.\hyperlink{structref_vector_adeb9dca3f08b25112b9f6bccb5002f48}{x};
00182                 ref\_list->\hyperlink{structtag__cavlc__ref__list_a854c970004394513901757cc3dcb65e5}{left}[r].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId] = ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00183                 ref\_list->\hyperlink{structtag__cavlc__ref__list_af93b34de26224281e33b951333a665c7}{top}[c].\hyperlink{structtag__cavlc__ref_abae0c90668fedb380b2cc0773cfa351d}{mv_y}[listId] = ref.\hyperlink{structref_vector_a899825821ce74c5622ea369e32dcf67c}{y};
00184         \}
00185 \}
\end{alltt}\end{footnotesize}


\hypertarget{vlc_pred_8h_a87631dc54f2e2ca4fa038211f5bf07fa}{
\index{vlcPred.h@{vlcPred.h}!setRefXY@{setRefXY}}
\index{setRefXY@{setRefXY}!vlcPred.h@{vlcPred.h}}
\subsubsection[{setRefXY}]{\setlength{\rightskip}{0pt plus 5cm}void setRefXY ({\bf cavlc\_\-ref\_\-list} $\ast$ {\em ref\_\-list}, \/  int {\em r}, \/  int {\em c}, \/  {\bf refVector} \& {\em ref})}}
\label{vlc_pred_8h_a87631dc54f2e2ca4fa038211f5bf07fa}




\begin{footnotesize}\begin{alltt}
00162 \{
00163         \hyperlink{vlc_pred_8cpp_a87631dc54f2e2ca4fa038211f5bf07fa}{setRefXY}(ref\_list, 0, r, c, ref);
00164 \}
\end{alltt}\end{footnotesize}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=96pt]{vlc_pred_8h_a87631dc54f2e2ca4fa038211f5bf07fa_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=384pt]{vlc_pred_8h_a87631dc54f2e2ca4fa038211f5bf07fa_icgraph}
\end{center}
\end{figure}


\hypertarget{vlc_pred_8h_aaadafe85e9b6ba1dcdf88a7bc3167218}{
\index{vlcPred.h@{vlcPred.h}!swap@{swap}}
\index{swap@{swap}!vlcPred.h@{vlcPred.h}}
\subsubsection[{swap}]{\setlength{\rightskip}{0pt plus 5cm}\_\-\_\-inline void swap (int \& {\em a}, \/  int \& {\em b})}}
\label{vlc_pred_8h_aaadafe85e9b6ba1dcdf88a7bc3167218}




\begin{footnotesize}\begin{alltt}
00075 \{
00076         \textcolor{keywordtype}{int} c = a;
00077         a = b; 
00078         b = c;
00079 \}
\end{alltt}\end{footnotesize}


