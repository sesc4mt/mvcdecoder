<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >OpenGL</title
    ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"
     /><meta name="generator" content="pandoc"
     /><script type="text/javascript" src="autosuggest.js"></script>
<script type="text/javascript" src="search_index.js"></script>
<link rel="stylesheet" href="pandoc.css" type="text/css" media="all" />
</head
  ><body
  ><table class="white">
<tr>
<td valign="top" class="sidebar">

<div class="sidebar">
<ul
><li
  ><a href="index.html"
    ><strong
      >Contents</strong
      ></a
    ></li
  ><li
  ><a href="config.html"
    >Configuration files</a
    ></li
  ><li
  ><a href="display.html"
    >Display</a
    ></li
  ><li
  ><a href="events.html"
    >Events</a
    ></li
  ><li
  ><a href="file.html"
    >File I/O</a
    ></li
  ><li
  ><a href="fshook.html"
    >Filesystem</a
    ></li
  ><li
  ><a href="fixed.html"
    >Fixed</a
    ></li
  ><li
  ><a href="graphics.html"
    >Graphics</a
    ></li
  ><li
  ><a href="joystick.html"
    >Joystick</a
    ></li
  ><li
  ><a href="keyboard.html"
    >Keyboard</a
    ></li
  ><li
  ><a href="memory.html"
    >Memory</a
    ></li
  ><li
  ><a href="misc.html"
    >Miscellaneous</a
    ></li
  ><li
  ><a href="mouse.html"
    >Mouse</a
    ></li
  ><li
  ><a href="opengl.html"
    >OpenGL</a
    ></li
  ><li
  ><a href="path.html"
    >Path</a
    ></li
  ><li
  ><a href="platform.html"
    >Platform-specific</a
    ></li
  ><li
  ><a href="state.html"
    >State</a
    ></li
  ><li
  ><a href="system.html"
    >System</a
    ></li
  ><li
  ><a href="threads.html"
    >Threads</a
    ></li
  ><li
  ><a href="time.html"
    >Time</a
    ></li
  ><li
  ><a href="timer.html"
    >Timer</a
    ></li
  ><li
  ><a href="transformations.html"
    >Transformations</a
    ></li
  ><li
  ><a href="utf8.html"
    >UTF-8</a
    ></li
  ><li
  ><a href="index.html#addons"
    ><strong
      >Addons</strong
      ></a
    ></li
  ><li
  ><a href="audio.html"
    >Audio addon</a
    ></li
  ><li
  ><a href="acodec.html"
    >Audio codecs</a
    ></li
  ><li
  ><a href="color.html"
    >Color addon</a
    ></li
  ><li
  ><a href="font.html"
    >Font addons</a
    ></li
  ><li
  ><a href="image.html"
    >Image I/O addon</a
    ></li
  ><li
  ><a href="native_dialog.html"
    >Native dialogs addon</a
    ></li
  ><li
  ><a href="physfs.html"
    >PhysicsFS addon</a
    ></li
  ><li
  ><a href="primitives.html"
    >Primitives addon</a
    ></li
  ></ul
><!-- keep blank line for correct HTML -->
</div>

<div class="searchbox">
<script type="text/javascript">
function on_search(index, control) {
    for (i = 0; i < search_index.length; i++) {
        if (search_index[i] == control.keywords[index]) {
            break;
        }
    }
    location.href = search_urls[i];
}
</script>Search<br /> <input type="text" name="q" id="q" size="15" autocomplete="off" /><br /><script type="text/javascript"> new autosuggest("q", search_index, null, on_search); </script>
</div>

</td>
<td class="content">


<h1 class="title"
    >OpenGL</h1
    ><div id="TOC"
    ><ul
      ><li
	><a href="#al_get_opengl_extension_list"
	  >al_get_opengl_extension_list</a
	  ></li
	><li
	><a href="#al_get_opengl_proc_address"
	  >al_get_opengl_proc_address</a
	  ></li
	><li
	><a href="#al_get_opengl_texture"
	  >al_get_opengl_texture</a
	  ></li
	><li
	><a href="#al_get_opengl_texture_size"
	  >al_get_opengl_texture_size</a
	  ></li
	><li
	><a href="#al_get_opengl_texture_position"
	  >al_get_opengl_texture_position</a
	  ></li
	><li
	><a href="#al_get_opengl_fbo"
	  >al_get_opengl_fbo</a
	  ></li
	><li
	><a href="#al_remove_opengl_fbo"
	  >al_remove_opengl_fbo</a
	  ></li
	><li
	><a href="#al_is_opengl_extension_supported"
	  >al_is_opengl_extension_supported</a
	  ></li
	><li
	><a href="#al_get_opengl_version"
	  >al_get_opengl_version</a
	  ></li
	><li
	><a href="#opengl-configuration"
	  >OpenGL configuration</a
	  ></li
	></ul
      ></div
    ><p
    >These functions are declared in the following header file:</p
    ><pre
    ><code
      >#include &lt;allegro5/allegro_opengl.h&gt;
</code
      ></pre
    ><div id="al_get_opengl_extension_list"
    ><h1
      ><a href="#TOC"
	>al_get_opengl_extension_list</a
	></h1
      ><pre
      ><code
	>ALLEGRO_OGL_EXT_LIST *al_get_opengl_extension_list(void)
</code
	></pre
      ><p
      >Returns the list of OpenGL extensions supported by Allegro, for the current display.</p
      ><p
      >Allegro will keep information about all extensions it knows about in a structure returned by <code
	>al_get_opengl_extension_list</code
	>.</p
      ><p
      >For example:</p
      ><pre
      ><code
	>if (al_get_opengl_extension_list()-&gt;ALLEGRO_GL_ARB_multitexture) {
    use it
}
</code
	></pre
      ><p
      >The extension will be set to true if available for the current display and false otherwise. This means to use the definitions and functions from an OpenGL extension, all you need to do is to check for it as above at run time, after acquiring the OpenGL display from Allegro.</p
      ><p
      >Under Windows, this will also work with WGL extensions, and under Unix with GLX extensions.</p
      ><p
      >In case you want to manually check for extensions and load function pointers yourself (say, in case the Allegro developers did not include it yet), you can use the <a href="opengl.html#al_is_opengl_extension_supported"
	>al_is_opengl_extension_supported</a
	> and <a href="opengl.html#al_get_opengl_proc_address"
	>al_get_opengl_proc_address</a
	> functions instead.</p
      ></div
    ><div id="al_get_opengl_proc_address"
    ><h1
      ><a href="#TOC"
	>al_get_opengl_proc_address</a
	></h1
      ><pre
      ><code
	>void *al_get_opengl_proc_address(const char *name)
</code
	></pre
      ><p
      >Helper to get the address of an OpenGL symbol</p
      ><p
      >Example:</p
      ><p
      >How to get the function <em
	>glMultiTexCoord3fARB</em
	> that comes with ARB's Multitexture extension:</p
      ><pre
      ><code
	>// define the type of the function
   ALLEGRO_DEFINE_PROC_TYPE(void, MULTI_TEX_FUNC,
      (GLenum, GLfloat, GLfloat, GLfloat));
// declare the function pointer
   MULTI_TEX_FUNC glMultiTexCoord3fARB;
// get the address of the function
   glMultiTexCoord3fARB = (MULTI_TEX_FUNC) al_get_opengl_proc_address(
      &quot;glMultiTexCoord3fARB&quot;);
</code
	></pre
      ><p
      >If <em
	>glMultiTexCoord3fARB</em
	> is not NULL then it can be used as if it has been defined in the OpenGL core library. Note that the use of the ALLEGRO_DEFINE_PROC_TYPE macro is mandatory if you want your program to be portable.</p
      ><p
      >Parameters:</p
      ><p
      >name - The name of the symbol you want to link to.</p
      ><p
      ><em
	>Return value:</em
	></p
      ><p
      >A pointer to the symbol if available or NULL otherwise.</p
      ></div
    ><div id="al_get_opengl_texture"
    ><h1
      ><a href="#TOC"
	>al_get_opengl_texture</a
	></h1
      ><pre
      ><code
	>GLuint al_get_opengl_texture(ALLEGRO_BITMAP *bitmap)
</code
	></pre
      ><p
      >Returns the OpenGL texture id internally used by the given bitmap if it uses one, else 0.</p
      ><p
      >Example:</p
      ><pre
      ><code
	>bitmap = al_load_bitmap(&quot;my_texture.png&quot;);
texture = al_get_opengl_texture(bitmap);
if (texture != 0)
    glBindTexture(GL_TEXTURE_2D, texture);
</code
	></pre
      ></div
    ><div id="al_get_opengl_texture_size"
    ><h1
      ><a href="#TOC"
	>al_get_opengl_texture_size</a
	></h1
      ><pre
      ><code
	>void al_get_opengl_texture_size(ALLEGRO_BITMAP *bitmap, int *w, int *h)
</code
	></pre
      ><p
      >Retrieves the size of the texture used for the bitmap. This can be different from the bitmap size if OpenGL only supports power-of-two sizes or if it is a sub-bitmap.</p
      ></div
    ><div id="al_get_opengl_texture_position"
    ><h1
      ><a href="#TOC"
	>al_get_opengl_texture_position</a
	></h1
      ><pre
      ><code
	>void al_get_opengl_texture_position(ALLEGRO_BITMAP *bitmap, int *u, int *v)
</code
	></pre
      ><p
      >Returns the u/v coordinates for the top/left corner of the bitmap within the used texture, in pixels.</p
      ></div
    ><div id="al_get_opengl_fbo"
    ><h1
      ><a href="#TOC"
	>al_get_opengl_fbo</a
	></h1
      ><pre
      ><code
	>GLuint al_get_opengl_fbo(ALLEGRO_BITMAP *bitmap)
</code
	></pre
      ><p
      >Returns the OpenGL FBO id internally used by the given bitmap if it uses one, else 0. An FBO is created for a bitmap when you call <a href="graphics.html#al_set_target_bitmap"
	>al_set_target_bitmap</a
	> for it.</p
      ></div
    ><div id="al_remove_opengl_fbo"
    ><h1
      ><a href="#TOC"
	>al_remove_opengl_fbo</a
	></h1
      ><pre
      ><code
	>void al_remove_opengl_fbo(ALLEGRO_BITMAP *bitmap)
</code
	></pre
      ><p
      >If the bitmap has an OpenGL FBO created for it (see <a href="graphics.html#al_set_target_bitmap"
	>al_set_target_bitmap</a
	>), it is freed. It also is freed automatically when the bitmap is destroyed.</p
      ></div
    ><div id="al_is_opengl_extension_supported"
    ><h1
      ><a href="#TOC"
	>al_is_opengl_extension_supported</a
	></h1
      ><pre
      ><code
	>int al_is_opengl_extension_supported(const char *extension)
</code
	></pre
      ><p
      >This function is a helper to determine whether an OpenGL extension is available on the current display or not.</p
      ><p
      >Example:</p
      ><pre
      ><code
	>int packedpixels = al_is_opengl_extension_supported(&quot;GL_EXT_packed_pixels&quot;);
</code
	></pre
      ><p
      >If <em
	>packedpixels</em
	> is TRUE then you can safely use the constants related to the packed pixels extension.</p
      ><p
      >Parameters:</p
      ><p
      >extension - The name of the extension that is needed</p
      ><p
      ><em
	>Return value:</em
	></p
      ><p
      >TRUE if the extension is available FALSE otherwise.</p
      ></div
    ><div id="al_get_opengl_version"
    ><h1
      ><a href="#TOC"
	>al_get_opengl_version</a
	></h1
      ><pre
      ><code
	>float al_get_opengl_version(void)
</code
	></pre
      ><p
      >Returns the OpenGL version number of the client (the computer the program is running on), for the current DISPLAY. &quot;1.0&quot; is returned as 1.0, &quot;1.2.1&quot; is returned as 1.21, and &quot;1.2.2&quot; as 1.22, etc.</p
      ><p
      >A valid OpenGL context must exist for this function to work, which means you may <em
	>not</em
	> call it before al_create_display().</p
      ></div
    ><div id="opengl-configuration"
    ><h1
      ><a href="#TOC"
	>OpenGL configuration</a
	></h1
      ><p
      >You can disable the detection of any OpenGL extension by Allegro with a section like this in allegro5.cfg:</p
      ><pre
      ><code
	>[opengl_disabled_extensions]
GL_ARB_texture_non_power_of_two=0
GL_EXT_framebuffer_object=0
</code
	></pre
      ><p
      >Any extension which appears in the section is treated as not available (it does not matter if you set it to 0 or any other value).</p
      ></div
    ></td>
</tr>
</table>


<p>
Last updated: 2010-04-01 08:44:58 UTC
</p>
</body
  ></html
>

